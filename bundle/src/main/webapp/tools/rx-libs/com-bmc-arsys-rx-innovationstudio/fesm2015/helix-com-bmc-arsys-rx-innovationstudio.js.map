{"version":3,"file":"helix-com-bmc-arsys-rx-innovationstudio.js","sources":["../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-details/bundle-details.types.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-details/bundle-details.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/copy-definition/copy-definition.types.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/copy-definition/copy-definition.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/copy-definition/copy-definition.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/copy-definition/copy-definition.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/definition-tab/definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/definition-tab/definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/external-data/data-source-data-page.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/external-data/external-data.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/document-selection-step/document-selection-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/document-selection-step/document-selection-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/field-selection-step/field-selection-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/field-selection-step/field-selection-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/field-tree-selection-step/field-tree-selection-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/field-tree-selection-step/field-tree-selection-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/operation-selection-step/operation-selection-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/operation-selection-step/operation-selection-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/record-id-fields-step/record-id-fields-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/record-id-fields-step/record-id-fields-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/table-selection-step/table-selection-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/table-selection-step/table-selection-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/web-api-selection-step/web-api-selection-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/web-api-selection-step/web-api-selection-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/data-source-step/data-source-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/data-source-step/data-source-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/external-record-wizard.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/field-selection-step/field-selection-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/field-selection-step/field-selection-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/join-criteria-step/join-criteria-expression-configurator.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/join-criteria-step/join-criteria-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/join-criteria-step/join-criteria-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/record-definitions-step/record-definitions-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/record-definitions-step/record-definitions-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/join-record-wizard.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/record-definition-tab/record-definition-tab.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/create-custom-record/create-custom-record.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/create-custom-record/create-custom-record.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/create-join-record/join-criteria-expression-configurator.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/create-join-record/create-join-record.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/create-join-record/create-join-record.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/record-definition-tab/record-definition-type.pipe.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/record-definition-tab/record-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/record-definition-tab/record-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/view-definition-tab/view-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/view-definition-tab/view-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-definition-tab/process-definition-tab.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-definition-tab/process-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-definition-tab/process-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/rule-definition-tab/rule-definition-tab.contant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/rule-definition-tab/rule-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/rule-definition-tab/rule-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/association-definition-tab/association-definition-tab.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/association-definition-tab/association-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/association-definition-tab/association-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/named-list-definition-tab/named-list-definition-tab.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/named-list-definition-tab/named-list-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/named-list-definition-tab/named-list-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/document-definition-tab/document-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/document-definition-tab/document-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/web-api-definition-tab/web-api-definition-tab.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/web-api-definition-tab/web-api-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/web-api-definition-tab/web-api-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/event-definition-tab/event-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/event-definition-tab/event-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/event-statistics-definition-tab/event-statistics-definition-tab.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/event-statistics-definition-tab/event-statistics-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/event-statistics-definition-tab/event-statistics-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/chatbot-definition-tab/chatbot-definition-tab.contant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/chatbot-definition-tab/chatbot-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/chatbot-definition-tab/chatbot-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/configuration-definition-tab/admin-setting-editor/admin-setting-editor.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/configuration-definition-tab/admin-setting-editor/admin-setting-editor.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/configuration-definition-tab/configuration-definition-tab.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/configuration-definition-tab/configuration-definition.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/configuration-definition-tab/configuration-definition-tab.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/configuration-definition-tab/configuration-definition-tab.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-definitions/bundle-definitions.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-definitions/bundle-definitions.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/bundle-deployment/bundle-deployment.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/bundle-deployment/bundle-deployment.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/bundle-deployment/create-package-status-data-page.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/localization/localized-strings-data-page.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-bundle-content-data-wizard-step/add-bundle-content-data-wizard-step.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-bundle-content-data-wizard-step/components/data-filter-column-expression-configurator.class.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-bundle-content-data-wizard-step/components/global-data-filter-expression-configurator.class.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-bundle-content-data-wizard-step/add-bundle-content-data-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-bundle-content-data-wizard-step/add-bundle-content-data-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-data-wizard-step/add-data-wizard-step.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-data-wizard-step/components/data-filter-column-expression-configurator.class.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-data-wizard-step/components/global-data-filter-expression-configurator.class.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-data-wizard-step/add-data-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-data-wizard-step/add-data-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/download-wizard-step/download-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/download-wizard-step/download-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/options-wizard-step/options-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/options-wizard-step/options-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/order-data-wizard-step/order-data-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/order-data-wizard-step/order-data-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/package-wizard-step/package-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/package-wizard-step/package-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-approval-configurations-wizard-step/select-approval-configurations-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-approval-configurations-wizard-step/select-approval-configurations-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-bundle-content-definitions-wizard-step/select-bundle-content-definitions-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-bundle-content-definitions-wizard-step/select-bundle-content-definitions-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-definitions-to-delete-wizard-step/definition-history-data-page.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-definitions-to-delete-wizard-step/select-definitions-to-delete-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-definitions-to-delete-wizard-step/select-definitions-to-delete-wizard-step.components.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-definitions-wizard-step/select-definitions-wizard-step.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-definitions-wizard-step/select-definitions-wizard-step.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/bundle-deployment/bundle-packaging.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/content-package-import-logs/content-package-import-logs.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/content-package-import-logs/content-package-import-logs.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/content-package-import-logs/content-package-import-logs.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/manage-content-packages/manage-content-packages.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/manage-content-packages/manage-content-packages.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-details/bundle-details.class.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-details/bundle-details.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-details/bundle-details.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/data-editor/record-editor-builder.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/data-editor/record-data-editor.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/data-editor/record-data-editor.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/designer-frame/designer-frame.const.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/designer-frame/designer-frame.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/designer-frame/designer-frame.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-management.constant.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-preview-modal/process-preview-modal.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-preview-modal/process-preview-modal.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-management.service.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-run-modal/process-run-modal.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-run-modal/process-run-modal.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-view-log-modal/process-view-log-modal.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-view-log-modal/process-view-log-modal.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-management.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-management.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/view-definition-tab/valid-view-definition.guard.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/workspace/create-bundle-modal/create-bundle-modal.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/workspace/create-bundle-modal/create-bundle-modal.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/workspace/workspace.types.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/workspace/workspace.component.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/workspace/workspace.component.html","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/bundle-resolver/bundle.resolver.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/legacy-shell-guard/legacy-shell.guard.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/legacy-view-guard/legacy-view.guard.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/services/valid-bundle-guard/valid-bundle.guard.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/com-bmc-arsys-rx-innovationstudio-routing.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/definition-tab/definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/association-definition-tab/association-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/document-definition-tab/document-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/create-custom-record/create-custom-record.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/create-join-record/create-join-record.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/external-record-wizard/external-record-wizard.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/join-record-wizard/join-record-wizard.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/record-definition-tab/record-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/view-definition-tab/view-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-run-modal/process-run-modal.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-preview-modal/process-preview-modal.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-view-log-modal/process-view-log-modal.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-management/process-management.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/process-definition-tab/process-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/rule-definition-tab/rule-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/named-list-definition-tab/named-list-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/web-api-definition-tab/web-api-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/chatbot-definition-tab/chatbot-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/event-definition-tab/event-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/event-statistics-definition-tab/event-statistics-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/configuration-definition-tab/configuration-definition-tab.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-definitions/bundle-definitions.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-bundle-content-data-wizard-step/add-bundle-content-data-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/add-data-wizard-step/add-data-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/download-wizard-step/download-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/options-wizard-step/options-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/order-data-wizard-step/order-data-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/package-wizard-step/package-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-approval-configurations-wizard-step/select-approval-configurations-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-bundle-content-definitions-wizard-step/select-bundle-content-definitions-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-definitions-to-delete-wizard-step/select-definitions-to-delete-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-definitions-wizard-step/select-definitions-wizard-step.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/content-package-import-logs/content-package-import-logs.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/manage-content-packages/manage-content-packages.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-details/bundle-details.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/data-editor/record-data-editor.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/designer-frame/designer-frame.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/workspace/create-bundle-modal/create-bundle-modal.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/workspace/workspace.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/copy-definition/copy-definition.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/com-bmc-arsys-rx-innovationstudio.module.ts","../../../../libs/com-bmc-arsys-rx-innovationstudio/src/helix-com-bmc-arsys-rx-innovationstudio.ts"],"sourcesContent":["import { IBundleDescriptor } from '@helix/platform/shared/api';\n\nexport enum BundleDefinitionTab {\n  Records = 'record-definitions',\n  Views = 'view-definitions',\n  Processes = 'process-definitions',\n  Rules = 'rule-definitions',\n  Associations = 'association-definitions',\n  NamedLists = 'named-list-definitions',\n  Documents = 'document-definitions',\n  WebAPIs = 'web-api-definitions',\n  Events = 'event-definitions',\n  EventStatistics = 'event-statistics-definitions',\n  Chatbots = 'chatbot-definitions',\n  Configurations = 'config-definitions'\n}\n\nexport enum PackageTypes {\n  Content = 'CONTENT',\n  Install = 'INSTALL',\n  Update = 'UPDATE'\n}\n\nexport interface IDefinitionActionConfig {\n  labelKey?: string;\n  rxId?: string;\n  id?: string;\n  isDisabled?: boolean;\n  icon?: string;\n  groupTitle?: string;\n  subActions?: IDefinitionActionConfig[];\n}\n\nexport interface IDeploymentPackageDescriptor {\n  approvalConfigurationQueryOptions?: any;\n  containsJavaScript: boolean;\n  dataImportOptionsByRecordDefinitionName: {};\n  definitionsToDeployByType: {};\n  definitionsToDeleteByType: {};\n  dependentBundles?: {\n    id: string;\n    name: string;\n    version: string;\n  }[];\n  description: string;\n  duplicateDataActionTypeForConfigurationData: string;\n  developerName: string;\n  friendlyName: string;\n  hasCustomEntryPoint: boolean;\n  id: string;\n  isApplication: boolean;\n  isConfigurationDataIncluded: boolean;\n  name: string;\n  overlayGroupId: string;\n  packageType: PackageTypes;\n  bundleUpdateFromVersion?: string;\n  userRequestedDependentBundles: null;\n  version: string;\n}\n\nexport interface IUpdateDeploymentPackageDescriptor extends IDeploymentPackageDescriptor {\n  bundleUpdateFromVersion: string;\n}\n\nexport interface IContentDeploymentPackageDescriptor extends IDeploymentPackageDescriptor {\n  customPackageName: string;\n}\n\nexport interface ICreateInstallPackageContext {\n  bundleDetails: IBundleDescriptor;\n  cache?: any;\n  bundleDescriptors: IBundleDescriptor[];\n  deploymentPackageDescriptor: IDeploymentPackageDescriptor;\n  isPackageDataModified?: boolean;\n  packageGuid?: string;\n}\n\nexport interface ICreateUpdatePackageContext extends ICreateInstallPackageContext {\n  deploymentPackageDescriptor: IUpdateDeploymentPackageDescriptor;\n}\n\nexport interface ICreateContentPackageContext extends ICreateInstallPackageContext {\n  bundleFriendlyNamesById: { [id: string]: string };\n  deploymentPackageDescriptor: IContentDeploymentPackageDescriptor;\n}\n","import { BundleDefinitionTab } from './bundle-details.types';\n\nconst standardDefinitionActionNames = {\n  new: 'new',\n  copy: 'copy',\n  delete: 'delete',\n  rename: 'rename',\n  revertCustomization: 'revert-customization'\n};\n\nexport const AX_BUNDLE_DETAILS = {\n  standardDefinitionActionNames,\n  standardDefinitionActions: {\n    [standardDefinitionActionNames.copy]: {\n      labelKey: 'com.bmc.arsys.rx.client.common.copy.label',\n      id: standardDefinitionActionNames.copy,\n      disabled: true,\n      rxId: 'copy-button',\n      icon: 'files_copy_o'\n    },\n    [standardDefinitionActionNames.new]: {\n      labelKey: 'com.bmc.arsys.rx.client.common.new.label',\n      id: standardDefinitionActionNames.new,\n      disabled: true,\n      rxId: 'new-button',\n      icon: 'plus_circle'\n    },\n    [standardDefinitionActionNames.delete]: {\n      labelKey: 'com.bmc.arsys.rx.client.common.delete.label',\n      id: standardDefinitionActionNames.delete,\n      disabled: true,\n      rxId: 'delete-button',\n      icon: 'trash'\n    },\n    [standardDefinitionActionNames.rename]: {\n      labelKey: 'com.bmc.arsys.rx.client.common.rename.label',\n      id: standardDefinitionActionNames.rename,\n      disabled: true,\n      rxId: 'rename-button',\n      icon: 'field_text'\n    },\n    [standardDefinitionActionNames.revertCustomization]: {\n      labelKey: 'com.bmc.arsys.rx.innovation-studio.definition-actions.revert-customization.label',\n      id: standardDefinitionActionNames.revertCustomization,\n      disabled: true,\n      rxId: 'revert-button',\n      icon: 'undo'\n    }\n  },\n  definitionGridColumns: {\n    name: {\n      title: 'com.bmc.arsys.rx.client.common.name.label',\n      fieldId: 'name'\n    },\n    scope: {\n      title: 'com.bmc.arsys.rx.client.admin.web-api-connections.scope.label',\n      fieldId: 'scope',\n      visible: false\n    },\n    customizationPerspective: {\n      title: 'com.bmc.arsys.rx.client.admin.cognitive-search.status.label',\n      fieldId: 'customizationPerspective',\n      visible: false\n    },\n    lastUpdateTime: {\n      title: 'com.bmc.arsys.rx.client.admin.cognitive-training.modified-date.label',\n      fieldId: 'lastUpdateTime'\n    },\n    lastChangedBy: {\n      title: 'com.bmc.arsys.rx.client.common.modified-by.label',\n      fieldId: 'lastChangedBy'\n    },\n    isEnabled: {\n      title: 'com.bmc.arsys.rx.client.approval.notification-configuration.enabled-field.label',\n      fieldId: 'isEnabled'\n    }\n  },\n  configurationGridColumns: {\n    component: {\n      title: 'com.bmc.arsys.rx.client.common.name.label',\n      fieldId: 'component'\n    },\n    componentType: {\n      title: 'com.bmc.arsys.rx.client.common.item-type.label',\n      fieldId: 'componentType'\n    },\n    status: {\n      title: 'com.bmc.arsys.rx.client.common.status.label',\n      fieldId: 'status'\n    }\n  },\n  tabs: [\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.records.label',\n      id: BundleDefinitionTab.Records\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.views.label',\n      id: BundleDefinitionTab.Views\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.processes.label',\n      id: BundleDefinitionTab.Processes\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.rules.label',\n      id: BundleDefinitionTab.Rules\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.associations.label',\n      id: BundleDefinitionTab.Associations\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.named-lists.label',\n      id: BundleDefinitionTab.NamedLists\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.documents.label',\n      id: BundleDefinitionTab.Documents\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.web-apis.label',\n      id: BundleDefinitionTab.WebAPIs\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.events.label',\n      id: BundleDefinitionTab.Events\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.event-statistics.label',\n      id: BundleDefinitionTab.EventStatistics\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.chatbots.label',\n      id: BundleDefinitionTab.Chatbots\n    },\n    {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.label',\n      id: BundleDefinitionTab.Configurations\n    }\n  ],\n  errorCodes: {\n    packageCreationAlreadyInProgress: 6117\n  },\n  packageExportStatuses: {\n    packageCreated: 'PackageCreated',\n    pendingPackageCreate: 'PendingPackageCreate',\n    error: 'Error'\n  },\n  packageDeployStatuses: {\n    error: 'Error',\n    deployed: 'Deployed'\n  },\n  duplicateDataActions: {\n    create: {\n      value: 'CREATE_NEW_RECORD',\n      displayName: 'Create New'\n    },\n    ignore: {\n      value: 'THROW_ERROR',\n      displayName: 'Ignore'\n    },\n    merge: {\n      value: 'MERGE',\n      displayName: 'Merge'\n    },\n    overwrite: {\n      value: 'REPLACE',\n      displayName: 'Overwrite'\n    }\n  },\n  definitionTypes: {\n    association: 'ASSOCIATION',\n    document: 'DOCUMENT',\n    event: 'EVENT',\n    eventStatistics: 'EVENT_STATISTICS',\n    namedList: 'NAMED_LIST',\n    process: 'PROCESS',\n    record: 'RECORD',\n    rule: 'RULE',\n    view: 'VIEW',\n    webApi: 'WEBAPI'\n  }\n};\n","export const RX_COPY_DEFINITION = {\n  resourceType: 'com.bmc.arsys.rx.application.common.CopyDefinitionCommand'\n};\n\nexport enum CopyDefinitionType {\n  Document = 'document',\n  Event = 'event',\n  EventStatistics = 'event-statistics',\n  NamedList = 'named-list',\n  Process = 'process',\n  Record = 'record',\n  Rule = 'rule',\n  View = 'view',\n  WebApi = 'web-api'\n}\n\nexport const copyDefinitionTypeMap = {\n  [CopyDefinitionType.Document]: 'DOCUMENT_DEFINITION',\n  [CopyDefinitionType.Event]: 'EVENT_DEFINITION',\n  [CopyDefinitionType.EventStatistics]: 'EVENT_STATISTICS_DEFINITION',\n  [CopyDefinitionType.NamedList]: 'NAMED_LIST',\n  [CopyDefinitionType.Process]: 'PROCESS_DEFINITION',\n  [CopyDefinitionType.Record]: 'RECORD_DEFINITION',\n  [CopyDefinitionType.Rule]: 'RULE_DEFINITION',\n  [CopyDefinitionType.View]: 'VIEW_DEFINITION',\n  [CopyDefinitionType.WebApi]: 'WEBAPI_DEFINITION'\n};\n\nexport interface ICopyConfig {\n  definitionName: string;\n  definitionType: string;\n  editFragment?: string;\n}\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport {\n  IBundleDescriptor,\n  RX_APPLICATION,\n  RX_RESOURCE_URLS,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxNotificationService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { castArray } from 'lodash';\nimport { finalize, map, startWith, tap } from 'rxjs/operators';\nimport { copyDefinitionTypeMap, ICopyConfig, RX_COPY_DEFINITION } from './copy-definition.types';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'ax-copy-definition',\n  templateUrl: './copy-definition.component.html'\n})\nexport class CopyDefinitionComponent extends RxModalClass {\n  @ViewChild('selectBundleForm')\n  selectBundleForm: NgForm;\n\n  targetBundle: IBundleDescriptor[] = [];\n  config: ICopyConfig;\n  definitionDisplayName: string;\n  autoFocusTargetBundleField = true;\n  bundles$: Observable<IBundleDescriptor[]>;\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private rxOverlayService: RxOverlayService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxNotificationService: RxNotificationService,\n    private router: Router,\n    private translateService: TranslateService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private httpClient: HttpClient,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n\n    this.config = this.activeModalRef.getData();\n    this.definitionDisplayName = this.rxDefinitionNameService.getDisplayName(this.config.definitionName);\n\n    this.bundles$ = this.rxGlobalCacheService.getBundleDescriptors().pipe(\n      startWith([]),\n      map((bundleDescriptors: IBundleDescriptor[]) =>\n        bundleDescriptors\n          .filter(\n            (bundleDescriptor) =>\n              ![\n                RX_APPLICATION.settingsBundleId,\n                RX_APPLICATION.standardlib,\n                RX_APPLICATION.innovationStudioBundleId,\n                RX_APPLICATION.platformBundleId\n              ].includes(bundleDescriptor.id) && this.rxOverlayService.areNewDefinitionsAllowedSync(bundleDescriptor)\n          )\n          .sort((bundle, bundleToCompare) => bundle.friendlyName.localeCompare(bundleToCompare.friendlyName))\n      ),\n      tap((bundleDescriptors: IBundleDescriptor[]) => {\n        const sourceBundleDescriptor = bundleDescriptors.find(\n          (bundle) => bundle.id === this.rxDefinitionNameService.getBundleId(this.config.definitionName)\n        );\n\n        if (sourceBundleDescriptor) {\n          this.targetBundle = castArray(sourceBundleDescriptor);\n          this.autoFocusTargetBundleField = false;\n        }\n      })\n    );\n  }\n\n  isDirty(): boolean {\n    return this.selectBundleForm.dirty;\n  }\n\n  optionFormatter(bundleDescriptor: IBundleDescriptor): string {\n    return bundleDescriptor.friendlyName;\n  }\n\n  copyDefinition(): void {\n    const targetDefinitionName = this.rxDefinitionNameService.getDefinitionName(\n      this.targetBundle[0].id,\n      this.definitionDisplayName\n    );\n\n    this.allowDismiss = false;\n\n    this.httpClient\n      .post(RX_RESOURCE_URLS.command, {\n        resourceType: RX_COPY_DEFINITION.resourceType,\n        type: copyDefinitionTypeMap[this.config.definitionType],\n        srcName: this.config.definitionName,\n        destName: targetDefinitionName\n      })\n      .pipe(\n        finalize(() => {\n          this.allowDismiss = true;\n        })\n      )\n      .subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant('com.bmc.arsys.rx.innovation-studio.definition-copied.message')\n        );\n\n        this.activeModalRef.close();\n\n        this.router.navigate([\n          RX_APPLICATION.innovationStudioBundleId,\n          this.config.definitionType,\n          this.config.editFragment || 'edit',\n          targetDefinitionName\n        ]);\n      });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.innovation-studio.copy-definition.label' | translate }}\n  </h5>\n  <button\n    class=\"close dp-close\"\n    data-dismiss=\"modal\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <form #selectBundleForm=\"ngForm\">\n    <adapt-rx-select\n      [autofocus]=\"autoFocusTargetBundleField\"\n      rx-id=\"application-name\"\n      required\n      name=\"targetBundle\"\n      [(ngModel)]=\"targetBundle\"\n      [options]=\"bundles$ | async\"\n      [optionFormatter]=\"optionFormatter\"\n      [disabled]=\"!allowDismiss\"\n      label=\"{{ 'com.bmc.arsys.rx.innovation-studio.copy-definition.target-application.label' | translate }}\"\n      class=\"mb-3\"\n    >\n    </adapt-rx-select>\n    <adapt-rx-textfield\n      [autofocus]=\"!autoFocusTargetBundleField\"\n      rx-id=\"definition-name\"\n      class=\"mb-6\"\n      label=\"{{ 'com.bmc.arsys.rx.innovation-studio.definition-name.label' | translate }}\"\n      name=\"definition\"\n      required\n      [(ngModel)]=\"definitionDisplayName\"\n      [disabled]=\"!allowDismiss\"\n    >\n    </adapt-rx-textfield>\n  </form>\n</div>\n\n<div class=\"modal-footer d-flex w-100\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    (click)=\"copyDefinition()\"\n    [disabled]=\"selectBundleForm.pristine || selectBundleForm.invalid || !allowDismiss\"\n    rx-id=\"ok-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.copy.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n    rx-id=\"cancel-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { DefinitionType } from '@helix/platform/shared/api';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { CopyDefinitionComponent } from './copy-definition.component';\nimport { RxModalService } from '@helix/platform/ui-kit';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxCopyDefinitionService {\n  constructor(private rxModalService: RxModalService) {}\n\n  openCopyDefinitionComponentModal(\n    row: IRowDataItem,\n    definitionType: DefinitionType,\n    editFragment?: string\n  ): Promise<any> {\n    return this.rxModalService.openModal({\n      content: CopyDefinitionComponent,\n      data: {\n        definitionName: row.name,\n        definitionType,\n        editFragment\n      },\n      size: 'sm'\n    });\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { IRecordDefinition } from '@helix/platform/record/api';\nimport {\n  DefinitionType,\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RxBundleCacheService,\n  RxSessionExpirationService\n} from '@helix/platform/shared/api';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport {\n  ColumnSortDirection,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, intersectionBy, map } from 'lodash';\nimport { NEVER, Observable, of, ReplaySubject, Subscription } from 'rxjs';\nimport { switchMapTo, takeUntil } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxGainsightConfiguratorService } from '@helix/platform/shared/components';\n\n@Component({\n  selector: 'ax-definition-tab',\n  templateUrl: './definition-tab.component.html',\n  styleUrls: ['./definition-tab.component.scss']\n})\nexport class DefinitionTabComponent implements OnInit, OnDestroy, OnChanges {\n  @ViewChild('customizationStatusCellTemplate', { static: true })\n  customizationStatusCellTemplate: TemplateRef<any>;\n\n  @ViewChild('isEnabledCellTemplate', { static: true })\n  isEnabledCellTemplate: TemplateRef<any>;\n\n  @ViewChild('nameCellTemplate', { static: true })\n  nameCellTemplate: TemplateRef<any>;\n\n  @ViewChild('scopeCellTemplate', { static: true })\n  scopeCellTemplate: TemplateRef<any>;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  recordGrid: RecordGridComponent;\n\n  @Input()\n  isActionInProgress: boolean;\n\n  @Input()\n  definitionType: DefinitionType;\n\n  @Input()\n  set definitionActions(definitionActions: IDefinitionActionConfig[]) {\n    this._definitionActions = (definitionActions || []).map((definitionAction) => ({\n      ...(AX_BUNDLE_DETAILS.standardDefinitionActions[definitionAction.id] || {}),\n      ...definitionAction\n    }));\n  }\n\n  get definitionActions(): IDefinitionActionConfig[] {\n    return this._definitionActions;\n  }\n\n  @Input()\n  set gridColumns(columns: IRecordGridColumn[]) {\n    this._gridColumns = columns.map((column) => {\n      const columnConfig = { ...column, title: this.translateService.instant(column.title) };\n\n      if (column.fieldId === AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId) {\n        columnConfig.cellTemplate = this.customizationStatusCellTemplate;\n      } else if (column.fieldId === AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled.fieldId) {\n        columnConfig.cellTemplate = this.isEnabledCellTemplate;\n      } else if (column.fieldId === AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId && !column.cellTemplate) {\n        columnConfig.cellTemplate = this.nameCellTemplate;\n      } else if (column.fieldId === AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId && !column.cellTemplate) {\n        columnConfig.cellTemplate = this.scopeCellTemplate;\n      }\n\n      if (column.fieldId === AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId) {\n        columnConfig.sortable = { direction: ColumnSortDirection.Desc, priority: 0 };\n      }\n\n      return columnConfig;\n    });\n  }\n\n  get gridColumns(): IRecordGridColumn[] {\n    return this._gridColumns;\n  }\n\n  @Input()\n  definitions$: Observable<IDataPageResult<IDefinition>>;\n\n  @Input()\n  recordDefinition: Partial<IRecordDefinition>;\n\n  @Input()\n  editRouterLink: string;\n\n  @Output()\n  customAction = new EventEmitter<{ actionId: string; selectedRows: IRowDataItem[] }>();\n\n  @Output()\n  deleteDefinition = new EventEmitter<IRowDataItem[]>();\n\n  @Output()\n  renameDefinition = new EventEmitter<{ selectedRow: IRowDataItem; definitionNames: string[] }>();\n\n  @Output()\n  revertCustomization = new EventEmitter<IRowDataItem[]>();\n\n  @Output()\n  copyDefinition = new EventEmitter<IRowDataItem>();\n\n  @Output()\n  addDefinition = new EventEmitter<void>();\n\n  @Output()\n  rowSelectionChanged = new EventEmitter<IRowDataItem[]>();\n\n  recordGridConfig$: Observable<IRecordGridConfig>;\n  busySubscription: Subscription;\n  bundleDescriptor: IBundleDescriptor;\n\n  private _definitionActions: IDefinitionActionConfig[];\n  private _gridColumns: IRecordGridColumn[];\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private translateService: TranslateService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private rxGainsightConfiguratorService: RxGainsightConfiguratorService\n  ) {}\n\n  ngOnInit() {\n    this.editRouterLink ??= `/${RX_APPLICATION.innovationStudioBundleId}/${this.definitionType}/edit/`;\n\n    this.recordGridConfig$ = of({\n      guid: `ax-${this.definitionType}-definitions-grid`,\n      enableRowSelection: RowSelectionMode.Multiple,\n      getRecordDefinition: () => of(this.recordDefinition),\n      columns: this.gridColumns,\n      enableFiltering: false,\n      useExternalFiltering: false,\n      recordIdField: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n      styles: 'flex-fill',\n      getData: () => this.rxSessionExpirationService.keepSessionAlive().pipe(switchMapTo(this.definitions$)),\n      emptyStateLabelText: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.definition-tab.no-definition.label'\n      )\n    });\n\n    this.recordGrid.rowSelectionChanged.pipe(takeUntil(this.destroyed$)).subscribe((selectedRows) => {\n      this.rowSelectionChanged.emit(cloneDeep(selectedRows));\n    });\n\n    this.rxBundleCacheService\n      .getCurrentBundleDescriptor()\n      .subscribe((bundleDescriptor) => (this.bundleDescriptor = bundleDescriptor));\n\n    this.rxGainsightConfiguratorService.updateGlobalContext({\n      subProductLevel1: {\n        name: 'Design'\n      },\n      subProductLevel2: {\n        name: 'Bundle workspace'\n      }\n    });\n  }\n\n  onClick(actionId: string): void {\n    switch (actionId) {\n      case AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy:\n        this.copyDefinition.emit(this.recordGrid.api.getFirstSelectedRow());\n        break;\n\n      case AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete:\n        this.deleteDefinition.emit(this.recordGrid.api.getSelectedRows());\n        break;\n\n      case AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization:\n        this.revertCustomization.emit(this.recordGrid.api.getSelectedRows());\n        break;\n\n      case AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename:\n        this.renameDefinition.emit({\n          selectedRow: this.recordGrid.api.getFirstSelectedRow(),\n          definitionNames: map(\n            this.recordGrid.adaptTableConfig.data,\n            AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId\n          )\n        });\n        break;\n\n      case AX_BUNDLE_DETAILS.standardDefinitionActionNames.new:\n        this.addDefinition.emit();\n        break;\n\n      default:\n        this.customAction.emit({ actionId, selectedRows: this.recordGrid.api.getSelectedRows() });\n        break;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.isActionInProgress?.currentValue === true) {\n      this.busySubscription = NEVER.subscribe();\n    } else {\n      this.busySubscription?.unsubscribe();\n    }\n  }\n\n  trackByFn(definitionAction: IDefinitionActionConfig): string {\n    return definitionAction.id;\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n\n    this.rxGainsightConfiguratorService.removeGlobalContext(['subProductLevel2']);\n  }\n\n  getDeleteSelectedDefinitionMessage(): string {\n    const selectedRows = this.recordGrid.api.getSelectedRows();\n\n    const visibleRows = this.recordGrid.api.getVisibleRows();\n\n    const areAllSelectedRowsVisible =\n      intersectionBy(selectedRows, visibleRows, (row) => row.name).length === selectedRows.length;\n\n    let message: string;\n\n    if (selectedRows.length > 1) {\n      if (areAllSelectedRowsVisible) {\n        message = this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.delete-definitions-confirmation.message'\n        );\n      } else {\n        message = this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.delete-hidden-definitions-confirmation.message',\n          {\n            count: selectedRows.length\n          }\n        );\n      }\n    } else {\n      if (areAllSelectedRowsVisible) {\n        message = this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.delete-definition-confirmation.message'\n        );\n      } else {\n        message = this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.delete-hidden-definition-confirmation.message'\n        );\n      }\n    }\n\n    return message;\n  }\n}\n","<div class=\"d-flex flex-row ml-1\">\n  <ng-container *ngFor=\"let toolbarItem of definitionActions; trackBy: trackByFn\">\n    <ng-container *ngIf=\"toolbarItem.subActions?.length\">\n      <div class=\"dropdown\" adaptDropdown placement=\"bottom-left\">\n        <button\n          adapt-button\n          btn-type=\"tertiary\"\n          [disabled]=\"toolbarItem.isDisabled\"\n          adaptDropdownToggle\n          [attr.rx-id]=\"toolbarItem.rxId\"\n          class=\"pl-0 ml-4\"\n        >\n          <adapt-icon [name]=\"toolbarItem.icon\"></adapt-icon>\n\n          {{ toolbarItem.labelKey | translate }}\n        </button>\n\n        <div class=\"dropdown-menu\" adaptDropdownMenu>\n          <ng-container *ngFor=\"let dropdownItem of toolbarItem.subActions\">\n            <div *ngIf=\"dropdownItem.groupTitle\" class=\"dropdown-header\">{{ dropdownItem.groupTitle }}</div>\n            <button\n              *ngIf=\"!dropdownItem.groupTitle\"\n              class=\"dropdown-item\"\n              (click)=\"onClick(dropdownItem.id)\"\n              [attr.rx-id]=\"dropdownItem.rxId\"\n            >\n              {{ dropdownItem.labelKey | translate }}\n            </button>\n          </ng-container>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"!toolbarItem.subActions?.length\">\n      <button\n        adapt-button\n        btn-type=\"tertiary\"\n        [disabled]=\"toolbarItem.isDisabled\"\n        (click)=\"onClick(toolbarItem.id)\"\n        [attr.rx-id]=\"toolbarItem.rxId\"\n        class=\"px-3\"\n      >\n        <adapt-icon *ngIf=\"toolbarItem.icon\" [name]=\"toolbarItem.icon\"></adapt-icon>\n\n        {{ toolbarItem.labelKey | translate }}\n      </button>\n    </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #nameCellTemplate let-dataItem=\"dataItem\">\n  <a [routerLink]=\"editRouterLink + dataItem.$ID$\">\n    {{ dataItem.name | rxDefinitionNamePipe }}\n  </a>\n</ng-template>\n\n<ng-template #customizationStatusCellTemplate let-dataItem=\"dataItem\">\n  {{ dataItem.customizationPerspective | rxCustomizationStatus }}\n</ng-template>\n\n<ng-template #isEnabledCellTemplate let-dataItem=\"dataItem\">\n  {{\n    (dataItem.isEnabled ? 'com.bmc.arsys.rx.client.common.yes.label' : 'com.bmc.arsys.rx.client.common.no.label')\n      | translate\n  }}\n</ng-template>\n\n<ng-template #scopeCellTemplate let-dataItem=\"dataItem\">\n  {{ dataItem.scope | rxDefinitionScopePipe: bundleDescriptor }}\n</ng-template>\n\n<rx-record-grid [config]=\"recordGridConfig$\"></rx-record-grid>\n\n<rx-busy-indicator [options]=\"{ busy: busySubscription }\"></rx-busy-indicator>\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '@helix/platform/shared/api';\n\nconst dataSourceDataPageQuery = 'com.bmc.arsys.rx.application.datasource.datapage.DataSourceDataPageQuery';\n\n@Injectable()\nexport class RxDataSourceDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, dataSourceDataPageQuery);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { remove } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { IDocumentDefinition, RxDocumentDefinitionDataPageService } from '@helix/platform/document/api';\nimport { IRecordDefinition } from '@helix/platform/record/api';\nimport { IDataPageResult, RxSessionExpirationService } from '@helix/platform/shared/api';\nimport { RxWebApiDefinitionDataPageService } from '@helix/platform/web-api/api';\nimport { RxDataSourceDataPageService } from './data-source-data-page.service';\n\n@Injectable()\nexport class RxExternalDataService {\n  constructor(\n    private httpClient: HttpClient,\n    private rxDataSourceDataPageService: RxDataSourceDataPageService,\n    private rxDocumentDefinitionDataPageService: RxDocumentDefinitionDataPageService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private rxWebApiDefinitionDataPageService: RxWebApiDefinitionDataPageService\n  ) {}\n\n  getArsTables(\n    pageSize: number,\n    startIndex: number,\n    dataSourceName: string,\n    tableName: string,\n    sortBy: string[] = []\n  ): Observable<IDataPageResult> {\n    const queryParams = {\n      pageSize,\n      startIndex,\n      dataSourceName\n    };\n\n    if (tableName.length) {\n      Object.assign(queryParams, { tableName });\n    }\n\n    if (sortBy.length) {\n      Object.assign(queryParams, { sortBy });\n    }\n\n    return this.rxDataSourceDataPageService.get({\n      params: queryParams\n    });\n  }\n\n  getArsTableDefinition(dataSourceName: string, tableName: string): Observable<IRecordDefinition> {\n    return this.httpClient.get<IRecordDefinition>(\n      `/api/rx/application/datasource/table/${dataSourceName}/${tableName}`\n    );\n  }\n\n  getDataSourceNames(dataSourceType: string): Observable<string[]> {\n    return this.httpClient.get<string[]>(`/api/rx/application/datasource/type/${dataSourceType}`);\n  }\n\n  getDataSourceTypes(): Observable<string[]> {\n    return this.httpClient.get<string[]>('/api/rx/application/datasource/type');\n  }\n\n  getWebApiDefinitions(): Observable<IDataPageResult> {\n    return this.rxSessionExpirationService\n      .keepSessionAlive()\n      .pipe(switchMap(() => this.rxWebApiDefinitionDataPageService.get()));\n  }\n\n  getWebApiDocuments(webApiRequestDefinitions: { [key: string]: string }): Observable<IDataPageResult> {\n    return this.rxDocumentDefinitionDataPageService.get().pipe(\n      map((documentDefinitions: IDataPageResult) => {\n        remove(documentDefinitions.data, (document: IDocumentDefinition) => !webApiRequestDefinitions[document.name]);\n\n        documentDefinitions.totalSize = documentDefinitions.data.length;\n\n        return documentDefinitions;\n      })\n    );\n  }\n}\n","import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { head, isEqual } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, shareReplay, skip, takeUntil } from 'rxjs/operators';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { IRequestDefinition } from '@helix/platform/web-api/api';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\nimport { RxExternalDataService } from '../../../services/external-data/external-data.service';\nimport { IExternalRecordWizardContext } from '../external-record-wizard.types';\n\n@Component({\n  selector: 'ax-document-selection-wizard-step',\n  templateUrl: 'document-selection-step.component.html',\n  styleUrls: ['./document-selection-step.component.scss']\n})\nexport class DocumentSelectionStepComponent implements OnInit, OnDestroy {\n  @Input()\n  context: IExternalRecordWizardContext;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  recordGrid: RecordGridComponent;\n\n  @ViewChild('documentNameCellTemplate', { static: true })\n  documentNameCellTemplate: TemplateRef<any>;\n\n  recordGridConfig$: Observable<IRecordGridConfig>;\n  sectionLabel: string;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private rxExternalDataService: RxExternalDataService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.sectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.document-selection.label'\n    );\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        fieldId: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        cellTemplate: this.documentNameCellTemplate\n      }\n    ];\n\n    const gridRecordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      emptyStateLabelText: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.external-record-wizard.document-selection.grid.empty-state.label'\n      ),\n      enableRowSelection: RowSelectionMode.Single,\n      enableFiltering: false,\n      recordIdField: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      getRecordDefinition: () => of(gridRecordDefinition),\n      getData: (): Observable<IDataPageResult> =>\n        this.context.webApi\n          ? this.rxExternalDataService.getWebApiDocuments(this.getWebApiRequests())\n          : of({\n              totalSize: 0,\n              data: []\n            })\n    });\n\n    this.recordGrid.rowSelectionChanged\n      .pipe(skip(2), takeUntil(this.destroyed$))\n      .subscribe((selectedRows: IRowDataItem[]) => {\n        this.rxWizardModalComponent.api.updateContext({\n          document: head(selectedRows) || null\n        });\n      });\n\n    const documentSelectionStepContext$ = this.rxWizardModalComponent.context$.pipe(\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    documentSelectionStepContext$\n      .pipe(\n        map((stepContext: IExternalRecordWizardContext) => stepContext.webApi),\n        distinctUntilChanged(isEqual),\n        skip(1)\n      )\n      .subscribe(() => {\n        this.rxWizardModalComponent.api.updateContext({ document: null });\n        this.recordGrid.api.refresh().subscribe();\n      });\n\n    const isCurrentStep$ = combineLatest([\n      this.rxWizardModalComponent.steps$,\n      this.rxWizardModalComponent.tabIndex$\n    ]).pipe(\n      map(([steps, tabIndex]) => steps[tabIndex].id === 'document-selection'),\n      takeUntil(this.destroyed$)\n    );\n\n    const changedDocument$ = documentSelectionStepContext$.pipe(\n      map((stepContext: IExternalRecordWizardContext) => stepContext.document),\n      distinctUntilChanged(isEqual)\n    );\n\n    combineLatest([isCurrentStep$, changedDocument$])\n      .pipe(\n        filter(([isCurrentStep, changedDocument]) => isCurrentStep),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe(([isCurrentStep, changedDocument]) => {\n        if (changedDocument) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  private getWebApiRequests(): { [key: string]: string } {\n    return this.context.webApi.requestDefinitions.reduce((result, requestDefinition: IRequestDefinition) => {\n      if (requestDefinition.body && !result[requestDefinition.body]) {\n        result[requestDefinition.body] = requestDefinition.body;\n      }\n\n      if (requestDefinition.output && !result[requestDefinition.output]) {\n        result[requestDefinition.output] = requestDefinition.output;\n      }\n\n      return result;\n    }, {});\n  }\n}\n","<adapt-rx-control-label [label]=\"sectionLabel\" [showRequiredLabel]=\"true\"></adapt-rx-control-label>\n\n<rx-record-grid [config]=\"recordGridConfig$\"></rx-record-grid>\n\n<ng-template #documentNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n","import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { chain, defaults, get, includes, isEqual, map as _map, reject, some } from 'lodash';\nimport { Observable, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map, shareReplay, takeUntil } from 'rxjs/operators';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { IFieldDefinition, IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  ColumnSortDirection,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { IExternalRecordWizardContext } from '../external-record-wizard.types';\n\n@Component({\n  selector: 'ax-field-selection-step',\n  templateUrl: 'field-selection-step.component.html',\n  styleUrls: ['./field-selection-step.component.scss']\n})\nexport class FieldSelectionStepComponent implements OnInit, OnDestroy {\n  @Input()\n  context: IExternalRecordWizardContext;\n\n  @ViewChild('resourceTypeCellTemplate', { static: true })\n  resourceTypeCellTemplate: TemplateRef<any>;\n\n  @ViewChild('availableFieldsGrid')\n  availableFieldsGrid: RecordGridComponent;\n\n  @ViewChild('selectedFieldsGrid')\n  selectedFieldsGrid: RecordGridComponent;\n\n  availableFieldsGridConfig$: Observable<IRecordGridConfig>;\n  availableFieldsSectionLabel: string;\n  selectedFieldsGridConfig$: Observable<IRecordGridConfig>;\n  selectedFieldsSectionLabel: string;\n\n  private externalFieldIdPath = 'fieldMapping.externalFieldId';\n\n  private availableExternalColumns: IFieldDefinition[] = [];\n  private selectedExternalColumns: IFieldDefinition[] = [];\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(private rxWizardModalComponent: RxWizardModalComponent, private translateService: TranslateService) {}\n\n  ngOnInit() {\n    this.availableFieldsSectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-selection.available-fields.section.label'\n    );\n    this.selectedFieldsSectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-selection.selected-fields.section.label'\n    );\n\n    this.rxWizardModalComponent.api.enableFinishButton();\n\n    const fieldSelectionStepContext$ = this.rxWizardModalComponent.context$.pipe(\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    fieldSelectionStepContext$\n      .pipe(\n        map((stepContext: IExternalRecordWizardContext) => stepContext.mappedInternalFields),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe(() => this.updateGridsData());\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'name'\n      },\n      {\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-selection.field-id.label'\n        ),\n        fieldId: 'id',\n        sortable: {\n          direction: ColumnSortDirection.Asc,\n          priority: 1\n        }\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.item-type.label'),\n        fieldId: 'resourceType',\n        cellTemplate: this.resourceTypeCellTemplate\n      }\n    ];\n\n    const selectColumnGridConfig = {\n      columns: gridColumns,\n      enableColumnSelection: false,\n      enableFiltering: false,\n      enableRowSelection: RowSelectionMode.Multiple,\n      recordIdField: 'id',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      getRecordDefinition: (): Observable<IRecordDefinition> =>\n        of({\n          fieldDefinitions: [\n            {\n              id: 'name',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            },\n            {\n              id: 'id',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            },\n            {\n              id: 'resourceType',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            }\n          ]\n        })\n    };\n\n    this.availableFieldsGridConfig$ = of(\n      defaults(\n        {\n          emptyStateLabelText: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-selection.available-fields.grid.empty-state.label'\n          ),\n          getData: (): Observable<IDataPageResult> =>\n            of({\n              totalSize: this.availableExternalColumns.length,\n              data: this.availableExternalColumns\n            })\n        },\n        selectColumnGridConfig\n      )\n    );\n\n    this.selectedFieldsGridConfig$ = of(\n      defaults(\n        {\n          emptyStateLabelText: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-selection.selected-fields.grid.empty-state.label'\n          ),\n          getData: (): Observable<IDataPageResult> =>\n            of({\n              totalSize: this.selectedExternalColumns.length,\n              data: this.selectedExternalColumns\n            })\n        },\n        selectColumnGridConfig\n      )\n    );\n  }\n\n  deselectColumns(): void {\n    const sourceColumnIds = _map(this.selectedFieldsGrid.api.getSelectedRows(), 'id');\n\n    this.moveColumns(sourceColumnIds, this.selectedExternalColumns, this.availableExternalColumns);\n  }\n\n  selectColumns(): void {\n    const sourceColumnIds = _map(this.availableFieldsGrid.api.getSelectedRows(), 'id');\n\n    this.moveColumns(sourceColumnIds, this.availableExternalColumns, this.selectedExternalColumns);\n  }\n\n  private getAvailableColumns(): IFieldDefinition[] {\n    return reject(\n      this.context.externalTableDefinition.fieldDefinitions,\n      (column: IFieldDefinition) => this.isAssociatedColumn(column) || this.isSelectedColumn(column)\n    );\n  }\n\n  private getExternalFieldId(column: IFieldDefinition): string {\n    return get(column, this.externalFieldIdPath);\n  }\n\n  private isAssociatedColumn(column: IFieldDefinition): boolean {\n    return some(this.context.mappedInternalFields, [this.externalFieldIdPath, this.getExternalFieldId(column)]);\n  }\n\n  private isSelectedColumn(column: IFieldDefinition): boolean {\n    return some(this.selectedExternalColumns, [this.externalFieldIdPath, this.getExternalFieldId(column)]);\n  }\n\n  private moveColumns(columnIds: string[], source: IFieldDefinition[], target: IFieldDefinition[]): void {\n    chain(source)\n      .remove((column) => includes(columnIds, column.id))\n      .forEach((column) => target.push(column))\n      .value();\n\n    this.refreshElements();\n\n    this.rxWizardModalComponent.api.updateContext({ selectedExternalFields: this.selectedExternalColumns });\n  }\n\n  private refreshElements(): void {\n    this.availableFieldsGrid?.api.refresh().subscribe();\n    this.selectedFieldsGrid?.api.refresh().subscribe();\n  }\n\n  private updateGridsData(): void {\n    this.selectedExternalColumns = [];\n    this.availableExternalColumns = this.getAvailableColumns();\n\n    this.refreshElements();\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n}\n","<div class=\"rx-external-record-wizard__content\">\n  <div class=\"rx-external-record-wizard__content--left\">\n    <adapt-rx-control-label [label]=\"availableFieldsSectionLabel\"></adapt-rx-control-label>\n    <rx-record-grid #availableFieldsGrid [config]=\"availableFieldsGridConfig$\"></rx-record-grid>\n  </div>\n  <div class=\"rx-external-record-wizard__content--middle\">\n    <button\n      type=\"button\"\n      adapt-button\n      btn-type=\"secondary\"\n      class=\"d-icon-angle_right\"\n      rx-id=\"select-button\"\n      [disabled]=\"!availableFieldsGrid?.api.getSelectedRowCount()\"\n      (click)=\"selectColumns()\"\n    ></button>\n    <button\n      type=\"button\"\n      adapt-button\n      btn-type=\"secondary\"\n      class=\"d-icon-angle_left\"\n      rx-id=\"deselect-button\"\n      [disabled]=\"!selectedFieldsGrid?.api.getSelectedRowCount()\"\n      (click)=\"deselectColumns()\"\n    ></button>\n  </div>\n  <div class=\"rx-external-record-wizard__content--right\">\n    <adapt-rx-control-label [label]=\"selectedFieldsSectionLabel\"></adapt-rx-control-label>\n    <rx-record-grid #selectedFieldsGrid [config]=\"selectedFieldsGridConfig$\"></rx-record-grid>\n  </div>\n</div>\n\n<ng-template #resourceTypeCellTemplate let-dataItem=\"dataItem\">\n  {{ dataItem.resourceType | rxRecordDefinitionResourceType }}\n</ng-template>\n","import { Component, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { AdaptTreeNode, RxSelectOption, TreeWrap } from '@bmc-ux/adapt-angular';\nimport { IDocumentDefinition, RxDocumentDefinitionService } from '@helix/platform/document/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IDataPageResult, RxDefinitionNameService } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxJsonParserService } from '@helix/platform/utils';\nimport { IRecordGridColumn, IRecordGridConfig, RecordGridComponent } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  cloneDeep,\n  find,\n  forEach,\n  head,\n  includes,\n  isArray,\n  isEmpty,\n  isEqual,\n  isObject,\n  reduce,\n  remove,\n  some,\n  sortBy\n} from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  shareReplay,\n  skipWhile,\n  switchMap,\n  takeUntil,\n  withLatestFrom\n} from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\nimport {\n  IExternalRecordWizardContext,\n  IWebApiDocumentSchemaField,\n  IWebApiDocumentTreeNode\n} from '../external-record-wizard.types';\n\n@Component({\n  selector: 'ax-field-tree-selection-step',\n  templateUrl: 'field-tree-selection-step.component.html',\n  styleUrls: ['./field-tree-selection-step.component.scss']\n})\nexport class FieldTreeSelectionStepComponent implements OnInit, OnDestroy {\n  @ViewChild(RecordGridComponent, { static: true })\n  recordGrid: RecordGridComponent;\n\n  @ViewChild('typeCellTemplate', { static: true })\n  typeCellTemplate: TemplateRef<any>;\n\n  @ViewChild('deleteCellTemplate', { static: true })\n  deleteCellTemplate: TemplateRef<any>;\n\n  availableFieldsSectionLabel: string;\n  mapToDisplayIdLabel: string;\n  mapToIdLabel: string;\n  selectedFieldsSectionLabel: string;\n\n  documentName: string;\n  documentTree: AdaptTreeNode[];\n  recordGridConfig$: Observable<IRecordGridConfig>;\n  selectedDocumentTreeNodes: IWebApiDocumentTreeNode[] = [];\n  treeWrap: TreeWrap = TreeWrap.WrapAll;\n  selectedDocumentSchemaFields: IWebApiDocumentSchemaField[] = [];\n\n  selectedFieldsGroup: FormGroup = new FormGroup({});\n\n  mappingGroup: FormGroup = new FormGroup({\n    displayId: new FormControl([]),\n    id: new FormControl([])\n  });\n\n  supportedFieldTypes = ['boolean', 'character', 'dateOnly', 'dateTime', 'decimal', 'integer', 'real', 'timeOnly'];\n\n  fieldTypes: RxSelectOption[] = sortBy(\n    reduce(\n      RX_RECORD_DEFINITION.dataTypes,\n      (result, type, key) => {\n        if (includes(this.supportedFieldTypes, key)) {\n          result.push(type);\n        }\n\n        return result;\n      },\n      []\n    ),\n    'displayName'\n  );\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxDocumentDefinitionService: RxDocumentDefinitionService,\n    private rxJsonParserService: RxJsonParserService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.availableFieldsSectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-tree-selection.available-fields.section.label'\n    );\n    this.mapToDisplayIdLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-tree-selection.map-to-display-id.label'\n    );\n    this.mapToIdLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-tree-selection.map-to-id.label'\n    );\n    this.selectedFieldsSectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-tree-selection.selected-fields.section.label'\n    );\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        fieldId: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        title: this.translateService.instant(AX_BUNDLE_DETAILS.definitionGridColumns.name.title)\n      },\n      {\n        fieldId: 'type',\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.item-type.label'),\n        sortable: false,\n        cellTemplate: this.typeCellTemplate\n      },\n      {\n        fieldId: 'delete',\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n        sortable: false,\n        cellTemplate: this.deleteCellTemplate\n      }\n    ];\n\n    const gridRecordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'type',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'delete',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      emptyStateLabelText: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-tree-selection.grid.empty-state.label'\n      ),\n      enableFiltering: false,\n      enableRowSelection: null,\n      recordIdField: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n      styles: 'flex-fill',\n      toolbarConfig: {\n        filter: false,\n        visibleColumnsMenu: false\n      },\n      useExternalFiltering: false,\n      getRecordDefinition: () => of(gridRecordDefinition),\n      getData: (): Observable<IDataPageResult> =>\n        of({\n          data: this.selectedDocumentSchemaFields,\n          totalSize: this.selectedDocumentSchemaFields.length\n        })\n    });\n\n    const fieldTreeSelectionStepContext$ = this.rxWizardModalComponent.context$.pipe(\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    fieldTreeSelectionStepContext$\n      .pipe(\n        map((stepContext: IExternalRecordWizardContext) => stepContext.document?.name),\n        distinctUntilChanged(isEqual),\n        switchMap((documentName: string) => {\n          this.selectedDocumentTreeNodes = [];\n          this.selectedDocumentSchemaFields = [];\n\n          this.rxWizardModalComponent.api.updateContext({\n            documentSchemaFields: [],\n            nonDocumentSchemaFields: []\n          });\n\n          if (documentName) {\n            return this.rxDocumentDefinitionService.get(documentName);\n          } else {\n            return of();\n          }\n        }),\n        skipWhile(isEmpty)\n      )\n      .subscribe((documentDefinition: IDocumentDefinition) => {\n        this.documentTree = [\n          {\n            data: documentDefinition.guid,\n            label: this.rxDefinitionNameService.getDisplayName(documentDefinition.name),\n            children: this.prepareTreeForAdapt(documentDefinition.documentSchema, []),\n            expanded: true,\n            disallowMultipleNodeSelection: true\n          }\n        ];\n\n        this.recordGrid.api.refresh().subscribe();\n      });\n\n    const isCurrentStep$ = combineLatest([\n      this.rxWizardModalComponent.steps$,\n      this.rxWizardModalComponent.tabIndex$\n    ]).pipe(\n      map(([steps, tabIndex]) => steps[tabIndex].id === 'field-tree-selection'),\n      takeUntil(this.destroyed$)\n    );\n\n    const documentSchemaFields$ = fieldTreeSelectionStepContext$.pipe(\n      map((stepContext: IExternalRecordWizardContext) => stepContext.documentSchemaFields),\n      distinctUntilChanged(isEqual)\n    );\n\n    combineLatest([isCurrentStep$, documentSchemaFields$])\n      .pipe(\n        filter(([isCurrentStep, documentSchemaFields]) => isCurrentStep),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe(([isCurrentStep, documentSchemaFields]) => {\n        if (documentSchemaFields.length) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n\n        forEach(this.mappingGroup.controls, (formControl: FormControl) => {\n          if (formControl.value.length && !some(documentSchemaFields, ['path', formControl.value[0].path])) {\n            formControl.reset([]);\n          }\n        });\n      });\n\n    this.mappingGroup.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((mappedValues) => {\n      const selectedFieldMapping = {\n        displayId: (mappedValues.displayId && mappedValues.displayId[0]?.path) || '',\n        id: (mappedValues.id && mappedValues.id[0]?.path) || ''\n      };\n\n      this.rxWizardModalComponent.api.updateContext({ selectedFieldMapping });\n    });\n\n    this.selectedFieldsGroup.valueChanges\n      .pipe(withLatestFrom(this.rxWizardModalComponent.context$), takeUntil(this.destroyed$))\n      .subscribe(([value, context]) => {\n        const documentSchemaFields = cloneDeep(context.documentSchemaFields);\n\n        documentSchemaFields.forEach((field: IWebApiDocumentSchemaField) => {\n          field.type = value[field.path][0].resourceType;\n        });\n\n        this.rxWizardModalComponent.api.updateContext({ documentSchemaFields });\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  getCoreFieldMappingOptions(): IWebApiDocumentSchemaField[] {\n    return sortBy(this.selectedDocumentSchemaFields, 'name');\n  }\n\n  optionFormatter(selectOption: RxSelectOption): string {\n    return selectOption.displayName || selectOption.name;\n  }\n\n  selectFields(): void {\n    this.selectedDocumentSchemaFields = this.selectedDocumentTreeNodes.reduce(\n      (result, node: IWebApiDocumentTreeNode) => {\n        if (!node.children) {\n          const field: IWebApiDocumentSchemaField = {\n            name: node.name,\n            path: node.path,\n            type: RX_RECORD_DEFINITION.dataTypes.character.resourceType\n          };\n\n          if (!node.disallowMultipleNodeSelection) {\n            node.disallowMultipleNodeSelection = true;\n\n            this.selectedFieldsGroup.setControl(node.path, new FormControl([RX_RECORD_DEFINITION.dataTypes.character]));\n          }\n\n          result.push(field);\n        }\n\n        return result;\n      },\n      []\n    );\n\n    this.rxWizardModalComponent.api.updateContext({\n      documentSchemaFields: cloneDeep(this.selectedDocumentSchemaFields)\n    });\n\n    this.recordGrid.api.refresh().subscribe();\n  }\n\n  unselectField(field: IWebApiDocumentSchemaField): void {\n    find(this.selectedDocumentTreeNodes, { data: field.path }).disallowMultipleNodeSelection = false;\n\n    this.selectedDocumentTreeNodes = this.selectedDocumentTreeNodes.filter(\n      (node) => node.data !== field.path && !node.children?.some((element) => element.data === field.path)\n    );\n\n    remove(this.selectedDocumentSchemaFields, { path: field.path });\n\n    this.rxWizardModalComponent.api.updateContext({\n      documentSchemaFields: cloneDeep(this.selectedDocumentSchemaFields)\n    });\n\n    this.recordGrid.api.refresh().subscribe();\n  }\n\n  private prepareTreeForAdapt(\n    documentSchema: string,\n    selectedFields: IWebApiDocumentSchemaField[]\n  ): IWebApiDocumentTreeNode[] {\n    let documentSchemaJson = this.rxJsonParserService.tryParseJson(documentSchema, {});\n\n    if (isArray(documentSchemaJson)) {\n      documentSchemaJson = head(documentSchemaJson);\n    }\n\n    return this.deepProcessJson(documentSchemaJson, '', [], selectedFields);\n  }\n\n  // Due to backend limitation, arrays can be processed only once per node\n  // i.e. all arrays nested in arrays should be displayed as a leaf and in the tree\n  // In runtime server will store complete stringified array as a value in record definition\n  private deepProcessJson(\n    json,\n    currentPath: string,\n    arraysProcessedInPath: string[],\n    selectedFields: IWebApiDocumentSchemaField[],\n    parentNode?: IWebApiDocumentTreeNode\n  ): IWebApiDocumentTreeNode[] {\n    return reduce(\n      json,\n      (tree, value, key) => {\n        const path = (currentPath ? currentPath + '||' : '') + key;\n        const isNodeSelected = some(selectedFields, ['path', path]);\n        let childNodes = null;\n\n        const node = {\n          name: key,\n          label: key,\n          data: path,\n          path,\n          type: RX_RECORD_DEFINITION.resourceTypes.character,\n          isArray: isArray(value),\n          parent: parentNode,\n          children: null,\n          expanded: true,\n          disallowMultipleNodeSelection: null\n        };\n\n        if (isArray(value)) {\n          const arrayHasBeenProcessedInSamePath = arraysProcessedInPath.some(\n            (processedPath) => path.indexOf(processedPath) !== -1\n          );\n\n          if (!arrayHasBeenProcessedInSamePath) {\n            arraysProcessedInPath.push(path);\n\n            childNodes = this.flattenListStructure(value, path, arraysProcessedInPath, selectedFields, node);\n          }\n        } else if (isObject(value)) {\n          childNodes = this.deepProcessJson(value, path, arraysProcessedInPath, selectedFields, node);\n        }\n\n        node.children = childNodes;\n        node.disallowMultipleNodeSelection = Boolean(childNodes);\n\n        tree.push(node);\n\n        return tree;\n      },\n      []\n    );\n  }\n\n  private flattenListStructure(\n    list: any[],\n    currentPath: string,\n    arraysProcessedInPath: string[],\n    selectedFields: IWebApiDocumentSchemaField[],\n    parentNode: IWebApiDocumentTreeNode\n  ): IWebApiDocumentTreeNode[] {\n    const entry = head(list);\n\n    return isObject(entry)\n      ? this.deepProcessJson(entry, currentPath, arraysProcessedInPath, selectedFields, parentNode)\n      : [];\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-5 d-flex flex-column pr-0 mh-100\">\n    <adapt-rx-control-label [label]=\"availableFieldsSectionLabel\"></adapt-rx-control-label>\n    <div class=\"border h-100 p-1 field-tree-wrapper\">\n      <adapt-tree\n        [(selection)]=\"selectedDocumentTreeNodes\"\n        [value]=\"documentTree\"\n        [wrap]=\"treeWrap\"\n        selectionMode=\"checkbox\"\n      ></adapt-tree>\n    </div>\n  </div>\n\n  <div class=\"col-1 d-flex align-items-center\">\n    <button\n      type=\"button\"\n      adapt-button\n      btn-type=\"secondary\"\n      class=\"d-icon-angle_right\"\n      rx-id=\"add-button\"\n      (click)=\"selectFields()\"\n    ></button>\n  </div>\n\n  <div class=\"col-6 d-flex flex-column pl-0\">\n    <adapt-rx-control-label [label]=\"selectedFieldsSectionLabel\" [showRequiredLabel]=\"true\"></adapt-rx-control-label>\n\n    <rx-record-grid class=\"form-group\" [config]=\"recordGridConfig$\"></rx-record-grid>\n\n    <div class=\"d-flex flex-column control-width\">\n      <adapt-rx-select\n        class=\"form-group\"\n        appendToBody=\"true\"\n        [formControl]=\"mappingGroup.controls.displayId\"\n        [label]=\"mapToDisplayIdLabel\"\n        [options]=\"getCoreFieldMappingOptions()\"\n        [optionFormatter]=\"optionFormatter\"\n      >\n      </adapt-rx-select>\n      <adapt-rx-select\n        appendToBody=\"true\"\n        [formControl]=\"mappingGroup.controls.id\"\n        [label]=\"mapToIdLabel\"\n        [options]=\"getCoreFieldMappingOptions()\"\n        [optionFormatter]=\"optionFormatter\"\n      >\n      </adapt-rx-select>\n    </div>\n  </div>\n</div>\n\n<ng-template #typeCellTemplate let-dataItem=\"dataItem\">\n  <adapt-rx-select\n    class=\"type-selector\"\n    appendToBody=\"true\"\n    [formControl]=\"selectedFieldsGroup.controls[dataItem.path]\"\n    [options]=\"fieldTypes\"\n    [optionFormatter]=\"optionFormatter\"\n    [popupMaxHeight]=\"290\"\n  >\n  </adapt-rx-select>\n</ng-template>\n\n<ng-template #deleteCellTemplate let-dataItem=\"dataItem\">\n  <button\n    class=\"unselect-field-button d-icon-minus_circle text-danger\"\n    adapt-button\n    btn-type=\"tertiary\"\n    type=\"button\"\n    (click)=\"unselectField(dataItem)\"\n  ></button>\n</ng-template>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { includes, isEqual } from 'lodash';\nimport { ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map, shareReplay, takeUntil } from 'rxjs/operators';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { RxDefinitionNameService } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { IDocumentDefinition } from '@helix/platform/document/api';\nimport { IRequestDefinition } from '@helix/platform/web-api/api';\nimport { IExternalRecordWizardContext, IWebApiRequestOperation } from '../external-record-wizard.types';\n\n@Component({\n  selector: 'ax-operation-selection-step',\n  templateUrl: 'operation-selection-step.component.html'\n})\nexport class OperationSelectionStepComponent implements OnInit {\n  @Input()\n  context: IExternalRecordWizardContext;\n\n  availableOperationTypes = ['GET'];\n  availableRequests: RxSelectOption[];\n  operationTypeFormControl: FormControl = new FormControl('GET', null);\n  operationTypeLabel: string;\n  webApiRequestLabel: string;\n  webApiRequestNameFormControl: FormControl = new FormControl([], Validators.required);\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  optionFormatter = (option: RxSelectOption): string => this.rxDefinitionNameService.getDisplayName(option.displayValue);\n\n  constructor(\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit() {\n    this.operationTypeLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.operation-selection.operation-type.section.label'\n    );\n    this.webApiRequestLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.operation-selection.web-api-request.section.label'\n    );\n\n    const operationSelectionStepContext$ = this.rxWizardModalComponent.context$.pipe(\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    operationSelectionStepContext$\n      .pipe(\n        map((stepContext: IExternalRecordWizardContext) => stepContext.document),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe((document: IDocumentDefinition) => {\n        this.webApiRequestNameFormControl.setValue([]);\n\n        this.availableRequests = document\n          ? this.context.webApi.requestDefinitions.reduce((result, request: IRequestDefinition) => {\n            if (includes(this.availableOperationTypes, request.method) && request.output === document.name) {\n              result.push({\n                webRequestGuid: request.guid,\n                displayValue: request.name,\n                method: request.method\n              });\n            }\n\n            return result;\n          }, [])\n          : [];\n      });\n\n    operationSelectionStepContext$\n      .pipe(\n        map((stepContext: IExternalRecordWizardContext) => stepContext.operations),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe((operations: IWebApiRequestOperation[]) => {\n        if (operations) {\n          this.rxWizardModalComponent.api.enableFinishButton();\n        } else {\n          this.rxWizardModalComponent.api.disableFinishButton();\n        }\n      });\n\n    this.webApiRequestNameFormControl.valueChanges\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe((selectedWebApiRequest: RxSelectOption[]) => {\n        this.rxWizardModalComponent.api.updateContext({\n          operations: selectedWebApiRequest.length\n            ? selectedWebApiRequest.map((request: RxSelectOption) => ({\n              webRequestGuid: request.webRequestGuid,\n              operation: request.method\n            }))\n            : null\n        });\n      });\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-2\">\n    <adapt-rx-control-label [label]=\"operationTypeLabel\"></adapt-rx-control-label>\n  </div>\n  <div class=\"col-10\">\n    <adapt-rx-control-label [label]=\"webApiRequestLabel\" [showRequiredLabel]=\"true\"></adapt-rx-control-label>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col-2\">\n    <adapt-rx-radiobutton-group [formControl]=\"operationTypeFormControl\">\n      <adapt-rx-radiobutton *ngFor=\"let item of availableOperationTypes\" [value]=\"item\" [label]=\"item\">\n      </adapt-rx-radiobutton>\n    </adapt-rx-radiobutton-group>\n  </div>\n  <div class=\"col-10\">\n    <adapt-rx-select\n      [options]=\"availableRequests\"\n      [required]=\"true\"\n      [formControl]=\"webApiRequestNameFormControl\"\n      [optionFormatter]=\"optionFormatter\"\n    ></adapt-rx-select>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy, Input, ViewChild, TemplateRef } from '@angular/core';\nimport { chain, cloneDeep, defaults, isEmpty, isEqual, sortBy } from 'lodash';\nimport { Observable, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map, shareReplay, skipWhile, switchMap, takeUntil } from 'rxjs/operators';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn, IRecordGridConfig, RecordGridComponent } from '@helix/platform/view/components';\nimport { IFieldDefinition, IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { RxExternalDataService } from '../../../services/external-data/external-data.service';\nimport { IExternalRecordWizardContext } from '../external-record-wizard.types';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'ax-record-id-fields-step',\n  templateUrl: 'record-id-fields-step.component.html',\n  styleUrls: ['record-id-fields-step.component.scss']\n})\nexport class RecordIdFieldsStepComponent implements OnDestroy, OnInit {\n  @Input()\n  context: IExternalRecordWizardContext;\n\n  @ViewChild('recordIdFieldsStepRecordGrid')\n  recordIdFieldsStepRecordGrid: RecordGridComponent;\n\n  @ViewChild('externalColumnCellTemplate', { static: true })\n  externalColumnCellTemplate: TemplateRef<any>;\n\n  @ViewChild('externalColumnIdCellTemplate', { static: true })\n  externalColumnIdCellTemplate: TemplateRef<any>;\n\n  externalColumns: RxSelectOption[] = [];\n  externalColumnIds: RxSelectOption[] = [];\n\n  recordIdFieldsRecordGridConfig$: Observable<IRecordGridConfig>;\n\n  sectionLabel: string;\n  sectionInfoLabel: string;\n  sectionInfoTooltip: string;\n\n  private internalFieldsForMapping: IFieldDefinition[] = [];\n  private rawExternalColumns: IFieldDefinition[] = [];\n\n  private gridRowsData: {\n    id: string | number;\n    name: string;\n    selectedExternalColumns: RxSelectOption[];\n  }[] = [];\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(\n    private rxExternalDataService: RxExternalDataService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit() {\n    this.sectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.label'\n    );\n\n    this.sectionInfoLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.section-info.label'\n    );\n\n    this.sectionInfoTooltip = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.section-info.tooltip'\n    );\n\n    this.rxWizardModalComponent.api.disableNextButton();\n\n    const recordIdFieldsStepContext$ = this.rxWizardModalComponent.context$.pipe(\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    recordIdFieldsStepContext$\n      .pipe(\n        map((stepContext: IExternalRecordWizardContext) => stepContext.tableName),\n        distinctUntilChanged(isEqual),\n        switchMap((tableName) => {\n          this.rawExternalColumns = [];\n          this.gridRowsData = [];\n          this.externalColumnIds = [];\n          this.externalColumns = [];\n\n          if (this.recordIdFieldsStepRecordGrid) {\n            this.recordIdFieldsStepRecordGrid.api.refresh().subscribe();\n          }\n\n          if (tableName) {\n            this.internalFieldsForMapping = chain(RX_RECORD_DEFINITION.coreFields)\n              .filter((field) => RX_RECORD_DEFINITION.externalRecordDefinitionCoreFieldIds.includes(field.id))\n              .map((coreField) =>\n                defaults(cloneDeep(coreField), { fieldMapping: { externalFieldId: String(coreField.id) } })\n              )\n              .value() as IFieldDefinition[];\n\n            return this.rxExternalDataService.getArsTableDefinition(this.context.dataSourceName, tableName);\n          } else {\n            this.internalFieldsForMapping = [];\n\n            this.rxWizardModalComponent.api.updateContext({\n              externalTableDefinition: {},\n              mappedInternalFields: []\n            });\n\n            return of();\n          }\n        }),\n        skipWhile(isEmpty)\n      )\n      .subscribe((externalTableDefinition: IRecordDefinition) => {\n        this.rawExternalColumns = externalTableDefinition.fieldDefinitions;\n\n        this.setGridRowsData();\n\n        this.rxWizardModalComponent.api.updateContext({\n          externalTableDefinition,\n          mappedInternalFields: cloneDeep(this.internalFieldsForMapping)\n        });\n\n        this.externalColumnIds = this.rawExternalColumns.map((externalColumn: IFieldDefinition) => ({\n          id: externalColumn.fieldMapping.externalFieldId,\n          name: externalColumn.name\n        }));\n\n        this.externalColumns = sortBy(this.externalColumnIds, 'name');\n\n        this.recordIdFieldsStepRecordGrid.api.refresh().subscribe();\n      });\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.grid.record-id-field.label'\n        ),\n        fieldId: 'name'\n      },\n      {\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.grid.field-id.label'\n        ),\n        fieldId: 'id'\n      },\n      {\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.grid.external-record-id-field.label'\n        ),\n        fieldId: 'externalColumnName',\n        sortable: false,\n        cellTemplate: this.externalColumnCellTemplate\n      },\n      {\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.grid.external-field-id.label'\n        ),\n        fieldId: 'externalColumnId',\n        sortable: false,\n        cellTemplate: this.externalColumnIdCellTemplate\n      }\n    ];\n\n    this.recordIdFieldsRecordGridConfig$ = of({\n      columns: gridColumns,\n      enableColumnSelection: false,\n      enableFiltering: false,\n      enableRowSelection: null,\n      recordIdField: 'id',\n      styles: 'flex-fill',\n      toolbarConfig: {\n        filter: false,\n        visibleColumnsMenu: false\n      },\n      useExternalFiltering: false,\n      getRecordDefinition: (): Observable<IRecordDefinition> =>\n        of({\n          fieldDefinitions: [\n            {\n              id: 'name',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            },\n            {\n              id: 'id',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            },\n            {\n              id: 'externalColumnName',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            },\n            {\n              id: 'externalColumnId',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            }\n          ]\n        }),\n      getData: (): Observable<IDataPageResult> =>\n        of({\n          totalSize: this.gridRowsData.length,\n          data: this.gridRowsData\n        })\n    });\n\n    this.rxWizardModalComponent.api.enableNextButton();\n  }\n\n  externalColumnOptionFormatter = (externalColumnOption: RxSelectOption): string => externalColumnOption.name;\n  externalColumnIdOptionFormatter = (externalColumnOption: RxSelectOption): string => externalColumnOption.id;\n\n  onExternalColumnChange(rowDataItem: IRowDataItem): void {\n    const field: IFieldDefinition = this.internalFieldsForMapping.find(\n      (internalField: IFieldDefinition) => internalField.id === rowDataItem.id\n    );\n\n    field.fieldMapping.externalFieldId = rowDataItem.selectedExternalColumns[0]?.id || String(field.id);\n\n    this.setGridRowsData();\n    this.rxWizardModalComponent.api.updateContext({ mappedInternalFields: cloneDeep(this.internalFieldsForMapping) });\n    this.recordIdFieldsStepRecordGrid.api.refresh().subscribe();\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  private setGridRowsData() {\n    this.internalFieldsForMapping.forEach((internalField: IFieldDefinition) => {\n      const externalColumn = this.rawExternalColumns.find(\n        (column: IFieldDefinition) => column.fieldMapping.externalFieldId === internalField.fieldMapping.externalFieldId\n      );\n\n      const selectedExternalColumns: RxSelectOption[] = [];\n\n      if (externalColumn) {\n        selectedExternalColumns.push({\n          id: externalColumn.fieldMapping.externalFieldId,\n          name: externalColumn.name\n        });\n      }\n\n      const gridRowData = this.gridRowsData.find(({ id }) => id === internalField.id);\n\n      if (gridRowData) {\n        gridRowData.selectedExternalColumns = selectedExternalColumns;\n      } else {\n        this.gridRowsData.push({\n          id: internalField.id,\n          name: internalField.name,\n          selectedExternalColumns\n        });\n      }\n    });\n  }\n}\n","<div class=\"section-title\">\n  <adapt-rx-control-label [label]=\"sectionLabel\" class=\"section-label\"></adapt-rx-control-label>\n\n  <ng-template #tooltipContentTemplate>\n    <div class=\"text-left\" [innerHTML]=\"sectionInfoTooltip\"></div>\n  </ng-template>\n\n  <span class=\"section-info\">\n    <adapt-icon\n      name=\"info_circle_o_adapt\"\n      [adaptPopover]=\"tooltipContentTemplate\"\n      width=\"250\"\n      placement=\"bottom\"\n    ></adapt-icon>\n    {{ sectionInfoLabel }}\n  </span>\n</div>\n\n<rx-record-grid #recordIdFieldsStepRecordGrid [config]=\"recordIdFieldsRecordGridConfig$\"></rx-record-grid>\n\n<ng-template #externalColumnCellTemplate let-dataItem=\"dataItem\">\n  <adapt-rx-select\n    [options]=\"externalColumns\"\n    [optionFormatter]=\"externalColumnOptionFormatter\"\n    [emptyOption]=\"true\"\n    [(ngModel)]=\"dataItem.selectedExternalColumns\"\n    (ngModelChange)=\"onExternalColumnChange(dataItem)\"\n    [appendToBody]=\"true\"\n  >\n  </adapt-rx-select>\n</ng-template>\n\n<ng-template #externalColumnIdCellTemplate let-dataItem=\"dataItem\">\n  <adapt-rx-select\n    [options]=\"externalColumnIds\"\n    [optionFormatter]=\"externalColumnIdOptionFormatter\"\n    [emptyOption]=\"true\"\n    [(ngModel)]=\"dataItem.selectedExternalColumns\"\n    (ngModelChange)=\"onExternalColumnChange(dataItem)\"\n    [appendToBody]=\"true\"\n  >\n  </adapt-rx-select>\n</ng-template>\n","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { isEqual } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, shareReplay, skip, takeUntil } from 'rxjs/operators';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { RxExternalDataService } from '../../../services/external-data/external-data.service';\nimport { IExternalRecordWizardContext } from '../external-record-wizard.types';\n\n@Component({\n  selector: 'ax-table-selection-step',\n  templateUrl: 'table-selection-step.component.html',\n  styleUrls: ['./table-selection-step.component.scss']\n})\nexport class TableSelectionStepComponent implements OnInit, OnDestroy {\n  @Input()\n  context: IExternalRecordWizardContext;\n\n  @ViewChild('tableSelectionStepRecordGrid', { static: true })\n  tableSelectionStepRecordGrid: RecordGridComponent;\n\n  sectionLabel: string;\n  tableSelectionRecordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private selectedRow;\n\n  constructor(\n    private rxExternalDataService: RxExternalDataService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit() {\n    this.sectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.table-selection.label'\n    );\n\n    const tableSelectionStepContext$ = this.rxWizardModalComponent.context$.pipe(\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    tableSelectionStepContext$\n      .pipe(\n        map((stepContext) => stepContext.dataSourceName),\n        distinctUntilChanged(isEqual),\n        skip(1)\n      )\n      .subscribe(() => {\n        this.selectedRow = null;\n        this.rxWizardModalComponent.api.updateContext({ tableName: '' });\n        this.tableSelectionStepRecordGrid.api.refresh().subscribe();\n      });\n\n    const isCurrentStep$ = combineLatest([\n      this.rxWizardModalComponent.steps$,\n      this.rxWizardModalComponent.tabIndex$\n    ]).pipe(\n      map(([steps, tabIndex]) => steps[tabIndex].id === 'table-selection'),\n      takeUntil(this.destroyed$)\n    );\n\n    const changedTableName$ = tableSelectionStepContext$.pipe(\n      map((stepContext) => stepContext.tableName),\n      distinctUntilChanged(isEqual)\n    );\n\n    combineLatest([isCurrentStep$, changedTableName$])\n      .pipe(\n        filter(([isCurrentStep, externalTableName]) => isCurrentStep),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe(([isCurrentStep, externalTableName]) => {\n        if (externalTableName) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'name'\n      }\n    ];\n\n    this.tableSelectionRecordGridConfig$ = of({\n      columns: gridColumns,\n      enableColumnSelection: false,\n      enableFiltering: false,\n      enableRowSelection: RowSelectionMode.Single,\n      recordIdField: 'name',\n      styles: 'flex-fill',\n      useExternalFiltering: true,\n      emptyStateLabelText: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.external-record-wizard.table-selection.grid.empty-state.label'\n      ),\n      getRecordDefinition: (): Observable<IRecordDefinition> =>\n        of({\n          fieldDefinitions: [\n            {\n              id: 'name',\n              resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n            }\n          ]\n        }),\n      getData: (queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> =>\n        this.context.dataSourceName\n          ? this.rxExternalDataService.getArsTables(\n              queryParams.pageSize,\n              queryParams.startIndex,\n              this.context.dataSourceName,\n              queryParams.searchText,\n              queryParams.sortBy\n            )\n          : of({\n              totalSize: 0,\n              data: []\n            })\n    });\n\n    this.tableSelectionStepRecordGrid.rowSelectionChanged\n      .pipe(\n        skip(2), // first time there are no columns, second time there are no rows selected\n        takeUntil(this.destroyed$)\n      )\n      .subscribe((selectedRows: IRowDataItem[]) => {\n        if (selectedRows.length) {\n          this.selectedRow = selectedRows[0];\n          this.rxWizardModalComponent.api.updateContext({ tableName: this.selectedRow.name });\n        } else if (this.selectedRow) {\n          this.tableSelectionStepRecordGrid.api.setSelectedRows(this.selectedRow);\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n}\n","<adapt-rx-control-label [label]=\"sectionLabel\" [showRequiredLabel]=\"true\"></adapt-rx-control-label>\n<rx-record-grid #tableSelectionStepRecordGrid [config]=\"tableSelectionRecordGridConfig$\"> </rx-record-grid>\n","import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { head, isEqual } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, shareReplay, skip, takeUntil } from 'rxjs/operators';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\nimport { RxExternalDataService } from '../../../services/external-data/external-data.service';\nimport { IExternalRecordWizardContext } from '../external-record-wizard.types';\n\n@Component({\n  selector: 'ax-web-api-selection-wizard-step',\n  templateUrl: 'web-api-selection-step.component.html',\n  styleUrls: ['./web-api-selection-step.component.scss']\n})\nexport class WebApiSelectionStepComponent implements OnInit, OnDestroy {\n  @Input()\n  context: IExternalRecordWizardContext;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  recordGrid: RecordGridComponent;\n\n  @ViewChild('webApiNameCellTemplate', { static: true })\n  webApiNameCellTemplate: TemplateRef<any>;\n\n  sectionLabel: string;\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private rxExternalDataService: RxExternalDataService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.sectionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.web-api-selection.label'\n    );\n\n    const webApiSelectionStepContext$ = this.rxWizardModalComponent.context$.pipe(\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    webApiSelectionStepContext$\n      .pipe(\n        map((stepContext: IExternalRecordWizardContext) => stepContext.dataSourceName),\n        distinctUntilChanged(isEqual),\n        skip(1)\n      )\n      .subscribe(() => {\n        this.rxWizardModalComponent.api.updateContext({ webApi: null });\n        this.recordGrid.api.refresh().subscribe();\n      });\n\n    const isCurrentStep$ = combineLatest([\n      this.rxWizardModalComponent.steps$,\n      this.rxWizardModalComponent.tabIndex$\n    ]).pipe(\n      map(([steps, tabIndex]) => steps[tabIndex].id === 'web-api-selection'),\n      takeUntil(this.destroyed$)\n    );\n\n    const changedWebApi$ = webApiSelectionStepContext$.pipe(\n      map((stepContext: IExternalRecordWizardContext) => stepContext.webApi),\n      distinctUntilChanged(isEqual)\n    );\n\n    combineLatest([isCurrentStep$, changedWebApi$])\n      .pipe(\n        filter(([isCurrentStep, changedWebApi]) => isCurrentStep),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe(([isCurrentStep, changedWebApi]) => {\n        if (changedWebApi) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        fieldId: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        cellTemplate: this.webApiNameCellTemplate\n      }\n    ];\n\n    const gridRecordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      emptyStateLabelText: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.external-record-wizard.web-api-selection.grid.empty-state.label'\n      ),\n      enableRowSelection: RowSelectionMode.Single,\n      enableFiltering: false,\n      recordIdField: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      getRecordDefinition: () => of(gridRecordDefinition),\n      getData: (): Observable<IDataPageResult> =>\n        this.context.dataSourceName\n          ? this.rxExternalDataService.getWebApiDefinitions()\n          : of({\n              totalSize: 0,\n              data: []\n            })\n    });\n\n    this.recordGrid.rowSelectionChanged\n      .pipe(skip(2), takeUntil(this.destroyed$))\n      .subscribe((selectedRows: IRowDataItem[]) => {\n        this.rxWizardModalComponent.api.updateContext({\n          webApi: head(selectedRows) || null\n        });\n      });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<adapt-rx-control-label [label]=\"sectionLabel\" [showRequiredLabel]=\"true\"></adapt-rx-control-label>\n\n<rx-record-grid [config]=\"recordGridConfig$\"></rx-record-grid>\n\n<ng-template #webApiNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n","import { Component, ComponentFactoryResolver, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map, takeUntil } from 'rxjs/operators';\nimport { isEqual } from 'lodash';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { DocumentSelectionStepComponent } from '../document-selection-step/document-selection-step.component';\nimport { RxExternalDataService } from '../../../services/external-data/external-data.service';\nimport { FieldSelectionStepComponent } from '../field-selection-step/field-selection-step.component';\nimport { FieldTreeSelectionStepComponent } from '../field-tree-selection-step/field-tree-selection-step.component';\nimport { OperationSelectionStepComponent } from '../operation-selection-step/operation-selection-step.component';\nimport { RecordIdFieldsStepComponent } from '../record-id-fields-step/record-id-fields-step.component';\nimport { TableSelectionStepComponent } from '../table-selection-step/table-selection-step.component';\nimport { WebApiSelectionStepComponent } from '../web-api-selection-step/web-api-selection-step.component';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'ax-data-source-step',\n  templateUrl: 'data-source-step.component.html',\n  styleUrls: ['./data-source-step.component.scss']\n})\nexport class DataSourceStepComponent implements OnDestroy, OnInit {\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  dataSourceTypeLabel: string;\n  dataSourceTypeFormControl = new FormControl([], Validators.required);\n  dataSourceTypes: RxSelectOption[] = [];\n  dataSourceNameLabel: string;\n  dataSourceNameFormControl = new FormControl([], Validators.required);\n  dataSourceNames: RxSelectOption[] = [];\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private rxExternalDataService: RxExternalDataService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit() {\n    this.dataSourceNameLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.data-source.data-source-name.label'\n    );\n    this.dataSourceTypeLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.external-record-wizard.data-source.data-source-type.label'\n    );\n\n    this.rxWizardModalComponent.api.disableNextButton();\n\n    this.rxExternalDataService\n      .getDataSourceTypes()\n      .subscribe(\n        (availableDataSourceTypes: string[]) =>\n          (this.dataSourceTypes = availableDataSourceTypes.filter(\n            (type) => type !== RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom\n          ))\n      );\n\n    this.dataSourceTypeFormControl.valueChanges\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe((selectedDataSourceTypes: RxSelectOption[]) => {\n        const dataSourceType = selectedDataSourceTypes[0];\n\n        if (dataSourceType === RX_RECORD_DEFINITION.externalRecordDefinitionDataSourceTypes.webApi) {\n          this.rxWizardModalComponent.api.removeNextSteps(1);\n\n          this.rxWizardModalComponent.api.addStep({\n            id: 'web-api-selection',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.external-record-wizard.web-api-selection.title'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(WebApiSelectionStepComponent)\n          });\n\n          this.rxWizardModalComponent.api.addStep({\n            id: 'document-selection',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.external-record-wizard.document-selection.title'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DocumentSelectionStepComponent)\n          });\n\n          this.rxWizardModalComponent.api.addStep({\n            id: 'field-tree-selection',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-tree-selection.title'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(FieldTreeSelectionStepComponent)\n          });\n\n          this.rxWizardModalComponent.api.addStep({\n            id: 'operation-selection',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.external-record-wizard.operation-selection.title'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(OperationSelectionStepComponent)\n          });\n        } else {\n          this.rxWizardModalComponent.api.removeNextSteps(1);\n\n          this.rxWizardModalComponent.api.addStep({\n            id: 'table-selection',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.external-record-wizard.table-selection.title'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(TableSelectionStepComponent)\n          });\n\n          this.rxWizardModalComponent.api.addStep({\n            id: 'record-id-fields',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.external-record-wizard.record-id-fields.title'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(RecordIdFieldsStepComponent)\n          });\n\n          this.rxWizardModalComponent.api.addStep({\n            id: 'field-selection',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.external-record-wizard.field-selection.title'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(FieldSelectionStepComponent)\n          });\n        }\n\n        this.rxWizardModalComponent.api.updateContext({ dataSourceType });\n\n        if (this.dataSourceNameFormControl.value.length) {\n          this.dataSourceNames = [];\n          this.dataSourceNameFormControl.setValue([]);\n        }\n\n        this.rxExternalDataService\n          .getDataSourceNames(dataSourceType)\n          .subscribe((availableDataSourceNames: string[]) => (this.dataSourceNames = availableDataSourceNames));\n      });\n\n    this.dataSourceNameFormControl.valueChanges\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe((selectedDataSourceNames: RxSelectOption[]) => {\n        this.rxWizardModalComponent.api.updateContext({\n          dataSourceName: selectedDataSourceNames[0]\n        });\n      });\n\n    this.rxWizardModalComponent.context$\n      .pipe(\n        takeUntil(this.destroyed$),\n        map(({ dataSourceType, dataSourceName }) => ({ dataSourceType, dataSourceName })),\n        distinctUntilChanged(isEqual)\n      )\n      .subscribe(({ dataSourceType, dataSourceName }) => {\n        if (dataSourceType && dataSourceName) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n}\n","<div class=\"d-flex flex-column control-width\">\n  <adapt-rx-select\n    [label]=\"dataSourceTypeLabel\"\n    [options]=\"dataSourceTypes\"\n    [required]=\"true\"\n    [formControl]=\"dataSourceTypeFormControl\"\n    class=\"form-group\"\n  ></adapt-rx-select>\n  <adapt-rx-select\n    [label]=\"dataSourceNameLabel\"\n    [options]=\"dataSourceNames\"\n    [required]=\"true\"\n    [formControl]=\"dataSourceNameFormControl\"\n    class=\"form-group\"\n  ></adapt-rx-select>\n</div>\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\nimport { IFieldDefinition, RecordFieldOption, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { RxFieldDefinitionManagerService } from '@helix/platform/record/designer';\nimport { RxWizardService } from '@helix/platform/shared/components';\nimport { RxIdService } from '@helix/platform/utils';\nimport { TranslateService } from '@ngx-translate/core';\nimport { chain, find, get, map, reject, some } from 'lodash';\nimport { DataSourceStepComponent } from './data-source-step/data-source-step.component';\nimport {\n  IExternalRecordDesignerOptions,\n  IExternalRecordWizardContext,\n  IWebApiDocumentSchemaField\n} from './external-record-wizard.types';\n\n@Injectable()\nexport class ExternalRecordWizardService {\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private rxIdService: RxIdService,\n    private rxFieldDefinitionManagerService: RxFieldDefinitionManagerService,\n    private rxWizardService: RxWizardService,\n    private translateService: TranslateService\n  ) {}\n\n  private systemFieldsNames = {\n    idFieldName: 'Record ID',\n    displayIdFieldName: 'Request ID'\n  };\n\n  open(): Promise<IExternalRecordDesignerOptions | null> {\n    const wizardConfig = {\n      title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.external-record-wizard.title'),\n      allowFinish: true,\n      finishButtonLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.save.label'),\n      steps: [\n        {\n          id: 'data-source',\n          name: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.external-record-wizard.data-source.title'\n          ),\n          componentFactory: this.componentFactoryResolver.resolveComponentFactory(DataSourceStepComponent)\n        }\n      ]\n    };\n\n    return this.rxWizardService\n      .open({\n        context: {},\n        options: wizardConfig\n      })\n      .then((context: IExternalRecordWizardContext) => {\n        const webApiProperties = context?.webApi\n          ? {\n              vendorSchemaDescriptor: {\n                dataSourceEntity: {\n                  webApiDefinitionGuid: context.webApi.guid,\n                  documentDefinitionGuid: context.document.guid\n                },\n\n                dataSourceOperations: context.operations\n              },\n              tableName: context.dataSourceName\n            }\n          : {};\n\n        return context\n          ? {\n              dataSourceName: context.dataSourceName,\n              fieldDefinitions: context.webApi\n                ? this.getWebApiFieldDefinitions(context)\n                : this.getArsFieldDefinitions(context),\n              resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType,\n              tableName: context.tableName,\n              ...webApiProperties\n            }\n          : null;\n      });\n  }\n\n  private getArsFieldDefinitions(context: IExternalRecordWizardContext): IFieldDefinition[] {\n    const mappedCoreFields = map(context.mappedInternalFields, (coreField: IFieldDefinition) => {\n      coreField.fieldMapping.resourceType = RX_RECORD_DEFINITION.externalFieldMapping;\n\n      return coreField;\n    });\n\n    const selectedExternalFields = chain(context.selectedExternalFields)\n      .reject(isAssociatedField)\n      .map((externalField: IFieldDefinition) => {\n        externalField.id = this.rxIdService.generate();\n\n        if (externalField.fieldOption === RecordFieldOption.System) {\n          externalField.fieldOption = RecordFieldOption.Required;\n        }\n\n        ['lastChangedBy', 'lastUpdateTime'].forEach((columnProperty) => {\n          delete externalField[columnProperty];\n        });\n\n        return externalField;\n      })\n      .value();\n\n    function isAssociatedField(externalField: IFieldDefinition): boolean {\n      const path = 'fieldMapping.externalFieldId';\n\n      return some(context.mappedInternalFields, [path, get(externalField, path)]);\n    }\n\n    return mappedCoreFields.concat(selectedExternalFields);\n  }\n\n  private getWebApiFieldDefinitions(context: IExternalRecordWizardContext): IFieldDefinition[] {\n    let nonDocumentSchemaFields = [];\n\n    if (context.selectedFieldMapping?.id) {\n      nonDocumentSchemaFields = reject(context.nonDocumentSchemaFields, { name: this.systemFieldsNames.idFieldName });\n    }\n\n    if (context.selectedFieldMapping?.displayId) {\n      nonDocumentSchemaFields = reject(nonDocumentSchemaFields, { name: this.systemFieldsNames.displayIdFieldName });\n    }\n\n    return [...context.documentSchemaFields, ...nonDocumentSchemaFields].map((field: IWebApiDocumentSchemaField) => {\n      if (context.selectedFieldMapping?.id === field.path || field.name === this.systemFieldsNames.idFieldName) {\n        return getIdFieldDefinition(RX_RECORD_DEFINITION.coreFieldIds.id, field);\n      } else if (\n        context.selectedFieldMapping?.displayId === field.path ||\n        field.name === this.systemFieldsNames.displayIdFieldName\n      ) {\n        return getIdFieldDefinition(RX_RECORD_DEFINITION.coreFieldIds.displayId, field);\n      }\n\n      function getIdFieldDefinition(\n        coreFieldId: number,\n        documentSchemaField: IWebApiDocumentSchemaField\n      ): IFieldDefinition {\n        const fieldDefinition = find(RX_RECORD_DEFINITION.coreFields, { id: coreFieldId });\n\n        return {\n          fieldMapping: {\n            resourceType: RX_RECORD_DEFINITION.externalFieldMapping,\n            externalFieldId: documentSchemaField.path\n          },\n          ...fieldDefinition\n        } as IFieldDefinition;\n      }\n\n      const newFieldDefinition = this.rxFieldDefinitionManagerService.getNewFieldDefinitionModel(field.type, {\n        name: field.name\n      });\n\n      return {\n        fieldMapping: {\n          resourceType: RX_RECORD_DEFINITION.externalFieldMapping,\n          externalFieldId: field.path\n        },\n        ...newFieldDefinition\n      };\n    });\n  }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { SelectTexts } from '@bmc-ux/adapt-angular';\nimport {\n  IFieldDefinition,\n  IRecordDefinition,\n  RX_RECORD_DEFINITION,\n  RxFieldDefinitionService,\n  RxRecordDefinitionService\n} from '@helix/platform/record/api';\nimport { RxDefinitionNameService } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxGuidService } from '@helix/platform/utils';\nimport { TranslateService } from '@ngx-translate/core';\nimport { chain, cloneDeep, concat, includes, intersection, map as _map } from 'lodash';\nimport { combineLatest, Observable, ReplaySubject } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  pluck,\n  shareReplay,\n  startWith,\n  switchMap,\n  takeUntil,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\n\n@Component({\n  selector: 'ax-field-selection-step',\n  templateUrl: './field-selection-step.component.html',\n  styleUrls: ['./field-selection-step.component.scss']\n})\nexport class FieldSelectionStepComponent implements OnInit, OnDestroy {\n  private notificationMessage = this.translateService.instant(\n    'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.notification.message'\n  );\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  primaryAvailableFields$: Observable<IFieldDefinition[]>;\n  secondaryAvailableFields$: Observable<IFieldDefinition[]>;\n\n  selectLabel: string;\n  hasDuplicates$: Observable<boolean>;\n\n  alertConfig = {\n    content: this.notificationMessage,\n    variant: 'info',\n    type: 'inline',\n    dismissible: false\n  };\n\n  selectTexts: SelectTexts = {\n    headerText: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.select.header'\n    ),\n    numberOptionsText: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.select.fields.label'\n    ),\n    checked: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.select.selected.label'\n    )\n  };\n\n  primarySelectedFieldsFormControl = new FormControl([]);\n  secondarySelectedFieldsFormControl = new FormControl([]);\n\n  constructor(\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxFieldDefinitionService: RxFieldDefinitionService,\n    private rxGuidService: RxGuidService,\n    private rxRecordDefinitionService: RxRecordDefinitionService\n  ) {}\n\n  ngOnInit() {\n    this.rxWizardModalComponent.api.enableFinishButton();\n\n    const context$ = this.rxWizardModalComponent.context$.pipe(\n      tap((context) => {\n        if (!context.selectedFields) {\n          this.primarySelectedFieldsFormControl.setValue([]);\n          this.secondarySelectedFieldsFormControl.setValue([]);\n        }\n      }),\n      shareReplay(1),\n      takeUntil(this.destroyed$)\n    );\n\n    const primaryRecordDefinitionName$ = context$.pipe(\n      pluck('primaryRecordDefinitionName'),\n      distinctUntilChanged(),\n      filter<string>(Boolean),\n      shareReplay(1)\n    );\n\n    const secondaryRecordDefinitionName$ = context$.pipe(\n      pluck('secondaryRecordDefinitionName'),\n      distinctUntilChanged(),\n      filter<string>(Boolean),\n      shareReplay(1)\n    );\n\n    combineLatest([primaryRecordDefinitionName$, secondaryRecordDefinitionName$]).subscribe(\n      ([primaryRecordDefinitionName, secondaryRecordDefinitionName]) => {\n        this.selectLabel = this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.select.label',\n          {\n            primaryRecordDefinitionName: this.rxDefinitionNameService.getDisplayName(primaryRecordDefinitionName),\n            secondaryRecordDefinitionName: this.rxDefinitionNameService.getDisplayName(secondaryRecordDefinitionName)\n          }\n        );\n      }\n    );\n\n    this.primaryAvailableFields$ = primaryRecordDefinitionName$.pipe(\n      switchMap((primaryRecordDefinitionName) =>\n        this.rxRecordDefinitionService.get(primaryRecordDefinitionName, {}, true)\n      ),\n      map((recordDefinition) =>\n        this.getJoinFieldDefinitions(recordDefinition, RX_RECORD_DEFINITION.sourceRecordTypes.primary)\n      )\n    );\n\n    this.secondaryAvailableFields$ = secondaryRecordDefinitionName$.pipe(\n      switchMap((secondaryRecordDefinitionName) =>\n        this.rxRecordDefinitionService.get(secondaryRecordDefinitionName, {}, true)\n      ),\n      map((recordDefinition) =>\n        this.getJoinFieldDefinitions(recordDefinition, RX_RECORD_DEFINITION.sourceRecordTypes.secondary)\n      )\n    );\n\n    const primarySelectedFields$ = this.primarySelectedFieldsFormControl.valueChanges.pipe(startWith([]));\n    const secondarySelectedFields$ = this.secondarySelectedFieldsFormControl.valueChanges.pipe(startWith([]));\n\n    const duplicateNames$ = combineLatest([primarySelectedFields$, secondarySelectedFields$]).pipe(\n      map(([primarySelectedFields, secondarySelectedFields]) => {\n        const selectedPrimaryFieldNames = _map(primarySelectedFields, 'name');\n        const selectedSecondaryFieldNames = _map(secondarySelectedFields, 'name');\n\n        return intersection(selectedPrimaryFieldNames, selectedSecondaryFieldNames).concat(\n          intersection(\n            _map(RX_RECORD_DEFINITION.joinRecordDefinitionCoreFields, 'name'),\n            selectedPrimaryFieldNames.concat(selectedSecondaryFieldNames)\n          )\n        );\n      }),\n      shareReplay(1)\n    );\n\n    this.hasDuplicates$ = duplicateNames$.pipe(map((duplicateNames) => !!duplicateNames.length));\n\n    combineLatest([primarySelectedFields$, secondarySelectedFields$])\n      .pipe(\n        withLatestFrom(duplicateNames$, primaryRecordDefinitionName$, secondaryRecordDefinitionName$),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe(\n        ([\n          [primarySelectedFields, secondarySelectedFields],\n          duplicateNames,\n          primaryRecordDefinitionName,\n          secondaryRecordDefinitionName\n        ]) => {\n          const nonRetainableFieldIds = chain(primarySelectedFields)\n            .concat(secondarySelectedFields)\n            .map('fieldMapping.sourceFieldId')\n            .filter((fieldId, index, selectedFieldIds) => includes(selectedFieldIds, fieldId, index + 1))\n            .union(RX_RECORD_DEFINITION.joinRecordDefinitionCoreFieldIds)\n            .value();\n\n          const primaryRecordDisplayName = this.rxDefinitionNameService.getDisplayName(primaryRecordDefinitionName);\n          const secondaryRecordDisplayName = this.rxDefinitionNameService.getDisplayName(secondaryRecordDefinitionName);\n\n          this.rxWizardModalComponent.api.updateContext({\n            selectedFields: concat(primarySelectedFields, secondarySelectedFields)\n              .filter((fieldDefinition) => this.rxFieldDefinitionService.isJoinedField(fieldDefinition))\n              .map((fieldDefinition) => {\n                const field = cloneDeep(fieldDefinition);\n\n                if (includes(duplicateNames, field.name)) {\n                  if (field.fieldMapping.source === RX_RECORD_DEFINITION.sourceRecordTypes.primary) {\n                    field.name = `${field.name} - ${primaryRecordDisplayName}`;\n                  } else {\n                    field.name = `${field.name} - ${secondaryRecordDisplayName}`;\n                  }\n                }\n\n                if (!includes(nonRetainableFieldIds, field.fieldMapping.sourceFieldId)) {\n                  field.customId = field.fieldMapping.sourceFieldId;\n                }\n\n                return field;\n              })\n              .concat(RX_RECORD_DEFINITION.joinRecordDefinitionCoreFields)\n          });\n        }\n      );\n  }\n\n  optionFormatter(field: IFieldDefinition): string {\n    return field.name;\n  }\n\n  private getJoinFieldDefinitions(record: IRecordDefinition, sourceType: string): IFieldDefinition[] {\n    return _map(record?.fieldDefinitions, (fieldDefinition) => {\n      const joinFieldDefinition = cloneDeep(fieldDefinition);\n\n      joinFieldDefinition.fieldMapping = {\n        resourceType: RX_RECORD_DEFINITION.joinFieldMapping,\n        sourceFieldId: fieldDefinition.id,\n        source: sourceType\n      };\n\n      joinFieldDefinition.id = this.rxGuidService.generate('rx-');\n\n      // Join record should not carry forward FTS properties from primary and secondary record.\n      if (joinFieldDefinition.searchDefinition) {\n        joinFieldDefinition.searchDefinition = null;\n      }\n\n      delete joinFieldDefinition.lastUpdateTime;\n\n      return joinFieldDefinition;\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<div class=\"d-flex flex-column mh-100\">\n  <div>\n    <adapt-alert *ngIf=\"hasDuplicates$ | async\" class=\"mb-3\" [config]=\"alertConfig\"></adapt-alert>\n  </div>\n\n  <label>{{ selectLabel }}</label>\n\n  <div class=\"d-flex flex-row select-container\">\n    <adapt-rx-select\n      class=\"d-flex flex-column h-100\"\n      *ngIf=\"primaryAvailableFields$ | async as primaryAvailableFields\"\n      [inline]=\"true\"\n      [multiple]=\"true\"\n      [options]=\"primaryAvailableFields\"\n      [optionFormatter]=\"optionFormatter\"\n      [selectAllButton]=\"true\"\n      [deselectAllButton]=\"true\"\n      [texts]=\"selectTexts\"\n      [popupMaxHeight]=\"'100%'\"\n      [formControl]=\"primarySelectedFieldsFormControl\"\n      [label]=\"'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.primary-record.label' | translate\"\n    >\n    </adapt-rx-select>\n\n    <adapt-rx-select\n      class=\"ml-4 d-flex flex-column h-100\"\n      *ngIf=\"secondaryAvailableFields$ | async as secondaryAvailableFields\"\n      [inline]=\"true\"\n      [multiple]=\"true\"\n      [options]=\"secondaryAvailableFields\"\n      [optionFormatter]=\"optionFormatter\"\n      [selectAllButton]=\"true\"\n      [deselectAllButton]=\"true\"\n      [texts]=\"selectTexts\"\n      [popupMaxHeight]=\"'100%'\"\n      [formControl]=\"secondarySelectedFieldsFormControl\"\n      [label]=\"\n        'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.secondary-record.label' | translate\n      \"\n    >\n    </adapt-rx-select>\n  </div>\n</div>\n","import { Injector } from '@angular/core';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { RxDefinitionNameService, RxExpressionConfigurator } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { chain } from 'lodash';\nimport { of } from 'rxjs';\n\nexport class JoinCriteriaExpressionConfigurator extends RxExpressionConfigurator {\n  commonDataDictionary$ = null;\n\n  constructor(\n    primaryRecordDefinition: IRecordDefinition,\n    secondaryRecordDefinition: IRecordDefinition,\n    injector: Injector\n  ) {\n    super();\n\n    const translateService: TranslateService = injector.get<TranslateService>(TranslateService);\n\n    const rxDefinitionNameService: RxDefinitionNameService =\n      injector.get<RxDefinitionNameService>(RxDefinitionNameService);\n\n    const records = [\n      {\n        recordDefinitionName: rxDefinitionNameService.getDisplayName(primaryRecordDefinition.name),\n        label: `(${translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.primary.label'\n        )})`,\n        type: RX_RECORD_DEFINITION.sourceRecordTypes.primary,\n        fieldDefinitions: primaryRecordDefinition.fieldDefinitions\n      },\n      {\n        recordDefinitionName: rxDefinitionNameService.getDisplayName(secondaryRecordDefinition.name),\n        label: `(${translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.secondary.label'\n        )})`,\n        type: RX_RECORD_DEFINITION.sourceRecordTypes.secondary,\n        fieldDefinitions: secondaryRecordDefinition.fieldDefinitions\n      }\n    ];\n\n    this.commonDataDictionary$ = of(\n      records.map((record) => ({\n        label: `${record.recordDefinitionName} ${record.label}`,\n        expanded: true,\n        children: chain(record.fieldDefinitions)\n          .map((fieldDefinition) => {\n            if (fieldDefinition.resourceType !== RX_RECORD_DEFINITION.dataTypes.attachment.resourceType) {\n              return {\n                label: `${record.recordDefinitionName}.${fieldDefinition.name}`,\n                icon: 'd-icon-field_text',\n                expression: `\\${${record.recordDefinitionName}.${record.type}.${fieldDefinition.name}}`\n              };\n            }\n          })\n          .compact()\n          .sortBy((item) => item.label.toLocaleLowerCase())\n          .value()\n      }))\n    );\n  }\n}\n","import { Component, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { RxRecordDefinitionCacheService } from '@helix/platform/record/api';\nimport { ExpressionOperatorGroup, ExpressionOperatorRowsByGroup } from '@helix/platform/shared/api';\nimport {\n  IExpressionEditorPropertyChange,\n  IExpressionFormControlOptions,\n  RxExpressionEditorService,\n  RxWizardModalComponent\n} from '@helix/platform/shared/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { combineLatest, Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, pluck, switchMap, take, tap } from 'rxjs/operators';\nimport { JoinCriteriaExpressionConfigurator } from './join-criteria-expression-configurator';\n\n@Component({\n  selector: 'ax-join-criteria-step',\n  templateUrl: 'join-criteria-step.component.html'\n})\nexport class JoinCriteriaStepComponent implements OnInit, OnDestroy {\n  expressionOptions$: Observable<IExpressionFormControlOptions>;\n  isExpressionFormControlVisible = false;\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private expressionConfigurator: JoinCriteriaExpressionConfigurator;\n\n  private expressionFormControlLabel = this.translateService.instant(\n    'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.on-statement.label'\n  );\n\n  private expressionFormControlTooltip = this.translateService.instant(\n    'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.on-statement.tooltip'\n  );\n\n  constructor(\n    private injector: Injector,\n    private translateService: TranslateService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    public rxWizardModalComponent: RxWizardModalComponent,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService\n  ) {}\n\n  ngOnInit() {\n    const primaryRecordDefinition$ = this.rxWizardModalComponent.context$.pipe(\n      pluck('primaryRecordDefinitionName'),\n      distinctUntilChanged(),\n      filter<string>(Boolean),\n      switchMap((primaryRecordDefinitionName) =>\n        this.rxRecordDefinitionCacheService.getRecordDefinition(primaryRecordDefinitionName)\n      )\n    );\n\n    const secondaryRecordDefinition$ = this.rxWizardModalComponent.context$.pipe(\n      pluck('secondaryRecordDefinitionName'),\n      distinctUntilChanged(),\n      filter<string>(Boolean),\n      switchMap((secondaryRecordDefinitionName) =>\n        this.rxRecordDefinitionCacheService.getRecordDefinition(secondaryRecordDefinitionName)\n      )\n    );\n\n    this.expressionOptions$ = combineLatest([primaryRecordDefinition$, secondaryRecordDefinition$]).pipe(\n      tap(() => {\n        this.isExpressionFormControlVisible = false;\n\n        setTimeout(() => {\n          this.isExpressionFormControlVisible = true;\n        });\n      }),\n      map(([primaryRecordDefinition, secondaryRecordDefinition]) => {\n        this.expressionConfigurator = new JoinCriteriaExpressionConfigurator(\n          primaryRecordDefinition,\n          secondaryRecordDefinition,\n          this.injector\n        );\n\n        this.expressionConfigurator.configureForProperty({\n          propertyPath: 'joinCriteria',\n          operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.All)\n        });\n\n        return {\n          dataDictionary$: this.expressionConfigurator.getDataDictionary('joinCriteria'),\n          label: this.expressionFormControlLabel,\n          tooltip: {\n            iconName: 'question_circle_o',\n            content: this.expressionFormControlTooltip\n          },\n          operators: this.expressionConfigurator.getOperators('joinCriteria')\n        };\n      })\n    );\n  }\n\n  openEditor(): void {\n    this.rxWizardModalComponent.context$\n      .pipe(\n        pluck('joinCriteria'),\n        take(1),\n        switchMap((joinCriteria) =>\n          this.rxExpressionEditorService.openEditor({\n            property: {\n              value: joinCriteria,\n              path: 'joinCriteria',\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.on-statement.label'\n              )\n            },\n            expressionConfigurator: this.expressionConfigurator,\n            legend: [\n              {\n                label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.field.label'),\n                icon: 'd-icon-field_text'\n              }\n            ]\n          })\n        )\n      )\n      .subscribe((expression: IExpressionEditorPropertyChange) => {\n        this.rxWizardModalComponent.api.updateContext({ joinCriteria: expression.value });\n      });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<p>\n  {{ 'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.info' | translate }}\n</p>\n\n<div *ngIf=\"expressionOptions$ | async as expressionOptions\">\n  <ng-container *ngIf=\"isExpressionFormControlVisible\">\n    <rx-expression-form-control\n      [ngModel]=\"(rxWizardModalComponent.context$ | async).joinCriteria\"\n      (events)=\"openEditor()\"\n      [options]=\"expressionOptions\"\n    ></rx-expression-form-control>\n  </ng-container>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IDefinitionPickerComponentOptions,\n  RxDefinitionPickerScope,\n  RxDefinitionPickerType,\n  RxWizardModalComponent\n} from '@helix/platform/shared/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { head } from 'lodash';\nimport { ReplaySubject } from 'rxjs';\nimport { takeUntil, withLatestFrom } from 'rxjs/operators';\nimport { IJoinRecordWizardContext } from '../join-record-wizard.types';\n\n@Component({\n  selector: 'ax-record-definitions-step',\n  templateUrl: './record-definitions-step.component.html',\n  styleUrls: ['./record-definitions-step.component.scss']\n})\nexport class RecordDefinitionsStepComponent implements OnInit, OnDestroy {\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  private definitionPickerConfig: IDefinitionPickerComponentOptions = {\n    label: '',\n    definitionType: RxDefinitionPickerType.Record,\n    availableDefinitionPickerStates: {\n      definitionButtonsGroups: [RxDefinitionPickerScope.Bundle, RxDefinitionPickerScope.All],\n      search: RxDefinitionPickerScope.All\n    },\n    required: true\n  };\n\n  primaryDefinitionPickerConfig = {\n    ...this.definitionPickerConfig,\n    label: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.join-record-wizard.record-definitions.primary-record.label'\n    )\n  };\n\n  secondaryDefinitionPickerConfig = {\n    ...this.definitionPickerConfig,\n    label: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.join-record-wizard.record-definitions.secondary-record.label'\n    )\n  };\n\n  joinTypes: RxSelectOption[] = [RX_RECORD_DEFINITION.joinTypes.inner, RX_RECORD_DEFINITION.joinTypes.outer];\n\n  primaryRecordDefinitionNameFormControl = new FormControl('', Validators.required);\n  secondaryRecordDefinitionNameFormControl = new FormControl('', Validators.required);\n  joinTypeFormControl = new FormControl([], Validators.required);\n\n  constructor(private translateService: TranslateService, private rxWizardModalComponent: RxWizardModalComponent) {}\n\n  optionFormatter(selectOption: RxSelectOption): string {\n    return selectOption.displayName;\n  }\n\n  ngOnInit() {\n    this.rxWizardModalComponent.api.disableFinishButton();\n    this.rxWizardModalComponent.api.disableNextButton();\n\n    this.primaryRecordDefinitionNameFormControl.valueChanges\n      .pipe(withLatestFrom(this.rxWizardModalComponent.context$), takeUntil(this.destroyed$))\n      .subscribe(([primaryRecordDefinitionName, context]) => {\n        const newContext: IJoinRecordWizardContext = { primaryRecordDefinitionName };\n\n        if (primaryRecordDefinitionName !== context.primaryRecordDefinitionName) {\n          newContext.joinCriteria = null;\n          newContext.selectedFields = null;\n        }\n\n        this.rxWizardModalComponent.api.updateContext(newContext);\n      });\n\n    this.secondaryRecordDefinitionNameFormControl.valueChanges\n      .pipe(withLatestFrom(this.rxWizardModalComponent.context$), takeUntil(this.destroyed$))\n      .subscribe(([secondaryRecordDefinitionName, context]) => {\n        const newContext: IJoinRecordWizardContext = { secondaryRecordDefinitionName };\n\n        if (secondaryRecordDefinitionName !== context.primaryRecordDefinitionName) {\n          newContext.joinCriteria = null;\n          newContext.selectedFields = null;\n        }\n\n        this.rxWizardModalComponent.api.updateContext(newContext);\n      });\n\n    this.joinTypeFormControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((joinType: RxSelectOption[]) => {\n      this.rxWizardModalComponent.api.updateContext({\n        joinType: head(joinType).value\n      });\n    });\n\n    this.rxWizardModalComponent.context$\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe((context: IJoinRecordWizardContext) => {\n        if (context.primaryRecordDefinitionName && context.secondaryRecordDefinitionName && context.joinType) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<div class=\"d-flex flex-column control-width\">\n  <rx-definition-picker\n    [options]=\"primaryDefinitionPickerConfig\"\n    [formControl]=\"primaryRecordDefinitionNameFormControl\"\n    class=\"form-group\"\n  ></rx-definition-picker>\n\n  <rx-definition-picker\n    [options]=\"secondaryDefinitionPickerConfig\"\n    [formControl]=\"secondaryRecordDefinitionNameFormControl\"\n    class=\"form-group\"\n  ></rx-definition-picker>\n\n  <adapt-rx-select\n    [required]=\"true\"\n    [label]=\"'com.bmc.arsys.rx.innovation-studio.join-record-wizard.record-definitions.type.label' | translate\"\n    [options]=\"joinTypes\"\n    [optionFormatter]=\"optionFormatter\"\n    [formControl]=\"joinTypeFormControl\"\n  ></adapt-rx-select>\n</div>\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { RxWizardService } from '@helix/platform/shared/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { FieldSelectionStepComponent } from './field-selection-step/field-selection-step.component';\nimport { JoinCriteriaStepComponent } from './join-criteria-step/join-criteria-step.component';\nimport { IJoinRecordDesignerOptions, IJoinRecordWizardContext } from './join-record-wizard.types';\nimport { RecordDefinitionsStepComponent } from './record-definitions-step/record-definitions-step.component';\n\n@Injectable()\nexport class JoinRecordWizardService {\n  private title = this.translateService.instant('com.bmc.arsys.rx.innovation-studio.join-record-wizard.title');\n  private finishButtonLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.save.label');\n\n  constructor(\n    private rxWizardService: RxWizardService,\n    private translateService: TranslateService,\n    private componentFactoryResolver: ComponentFactoryResolver\n  ) {}\n\n  open(): Promise<IJoinRecordDesignerOptions | null> {\n    const wizardConfig = {\n      title: this.title,\n      allowFinish: true,\n      finishButtonLabel: this.finishButtonLabel,\n      steps: [\n        {\n          id: 'record-definitions',\n          name: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.join-record-wizard.record-definitions.title'\n          ),\n          componentFactory: this.componentFactoryResolver.resolveComponentFactory(RecordDefinitionsStepComponent)\n        },\n        {\n          id: 'join-criteria',\n          name: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.title'\n          ),\n          componentFactory: this.componentFactoryResolver.resolveComponentFactory(JoinCriteriaStepComponent)\n        },\n        {\n          id: 'field-selection',\n          name: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.join-record-wizard.field-selection.title'\n          ),\n          componentFactory: this.componentFactoryResolver.resolveComponentFactory(FieldSelectionStepComponent)\n        }\n      ]\n    };\n\n    return this.rxWizardService\n      .open<IJoinRecordWizardContext>({\n        context: {},\n        options: wizardConfig\n      })\n      .then((context: IJoinRecordWizardContext) => {\n        if (context) {\n          return {\n            primaryRecordDefinitionName: context.primaryRecordDefinitionName,\n            secondaryRecordDefinitionName: context.secondaryRecordDefinitionName,\n            joinCriteria: context.joinCriteria,\n            joinType: context.joinType,\n            resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType,\n            fieldDefinitions: context.selectedFields\n          };\n        } else {\n          return null;\n        }\n      });\n  }\n}\n","export const AX_RECORD_DEFINITION_TAB = {\n  archiving: {\n    recordDefinitionName: 'AR System Archive Policy',\n    fieldIds: {\n      runNow: 357\n    }\n  }\n};\n","import { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Component, Injector } from '@angular/core';\nimport { ActiveModalRef } from '@bmc-ux/adapt-angular';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { RxRecordDefinitionService, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { RxDefinitionNameService, RxBundleCacheService, RX_APPLICATION } from '@helix/platform/shared/api';\nimport { finalize, startWith } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { RxExternalDataService } from '../../services/external-data/external-data.service';\n\n@Component({\n  selector: 'ax-create-custom-record',\n  templateUrl: './create-custom-record.component.html'\n})\nexport class CreateCustomRecordComponent extends RxModalClass {\n  createCustomRecordForm: FormGroup;\n\n  customDataSourceNames$: Observable<string[]>;\n\n  constructor(\n    protected injector: Injector,\n    private formBuilder: FormBuilder,\n    private activeModalRef: ActiveModalRef,\n    private rxExternalDataService: RxExternalDataService,\n    private rxRecordDefinitionService: RxRecordDefinitionService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxBundleCache: RxBundleCacheService,\n    private router: Router\n  ) {\n    super(activeModalRef, injector);\n\n    this.initForm();\n\n    this.customDataSourceNames$ = this.rxExternalDataService\n      .getDataSourceNames(RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom)\n      .pipe(startWith([]));\n  }\n\n  submit(): void {\n    const createCustomRecordFormValue = this.createCustomRecordForm.value;\n\n    const recordDefinitionName = this.rxDefinitionNameService.getDefinitionName(\n      this.rxBundleCache.bundleId,\n      createCustomRecordFormValue.name\n    );\n\n    const customRecordDefinition = {\n      name: recordDefinitionName,\n      dataSourceName: createCustomRecordFormValue.dataSourceName[0],\n      resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType,\n      fieldDefinitions: [\n        {\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character,\n          name: 'Display ID',\n          id: 1,\n          fieldOption: RX_RECORD_DEFINITION.fieldOptions.system\n        },\n        {\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character,\n          name: 'ID',\n          id: 379,\n          fieldOption: RX_RECORD_DEFINITION.fieldOptions.system\n        },\n        {\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character,\n          name: 'Data Provider ID',\n          id: 380,\n          fieldOption: RX_RECORD_DEFINITION.fieldOptions.required\n        }\n      ]\n    };\n\n    this.allowDismiss = false;\n\n    this.rxRecordDefinitionService\n      .create(customRecordDefinition)\n      .pipe(\n        finalize(() => {\n          this.allowDismiss = true;\n        })\n      )\n      .subscribe(() => {\n        this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'record', 'edit', recordDefinitionName]);\n      });\n  }\n\n  cancel() {\n    this.dismissDialog();\n  }\n\n  private initForm(): void {\n    this.createCustomRecordForm = this.formBuilder.group({\n      name: this.formBuilder.control(null, [Validators.required]),\n      dataSourceName: this.formBuilder.control(null, [Validators.required])\n    });\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.innovation-studio.create-custom-record-modal.title' | translate }}\n  </h5>\n  <button\n    class=\"close close-inverse\"\n    data-dismiss=\"modal\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <form [formGroup]=\"createCustomRecordForm\">\n    <adapt-rx-textfield\n      autofocus\n      rx-id=\"name\"\n      class=\"d-block form-group\"\n      name=\"name\"\n      formControlName=\"name\"\n      label=\"{{ 'com.bmc.arsys.rx.client.common.name.label' | translate }}\"\n    ></adapt-rx-textfield>\n    <adapt-rx-select\n      rx-id=\"data-source-name\"\n      class=\"form-group\"\n      label=\"{{ 'com.bmc.arsys.rx.innovation-studio.create-custom-record-modal.data-source-name.label' | translate }}\"\n      name=\"dataSourceName\"\n      formControlName=\"dataSourceName\"\n      [disabled]=\"!allowDismiss\"\n      [options]=\"customDataSourceNames$ | async\"\n    ></adapt-rx-select>\n  </form>\n</div>\n\n<div class=\"modal-footer d-flex w-100\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    [disabled]=\"createCustomRecordForm.pristine || createCustomRecordForm.invalid || !allowDismiss\"\n    (click)=\"submit()\"\n    rx-id=\"create-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.create.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n    rx-id=\"cancel-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Injector } from '@angular/core';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  ExpressionOperatorGroup,\n  ExpressionOperatorRowsByGroup,\n  IDataDictionary,\n  IExpressionConfigurator,\n  IExpressionConfiguratorDefaultPropertyConfig,\n  RxDefinitionNameService,\n  RxExpressionConfigurator\n} from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { chain } from 'lodash';\nimport { combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport class JoinCriteriaExpressionConfigurator extends RxExpressionConfigurator implements IExpressionConfigurator {\n  private translateService = this.injector.get(TranslateService);\n  private rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n\n  constructor(\n    private primaryRecordDefinition$: Observable<IRecordDefinition>,\n    private secondaryRecordDefinition$: Observable<IRecordDefinition>,\n    private injector: Injector\n  ) {\n    super();\n  }\n\n  commonDataDictionary$: Observable<IDataDictionary> = combineLatest([\n    this.primaryRecordDefinition$,\n    this.secondaryRecordDefinition$\n  ]).pipe(\n    map(([primaryRecordDefinition, secondaryRecordDefinition]) => {\n      if (primaryRecordDefinition && secondaryRecordDefinition) {\n        const records = [\n          {\n            recordDefinitionName: this.rxDefinitionNameService.getDisplayName(primaryRecordDefinition.name),\n            label: `(${this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.primary.label'\n            )})`,\n            type: RX_RECORD_DEFINITION.sourceRecordTypes.primary,\n            fieldDefinitions: primaryRecordDefinition.fieldDefinitions\n          },\n          {\n            recordDefinitionName: this.rxDefinitionNameService.getDisplayName(secondaryRecordDefinition.name),\n            label: `(${this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.secondary.label'\n            )})`,\n            type: RX_RECORD_DEFINITION.sourceRecordTypes.secondary,\n            fieldDefinitions: secondaryRecordDefinition.fieldDefinitions\n          }\n        ];\n\n        return records.map((record) => ({\n          label: `${record.recordDefinitionName} ${record.label}`,\n          expanded: true,\n          children: chain(record.fieldDefinitions)\n            .reject({ resourceType: RX_RECORD_DEFINITION.dataTypes.attachment.resourceType })\n            .map((fieldDefinition) => ({\n              label: `${record.recordDefinitionName}.${fieldDefinition.name}`,\n              icon: 'd-icon-field_text',\n              expression: `\\${${record.recordDefinitionName}.${record.type}.${fieldDefinition.name}}`\n            }))\n            .sortBy((item) => item.label.toLocaleLowerCase())\n            .value()\n        }));\n      } else {\n        return [];\n      }\n    })\n  );\n\n  getDefaultConfig(): IExpressionConfiguratorDefaultPropertyConfig {\n    return {\n      ...super.getDefaultConfig(),\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.AllServer)\n    };\n  }\n}\n","import { Router } from '@angular/router';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Injector, OnInit } from '@angular/core';\nimport { ActiveModalRef, RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport {\n  RxRecordDefinitionCacheService,\n  RxRecordDefinitionService,\n  RX_RECORD_DEFINITION\n} from '@helix/platform/record/api';\nimport { RxDefinitionNameService, RxBundleCacheService, RX_APPLICATION } from '@helix/platform/shared/api';\nimport { finalize, shareReplay, startWith, switchMap, takeUntil } from 'rxjs/operators';\nimport { combineLatest, of, ReplaySubject } from 'rxjs';\nimport {\n  IExpressionEditorPropertyChange,\n  RxDefinitionPickerScope,\n  RxDefinitionPickerType,\n  RxExpressionEditorService\n} from '@helix/platform/shared/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { JoinCriteriaExpressionConfigurator } from './join-criteria-expression-configurator';\nimport { RxRecordDesignerService } from '@helix/platform/record/designer';\n\n@Component({\n  selector: 'rx-create-join-record',\n  templateUrl: './create-join-record.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CreateJoinRecordComponent extends RxModalClass implements OnInit {\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  private expressionFormControlLabel = this.translateService.instant(\n    'com.bmc.arsys.rx.innovation-studio.create-join-record-modal.join-criteria.on-statement.label'\n  );\n\n  private expressionFormControlTooltip = this.translateService.instant(\n    'com.bmc.arsys.rx.innovation-studio.create-join-record-modal.join-criteria.on-statement.tooltip'\n  );\n\n  primaryRecordDefinitionPickerOptions = {\n    label: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.create-join-record-modal.primary-record.label'\n    ),\n    definitionType: RxDefinitionPickerType.Record,\n    required: true\n  };\n\n  secondaryRecordDefinitionPickerOptions = {\n    label: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.create-join-record-modal.secondary-record.label'\n    ),\n    definitionType: RxDefinitionPickerType.Record,\n    required: true\n  };\n\n  joinTypes: RxSelectOption[] = [RX_RECORD_DEFINITION.joinTypes.inner, RX_RECORD_DEFINITION.joinTypes.outer];\n\n  private primaryRecordDefinitionNameFormControl = new FormControl('', Validators.required);\n  private secondaryRecordDefinitionNameFormControl = new FormControl('', Validators.required);\n\n  private primaryRecordDefinition$ = this.primaryRecordDefinitionNameFormControl.valueChanges.pipe(\n    startWith(null),\n    switchMap((primaryRecordDefinitionName) =>\n      primaryRecordDefinitionName\n        ? this.rxRecordDefinitionCacheService.getRecordDefinition(primaryRecordDefinitionName)\n        : of(null)\n    ),\n    shareReplay(1)\n  );\n\n  private secondaryRecordDefinition$ = this.secondaryRecordDefinitionNameFormControl.valueChanges.pipe(\n    startWith(null),\n    switchMap((secondaryRecordDefinitionName) =>\n      secondaryRecordDefinitionName\n        ? this.rxRecordDefinitionCacheService.getRecordDefinition(secondaryRecordDefinitionName)\n        : of(null)\n    ),\n    shareReplay(1)\n  );\n\n  createJoinRecordForm = new FormGroup({\n    name: new FormControl('', Validators.required),\n    primaryRecordDefinitionName: this.primaryRecordDefinitionNameFormControl,\n    secondaryRecordDefinitionName: this.secondaryRecordDefinitionNameFormControl,\n    joinType: new FormControl([], Validators.required),\n    joinCriteria: new FormControl('')\n  });\n\n  private expressionConfigurator = new JoinCriteriaExpressionConfigurator(\n    this.primaryRecordDefinition$,\n    this.secondaryRecordDefinition$,\n    this.injector\n  );\n\n  expressionFormControlOptions = {\n    label: this.expressionFormControlLabel,\n    tooltip: {\n      iconName: 'question_circle_o',\n      content: this.expressionFormControlTooltip\n    },\n    dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n    operators: this.expressionConfigurator.getOperators()\n  };\n\n  constructor(\n    protected injector: Injector,\n    private activeModalRef: ActiveModalRef,\n    private rxRecordDefinitionService: RxRecordDefinitionService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxBundleCache: RxBundleCacheService,\n    private router: Router,\n    private translateService: TranslateService,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxRecordDesignerService: RxRecordDesignerService,\n    private changeDetector: ChangeDetectorRef\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    combineLatest([this.primaryRecordDefinition$, this.secondaryRecordDefinition$])\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe(() => {\n        this.createJoinRecordForm.controls.joinCriteria.reset();\n      });\n  }\n\n  optionFormatter(selectOption: RxSelectOption): string {\n    return selectOption.displayName;\n  }\n\n  openEditor(): void {\n    this.rxExpressionEditorService\n      .openEditor({\n        property: {\n          value: this.createJoinRecordForm.controls.joinCriteria.value,\n          path: 'joinCriteria',\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.create-join-record-modal.join-criteria.on-statement.label'\n          )\n        },\n        expressionConfigurator: this.expressionConfigurator,\n        legend: [\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.field.label'),\n            icon: 'd-icon-field_text'\n          }\n        ]\n      })\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe((expression: IExpressionEditorPropertyChange) => {\n        this.createJoinRecordForm.controls.joinCriteria.setValue(expression.value);\n        this.changeDetector.markForCheck();\n      });\n  }\n\n  createRecord(): void {\n    const createJoinRecordFormValue = this.createJoinRecordForm.value;\n\n    const recordDefinitionName = this.rxDefinitionNameService.getDefinitionName(\n      this.rxBundleCache.bundleId,\n      createJoinRecordFormValue.name\n    );\n\n    const joinRecordDefinition = {\n      allowFieldsOverlay: false,\n      allowIndexesOverlay: false,\n      allowNonAdminToDeleteRecordInstances: false,\n      allowOtherPropertiesOverlay: false,\n      allowPermissionsOverlay: false,\n      name: recordDefinitionName,\n      primaryRecordDefinitionName: createJoinRecordFormValue.primaryRecordDefinitionName,\n      secondaryRecordDefinitionName: createJoinRecordFormValue.secondaryRecordDefinitionName,\n      joinType: createJoinRecordFormValue.joinType[0].value,\n      joinCriteria: this.rxRecordDesignerService.getJoinCriteriaArExpression(\n        createJoinRecordFormValue.joinCriteria,\n        createJoinRecordFormValue.primaryRecordDefinitionName,\n        createJoinRecordFormValue.secondaryRecordDefinitionName\n      ),\n      resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType,\n      fieldDefinitions: [\n        {\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character,\n          name: 'Display ID',\n          id: 1,\n          fieldOption: RX_RECORD_DEFINITION.fieldOptions.system\n        },\n        {\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character,\n          name: 'ID',\n          id: 379,\n          fieldOption: RX_RECORD_DEFINITION.fieldOptions.system\n        }\n      ]\n    };\n\n    this.allowDismiss = false;\n\n    this.rxRecordDefinitionService\n      .create(joinRecordDefinition)\n      .pipe(\n        finalize(() => {\n          this.allowDismiss = true;\n          this.changeDetector.markForCheck();\n        })\n      )\n      .subscribe(() => {\n        this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'record', 'edit2', recordDefinitionName]);\n      });\n  }\n\n  cancel() {\n    this.dismissDialog();\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.client.record-designer.create-new-join-record-editor.title' | translate }}\n  </h5>\n  <button\n    class=\"close close-inverse\"\n    data-dismiss=\"modal\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <div class=\"d-flex flex-column control-width\">\n    <form [formGroup]=\"createJoinRecordForm\">\n      <adapt-rx-textfield\n        autofocus\n        rx-id=\"name\"\n        class=\"d-block form-group\"\n        formControlName=\"name\"\n        label=\"{{ 'com.bmc.arsys.rx.client.common.name.label' | translate }}\"\n      ></adapt-rx-textfield>\n\n      <rx-definition-picker\n        class=\"d-block form-group\"\n        rx-id=\"primary-record-definition-name\"\n        [options]=\"primaryRecordDefinitionPickerOptions\"\n        formControlName=\"primaryRecordDefinitionName\"\n      ></rx-definition-picker>\n\n      <rx-definition-picker\n        class=\"d-block form-group\"\n        rx-id=\"secondary-record-definition-name\"\n        [options]=\"secondaryRecordDefinitionPickerOptions\"\n        formControlName=\"secondaryRecordDefinitionName\"\n      ></rx-definition-picker>\n\n      <adapt-rx-select\n        class=\"d-block form-group\"\n        rx-id=\"join-type\"\n        [required]=\"true\"\n        [label]=\"'com.bmc.arsys.rx.innovation-studio.create-join-record-modal.join-type.label' | translate\"\n        [options]=\"joinTypes\"\n        [optionFormatter]=\"optionFormatter\"\n        formControlName=\"joinType\"\n      ></adapt-rx-select>\n\n      <rx-expression-form-control\n        rx-id=\"join-criteria\"\n        class=\"d-block form-group\"\n        (events)=\"openEditor()\"\n        [options]=\"expressionFormControlOptions\"\n        formControlName=\"joinCriteria\"\n      ></rx-expression-form-control>\n    </form>\n  </div>\n</div>\n\n<div class=\"modal-footer d-flex w-100\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    [disabled]=\"createJoinRecordForm.pristine || createJoinRecordForm.invalid || !allowDismiss\"\n    (click)=\"createRecord()\"\n    rx-id=\"create-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.create.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n    rx-id=\"cancel-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IRowDataItem } from '@helix/platform/view/api';\n\n@Pipe({\n  name: 'axRecordDefinitionType'\n})\nexport class AxRecordDefinitionTypePipe implements PipeTransform {\n  constructor(private translateService: TranslateService) {}\n\n  transform(recordDefinition: IRowDataItem): string {\n    let displayName = '';\n\n    if (\n      recordDefinition.recordDefinitionType === RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n    ) {\n      displayName = this.translateService.instant('com.bmc.arsys.rx.client.record-definition.type.regular.label');\n    }\n\n    if (\n      recordDefinition.recordDefinitionType === RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType\n    ) {\n      displayName = this.translateService.instant('com.bmc.arsys.rx.client.record-definition.type.join.label');\n    }\n\n    if (\n      recordDefinition.recordDefinitionType === RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType\n    ) {\n      if (recordDefinition.type === RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom) {\n        displayName = this.translateService.instant('com.bmc.arsys.rx.innovation-studio.record.type.custom.label');\n      } else {\n        displayName = this.translateService.instant('com.bmc.arsys.rx.client.record-definition.type.external.label');\n      }\n    }\n\n    if (recordDefinition.isAuditRecordDefinition) {\n      displayName = this.translateService.instant('com.bmc.arsys.rx.innovation-studio.record.audit.label', {\n        recordType: displayName\n      });\n    }\n\n    if (recordDefinition.archiveSourceRecordDefinitionName) {\n      displayName = this.translateService.instant('com.bmc.arsys.rx.innovation-studio.record.archive.label', {\n        recordType: displayName\n      });\n    }\n\n    return displayName;\n  }\n}\n","import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  IRecordDefinition,\n  RecordInstance,\n  RX_RECORD_DEFINITION,\n  RxRecordDefinitionDataPageService,\n  RxRecordDefinitionService,\n  RxRecordInstanceService,\n  RxRecordInstanceUpdateService,\n  RxRecordInstanceDataPageService\n} from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxFeatureService,\n  RxNotificationService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem, RowDataItemIdFieldName } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of, ReplaySubject } from 'rxjs';\nimport { filter, finalize, map, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { ExternalRecordWizardService } from '../external-record-wizard/external-record-wizard.service';\nimport { IExternalRecordDesignerOptions } from '../external-record-wizard/external-record-wizard.types';\nimport { JoinRecordWizardService } from '../join-record-wizard/join-record-wizard.service';\nimport { IJoinRecordDesignerOptions } from '../join-record-wizard/join-record-wizard.types';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\nimport { AX_RECORD_DEFINITION_TAB } from './record-definition-tab.constant';\nimport { CreateCustomRecordComponent } from '../create-custom-record/create-custom-record.component';\nimport { CreateJoinRecordComponent } from '../create-join-record/create-join-record.component';\n\n@Component({\n  selector: 'ax-record-definition-tab',\n  templateUrl: './record-definition-tab.component.html'\n})\nexport class RecordDefinitionTabComponent implements OnInit, OnDestroy {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild('recordDefinitionTypeTemplate', { static: true })\n  recordDefinitionTypeTemplate: TemplateRef<any>;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  editRouterLink: string;\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private areNewDefinitionsAllowed;\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(\n    map((selectedRows) => this.getDefinitionActions(selectedRows)),\n    takeUntil(this.destroyed$)\n  );\n\n  gridColumns: IRecordGridColumn[] = [];\n  definitions$: Observable<IDataPageResult>;\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n  private dataEditorRoute = this.rxFeatureService.isFeatureEnabled('DRD21-10996') ? 'edit-data-new' : 'edit-data';\n\n  constructor(\n    private rxRecordDefinitionDataPageService: RxRecordDefinitionDataPageService,\n    private rxBundleCache: RxBundleCacheService,\n    private rxOverlayService: RxOverlayService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private router: Router,\n    private rxCopyDefinitionService: RxCopyDefinitionService,\n    private joinRecordWizardService: JoinRecordWizardService,\n    private externalRecordWizardService: ExternalRecordWizardService,\n    private rxRecordDefinitionService: RxRecordDefinitionService,\n    private rxNotificationService: RxNotificationService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxRecordInstanceUpdateService: RxRecordInstanceUpdateService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService,\n    private rxFeatureService: RxFeatureService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-15263')) {\n      this.editRouterLink = `/${RX_APPLICATION.innovationStudioBundleId}/record/edit2/`;\n    }\n\n    this.areNewDefinitionsAllowed = this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor);\n\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      {\n        fieldId: 'recordDefinitionType',\n        title: 'com.bmc.arsys.rx.client.common.item-type.label',\n        index: 3,\n        cellTemplate: this.recordDefinitionTypeTemplate\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ] as IRecordGridColumn[];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: 'recordDefinitionType',\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxRecordDefinitionDataPageService.get({\n      params: {\n        propertySelection: [\n          'name',\n          'lastUpdateTime',\n          'lastChangedBy',\n          'customizationPerspective',\n          'recordDefinitionType',\n          'overlayGroupId',\n          'overlayDescriptor',\n          'isAuditRecordDefinition',\n          'scope',\n          'externalDataSourceType',\n          'archiveSourceRecordDefinitionName',\n          'type'\n        ]\n      }\n    });\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((result: boolean) =>\n          result\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.record.command.DeleteRecordDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of(false)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCache.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.areNewDefinitionsAllowed,\n\n        subActions: [\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.regular-record.label',\n            id: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType,\n            rxId: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.join-record.label',\n            id: RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType,\n            rxId: RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.external-record.label',\n            id: RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType,\n            rxId: RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.custom-record.label',\n            id: RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom,\n            rxId: RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom\n          }\n        ]\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: selectedRows.length !== 1 || !isBundleEditable\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      },\n      {\n        id: 'archive',\n        labelKey: 'com.bmc.arsys.rx.innovation-studio.definition-actions.archive.label',\n        rxId: 'archive',\n        icon: 'file_o_gear',\n        isDisabled:\n          selectedRows.length !== 1 ||\n          selectedRows[0].recordDefinitionType !==\n            RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n      },\n      {\n        id: 'edit-data',\n        labelKey: 'com.bmc.arsys.rx.innovation-studio.definition-actions.edit-data.label',\n        rxId: 'edit-data',\n        icon: 'storages',\n        isDisabled:\n          selectedRows.length !== 1 ||\n          (selectedRows[0]?.recordDefinitionType ===\n            RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType &&\n            (!selectedRows[0]?.externalDataSourceType ||\n              selectedRows[0]?.externalDataSourceType ===\n                RX_RECORD_DEFINITION.externalRecordDefinitionDataSourceTypes.webApi))\n      }\n    ];\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onCustomAction(event: { actionId: string; selectedRows: IRowDataItem[] }): void {\n    switch (event.actionId) {\n      case RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType: {\n        this.router.navigate([\n          RX_APPLICATION.innovationStudioBundleId,\n          'record',\n          this.rxFeatureService.isFeatureEnabled('DRD21-15263') ? 'new2' : 'new',\n          this.rxBundleCache.bundleId\n        ]);\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType: {\n        if (this.rxFeatureService.isFeatureEnabled('DRD21-15263')) {\n          this.rxModalService\n            .openModal({\n              content: CreateJoinRecordComponent,\n              size: 'sm'\n            })\n            .catch(noop);\n        } else {\n          this.joinRecordWizardService.open().then((joinRecordDesignerOptions: IJoinRecordDesignerOptions | null) => {\n            if (joinRecordDesignerOptions) {\n              this.router.navigate(\n                [RX_APPLICATION.innovationStudioBundleId, 'record', 'new', this.rxBundleCache.bundleId],\n                { state: { designerOptions: joinRecordDesignerOptions } }\n              );\n            }\n          });\n        }\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType: {\n        this.externalRecordWizardService\n          .open()\n          .then((externalRecordDesignerOptions: IExternalRecordDesignerOptions | null) => {\n            if (externalRecordDesignerOptions) {\n              this.router.navigate(\n                [RX_APPLICATION.innovationStudioBundleId, 'record', 'new', this.rxBundleCache.bundleId],\n                { state: { designerOptions: externalRecordDesignerOptions } }\n              );\n            }\n          });\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom: {\n        this.rxModalService\n          .openModal({\n            content: CreateCustomRecordComponent,\n            size: 'sm'\n          })\n          .catch(noop);\n\n        break;\n      }\n\n      case 'edit-data': {\n        this.router.navigate([\n          RX_APPLICATION.innovationStudioBundleId,\n          'record',\n          this.dataEditorRoute,\n          event.selectedRows[0][RowDataItemIdFieldName]\n        ]);\n\n        break;\n      }\n\n      case 'archive': {\n        this.rxRecordDefinitionService\n          .get(event.selectedRows[0].name)\n          .pipe(\n            take(1),\n            switchMap((recordDefinition: IRecordDefinition) => {\n              if (\n                !recordDefinition.archiveDescriptor?.isEnabled ||\n                recordDefinition.archiveDescriptor?.archiveType === 'NONE'\n              ) {\n                this.rxNotificationService.addErrorMessage(\n                  this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.tabs.records.archiving-disabled.message'\n                  )\n                );\n\n                return of(null);\n              } else {\n                let message = '';\n                const archiveType = recordDefinition.archiveDescriptor?.archiveType;\n\n                if (archiveType === 'COPY_TO_ARCHIVE_AND_DELETE_FROM_SOURCE') {\n                  message = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.tabs.records.archive-and-delete.confirmation.message',\n                    { recordAge: recordDefinition.archiveDescriptor.ageQualifierInDays }\n                  );\n                } else if (archiveType === 'DELETE_FROM_SOURCE') {\n                  message = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.tabs.records.delete-without-archiving.confirmation.message',\n                    { recordAge: recordDefinition.archiveDescriptor.ageQualifierInDays }\n                  );\n                }\n\n                return from(\n                  this.rxModalService.confirm({\n                    title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                    modalStyle: RX_MODAL.modalStyles.warning,\n                    message\n                  })\n                );\n              }\n            }),\n            switchMap((result: boolean) => {\n              if (result) {\n                return this.rxRecordInstanceDataPageService\n                  .post({\n                    params: {\n                      recorddefinition: AX_RECORD_DEFINITION_TAB.archiving.recordDefinitionName,\n                      pageSize: 1,\n                      startIndex: 0,\n                      propertySelection: RX_RECORD_DEFINITION.coreFieldIds.id,\n                      queryExpression: `'${RX_RECORD_DEFINITION.coreFieldIds.description}' = \"${event.selectedRows[0].name}\"`\n                    }\n                  })\n                  .pipe(\n                    switchMap((dataPageResult: IDataPageResult) =>\n                      this.rxRecordInstanceService.get(\n                        AX_RECORD_DEFINITION_TAB.archiving.recordDefinitionName,\n                        dataPageResult.data[0][RX_RECORD_DEFINITION.coreFieldIds.id]\n                      )\n                    ),\n                    switchMap((recordInstance: RecordInstance) => {\n                      recordInstance.setFieldValue(AX_RECORD_DEFINITION_TAB.archiving.fieldIds.runNow, 1);\n\n                      return this.rxRecordInstanceUpdateService.execute(recordInstance);\n                    }),\n                    tap(() => {\n                      this.rxNotificationService.addSuccessMessage(\n                        this.translateService.instant(\n                          'com.bmc.arsys.rx.innovation-studio.tabs.records.archiving-started.message'\n                        )\n                      );\n                    })\n                  );\n              } else {\n                return of(null);\n              }\n            })\n          )\n          .subscribe();\n\n        break;\n      }\n    }\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService.openCopyDefinitionComponentModal(row, CopyDefinitionType.Record).catch(noop);\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.record.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newRecordDefinitionName) =>\n          this.rxRecordDefinitionService.rename(selectedRow.name, newRecordDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition: IRowDataItem) =>\n                  this.rxRecordDefinitionService.revertCustomization(definition.name)\n                )\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'record'\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (customAction)=\"onCustomAction($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n  [editRouterLink]=\"editRouterLink\"\n></ax-definition-tab>\n\n<ng-template #recordDefinitionTypeTemplate let-dataItem=\"dataItem\">\n  <div>\n    {{ dataItem | axRecordDefinitionType }}\n  </div>\n</ng-template>\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport {\n  IRowDataItem,\n  IViewLayoutTemplate,\n  LayoutTypes,\n  RX_VIEW_DEFINITION,\n  RX_VIEW_LAYOUTS,\n  RxViewDefinitionDataPageService,\n  RxViewDefinitionService\n} from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { concat, filter as _filter, noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { ICustomAction, IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\n\n@Component({\n  selector: 'ax-view-definition-tab',\n  templateUrl: './view-definition-tab.component.html'\n})\nexport class ViewDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  private areNewDefinitionsAllowed;\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  definitions$: Observable<IDataPageResult>;\n  gridColumns: IRecordGridColumn[] = [];\n  isActionInProgress = false;\n  recordDefinition: Partial<IRecordDefinition>;\n\n  constructor(\n    private rxOverlayService: RxOverlayService,\n    private rxViewDefinitionDataPageService: RxViewDefinitionDataPageService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private router: Router,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxViewDefinitionService: RxViewDefinitionService,\n    private rxCopyDefinitionService: RxCopyDefinitionService\n  ) {}\n\n  private getNewViewSubAction(layout: IViewLayoutTemplate): IDefinitionActionConfig {\n    return {\n      id: String(layout.id),\n      rxId: 'view-layout-template-' + layout.id,\n      labelKey: layout.label\n    };\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.areNewDefinitionsAllowed,\n        subActions: concat(\n          {\n            groupTitle: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.view.layout-flexible.menu.label'\n            )\n          },\n          _filter(RX_VIEW_LAYOUTS, { layoutType: LayoutTypes.Flexible }).map(this.getNewViewSubAction),\n          {\n            groupTitle: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.view.layout-fixed.menu.label')\n          },\n          _filter(RX_VIEW_LAYOUTS, { layoutType: LayoutTypes.Fixed }).map(this.getNewViewSubAction)\n        )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: selectedRows.length !== 1 || !isBundleEditable\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  ngOnInit() {\n    this.areNewDefinitionsAllowed = this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor);\n\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxViewDefinitionDataPageService.get({\n      params: {\n        propertySelection: [\n          'name',\n          'lastUpdateTime',\n          'lastChangedBy',\n          'scope',\n          'customizationPerspective',\n          'overlayGroupId',\n          'overlayDescriptor'\n        ],\n        viewType: RX_VIEW_DEFINITION.types.regular,\n        excludeExtensionViews: false\n      }\n    });\n  }\n\n  onCustomAction(event: ICustomAction): void {\n    this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'view', 'new', this.rxBundleCacheService.bundleId], {\n      queryParams: { layoutTemplate: event.actionId }\n    });\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService.openCopyDefinitionComponentModal(row, CopyDefinitionType.View).catch(noop);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.view.command.DeleteViewDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant('com.bmc.arsys.rx.client.definition-type.view.label');\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newViewDefinitionName) =>\n          this.rxViewDefinitionService.rename(selectedRow.name, newViewDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition) => this.rxViewDefinitionService.revertCustomization(definition.name))\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'view'\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (customAction)=\"onCustomAction($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n></ax-definition-tab>\n","export const AX_PROCESS_DEFINITION_TAB = {\n  copyWithinApplication: 'copyWithinApplication',\n  copyToAnotherApplication: 'copyToAnotherApplication',\n  manageProcesses: 'manageProcesses',\n  processInstanceStatuses: {\n    active: 'ACTIVE',\n    suspended: 'SUSPENDED',\n    errored: 'ERRORED',\n    completed: 'COMPLETED'\n  },\n  processInstanceActions: {\n    suspend: 'SUSPEND',\n    resume: ' RESUME',\n    cancel: 'CANCEL',\n    viewLog: 'VIEW_LOG',\n    downloadLog: 'DOWNLOAD_LOG'\n  }\n};\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AdaptModalService } from '@bmc-ux/adapt-angular';\nimport { RxProcessDefinitionDataPageService } from '@helix/platform/process/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxFeatureService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { ICustomAction, IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { AX_PROCESS_DEFINITION_TAB } from './process-definition-tab.constant';\n\n@Component({\n  selector: 'ax-process-definition-tab',\n  templateUrl: './process-definition-tab.component.html'\n})\nexport class ProcessDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  editRouterLink: string;\n  gridColumns: IRecordGridColumn[] = [];\n  isActionInProgress = false;\n  recordDefinition: Partial<IRecordDefinition>;\n  definitions$ = this.rxProcessDefinitionDataPageService.get({\n    params: {\n      propertySelection: [\n        'name',\n        'lastUpdateTime',\n        'lastChangedBy',\n        'scope',\n        'customizationPerspective',\n        'overlayGroupId',\n        'overlayDescriptor',\n        'isEnabled'\n      ],\n      bundleId: this.rxBundleCacheService.bundleId\n    }\n  });\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n  private areNewDefinitionsAllowed;\n\n  constructor(\n    private adaptModalService: AdaptModalService,\n    private router: Router,\n    private rxOverlayService: RxOverlayService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxProcessDefinitionDataPageService: RxProcessDefinitionDataPageService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCopyDefinitionService: RxCopyDefinitionService,\n    private rxFeatureService: RxFeatureService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-11025')) {\n      this.editRouterLink = `/${RX_APPLICATION.innovationStudioBundleId}/process/edit2/`;\n    }\n\n    this.areNewDefinitionsAllowed = this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor);\n\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective,\n      AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.boolean\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n  }\n\n  onCustomAction({ actionId, selectedRows }: ICustomAction): void {\n    if (actionId === AX_PROCESS_DEFINITION_TAB.manageProcesses) {\n      const route = [RX_APPLICATION.innovationStudioBundleId, 'process', 'manage', this.rxBundleCacheService.bundleId];\n\n      if (selectedRows.length > 0) {\n        this.router.navigate(route, { queryParams: { definitionName: selectedRows[0].name } });\n      } else {\n        this.router.navigate(route);\n      }\n    }\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService\n      .openCopyDefinitionComponentModal(\n        row,\n        CopyDefinitionType.Process,\n        this.rxFeatureService.isFeatureEnabled('DRD21-11025') ? 'edit2' : 'edit'\n      )\n      .catch(noop);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.process.command.DeleteProcessDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      'process',\n      this.rxFeatureService.isFeatureEnabled('DRD21-11025') ? 'new2' : 'new',\n      this.rxBundleCacheService.bundleId\n    ]);\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition) =>\n                  this.rxCommandFactoryService\n                    .forResourceType('com.bmc.arsys.rx.application.process.command.RevertProcessDefinitionCommand')\n                    .execute({\n                      processDefinitionName: definition.name\n                    })\n                )\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.process.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newViewDefinitionName) =>\n          this.rxCommandFactoryService\n            .forResourceType('com.bmc.arsys.rx.application.process.command.RenameProcessDefinitionCommand')\n            .execute({\n              name: selectedRow.name,\n              newName: newViewDefinitionName\n            })\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    const definitionActions = [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.areNewDefinitionsAllowed\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: !isBundleEditable || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_PROCESS_DEFINITION_TAB.manageProcesses,\n        isDisabled: !isBundleEditable || selectedRows.length > 1,\n        labelKey: 'com.bmc.arsys.rx.innovation-studio.manage-processes.menu.label',\n        rxId: 'manage-processes-button',\n        icon: 'flow'\n      }\n    ];\n\n    return definitionActions;\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'process'\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (customAction)=\"onCustomAction($event)\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (addDefinition)=\"onAddDefinition()\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  [editRouterLink]=\"editRouterLink\"\n></ax-definition-tab>\n","export const AX_RULE_DEFINITION_TAB = {\n  definitionGridColumns: {\n    primaryRecordDefinition: {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.rules.grid.primary-record-definition.label',\n      fieldId: 'primaryRecordDefinition'\n    },\n    triggerEvent: {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.rules.grid.trigger-event.label',\n      fieldId: 'triggerEvent'\n    },\n    executionOrder: {\n      titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.rules.grid.execution-order.label',\n      fieldId: 'executionOrder'\n    },\n    recordDefinitionNames: {\n      fieldId: 'recordDefinitionNames'\n    }\n  },\n  deleteRuleResource: 'com.bmc.arsys.rx.application.rule.command.DeleteRuleDefinitionsCommand'\n};\n","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  RxRuleDefinitionDataPageService,\n  RxRuleDefinitionService,\n  RxRuleTriggerEventPipe\n} from '@helix/platform/rule/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_BUNDLE,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { assign, map as _map, noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, take, tap } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { AX_RULE_DEFINITION_TAB } from './rule-definition-tab.contant';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\n\n@Component({\n  selector: 'ax-rule-definition-tab',\n  templateUrl: './rule-definition-tab.component.html',\n  providers: [RxRuleTriggerEventPipe]\n})\nexport class RuleDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  @ViewChild('definitionNameCellTemplate', { static: true })\n  definitionNameCellTemplate: TemplateRef<any>;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  private areNewDefinitionsAllowed;\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  definitions$: Observable<IDataPageResult> = forkJoin([\n    this.rxBundleCacheService.bundleId$.pipe(\n      take(1),\n      switchMap((bundleId: string) => this.rxGlobalCacheService.getBundleDescriptor(bundleId))\n    ),\n    this.rxRuleDefinitionDataPageService.get({\n      params: {\n        propertySelection: [\n          AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n          AX_RULE_DEFINITION_TAB.definitionGridColumns.recordDefinitionNames.fieldId,\n          AX_RULE_DEFINITION_TAB.definitionGridColumns.triggerEvent.fieldId,\n          AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n          AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n          AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled.fieldId,\n          AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n          AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n          'overlayGroupId'\n        ]\n      }\n    })\n  ]).pipe(\n    map(([bundleDescriptor, dataPage]) => {\n      dataPage.data = _map(dataPage.data, (definition) => {\n        if (definition.scope === RX_BUNDLE.definitionScopeTypes.bundle) {\n          definition.scope = bundleDescriptor.isApplication\n            ? RX_BUNDLE.definitionScopeNames.application\n            : RX_BUNDLE.definitionScopeNames.library;\n        } else {\n          definition.scope = RX_BUNDLE.definitionScopeNames.public;\n        }\n\n        return assign(definition, {\n          primaryRecordDefinition:\n            this.rxDefinitionNameService.getDisplayName(definition.recordDefinitionNames[0]) ||\n            this.translateService.instant('com.bmc.arsys.rx.client.common.not-applicable.label'),\n          executionOrder: definition.triggerEvent.executionOrder,\n          triggerEvent: this.rxRuleTriggerEventPipe.transform(definition.triggerEvent)\n        });\n      });\n\n      return dataPage;\n    })\n  );\n\n  gridColumns: IRecordGridColumn[] = [];\n  isActionInProgress = false;\n  recordDefinition: Partial<IRecordDefinition>;\n\n  constructor(\n    private router: Router,\n    private rxRuleTriggerEventPipe: RxRuleTriggerEventPipe,\n    private rxRuleDefinitionService: RxRuleDefinitionService,\n    private rxOverlayService: RxOverlayService,\n    private rxRuleDefinitionDataPageService: RxRuleDefinitionDataPageService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxCopyDefinitionService: RxCopyDefinitionService,\n    private rxDefinitionNameService: RxDefinitionNameService\n  ) {}\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.areNewDefinitionsAllowed\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: !this.areNewDefinitionsAllowed || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  ngOnInit() {\n    this.areNewDefinitionsAllowed = this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor);\n\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      {\n        title: AX_RULE_DEFINITION_TAB.definitionGridColumns.primaryRecordDefinition.titleKey,\n        fieldId: AX_RULE_DEFINITION_TAB.definitionGridColumns.primaryRecordDefinition.fieldId\n      },\n      {\n        title: AX_RULE_DEFINITION_TAB.definitionGridColumns.triggerEvent.titleKey,\n        fieldId: AX_RULE_DEFINITION_TAB.definitionGridColumns.triggerEvent.fieldId\n      },\n      {\n        title: AX_RULE_DEFINITION_TAB.definitionGridColumns.executionOrder.titleKey,\n        fieldId: AX_RULE_DEFINITION_TAB.definitionGridColumns.executionOrder.fieldId\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_RULE_DEFINITION_TAB.definitionGridColumns.primaryRecordDefinition.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_RULE_DEFINITION_TAB.definitionGridColumns.executionOrder.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_RULE_DEFINITION_TAB.definitionGridColumns.triggerEvent.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.boolean\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant('com.bmc.arsys.rx.client.definition-type.rule.label');\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newRuleDefinitionName) =>\n          this.rxRuleDefinitionService.rename(selectedRow.name, newRuleDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService.openCopyDefinitionComponentModal(row, CopyDefinitionType.Rule).catch(noop);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType(AX_RULE_DEFINITION_TAB.deleteRuleResource)\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition: IRowDataItem) =>\n                  this.rxRuleDefinitionService.revertCustomization(definition.name)\n                )\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'rule', 'new', this.rxBundleCacheService.bundleId]);\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'rule'\"\n  (addDefinition)=\"onAddDefinition()\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n></ax-definition-tab>\n","export const AX_ASSOCIATION_DEFINITION_TAB = {\n  definitionGridColumns: {\n    firstRecord: {\n      titleKey: 'com.bmc.arsys.rx.client.association.grid.first-record.title',\n      fieldId: 'firstRecord'\n    },\n    cardinalityString: {\n      titleKey: 'com.bmc.arsys.rx.client.association.grid.cardinality.title',\n      fieldId: 'cardinalityString'\n    },\n    secondRecord: {\n      titleKey: 'com.bmc.arsys.rx.client.association.grid.second-record.title',\n      fieldId: 'secondRecord'\n    },\n    shouldCascadeDeleteString: {\n      titleKey: 'com.bmc.arsys.rx.client.association.grid.constraints.title',\n      fieldId: 'shouldCascadeDeleteString'\n    }\n  }\n};\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  RX_ASSOCIATION_DEFINITION,\n  RxAssociationCardinalityPipe,\n  RxAssociationConstraintsPipe,\n  RxAssociationDefinitionDataPageService,\n  RxAssociationDefinitionService\n} from '@helix/platform/association/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxDefinitionNameService,\n  RxFeatureService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { IAssociationDefinitionGridData } from './association-definition-grid-data.interface';\nimport { AX_ASSOCIATION_DEFINITION_TAB } from './association-definition-tab.constant';\n\n@Component({\n  selector: 'ax-association-definition-tab',\n  templateUrl: './association-definition-tab.component.html',\n  providers: [RxAssociationCardinalityPipe, RxAssociationConstraintsPipe]\n})\nexport class AssociationDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  gridColumns: IRecordGridColumn[] = [];\n  definitions$: Observable<IDataPageResult>;\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n  editRouterLink: string;\n  private cardinalityStrings;\n  private shouldCascadeDeleteStrings;\n\n  constructor(\n    private rxAssociationDefinitionDataPageService: RxAssociationDefinitionDataPageService,\n    private rxAssociationDefinitionService: RxAssociationDefinitionService,\n    private rxOverlayService: RxOverlayService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxFeatureService: RxFeatureService,\n    private router: Router,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxAssociationConstraintsPipe: RxAssociationConstraintsPipe,\n    private rxAssociationCardinalityPipe: RxAssociationCardinalityPipe\n  ) {}\n\n  ngOnInit() {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-14986')) {\n      this.editRouterLink = `/${RX_APPLICATION.innovationStudioBundleId}/association/edit2/`;\n    }\n\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      {\n        title: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.firstRecord.titleKey,\n        fieldId: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.firstRecord.fieldId\n      },\n      {\n        title: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.cardinalityString.titleKey,\n        fieldId: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.cardinalityString.fieldId\n      },\n      {\n        title: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.secondRecord.titleKey,\n        fieldId: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.secondRecord.fieldId\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      {\n        title: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.shouldCascadeDeleteString.titleKey,\n        fieldId: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.shouldCascadeDeleteString.fieldId\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.firstRecord.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.cardinalityString.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.secondRecord.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_ASSOCIATION_DEFINITION_TAB.definitionGridColumns.shouldCascadeDeleteString.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.boolean\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    this.cardinalityStrings = {\n      ONE_TO_ONE: this.rxAssociationCardinalityPipe.transform(RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value),\n      ONE_TO_MANY: this.rxAssociationCardinalityPipe.transform(RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value),\n      MANY_TO_MANY: this.rxAssociationCardinalityPipe.transform(RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value)\n    };\n\n    this.shouldCascadeDeleteStrings = {\n      true: this.rxAssociationConstraintsPipe.transform(true),\n      false: this.rxAssociationConstraintsPipe.transform(false)\n    };\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxAssociationDefinitionDataPageService\n      .get({\n        params: {\n          propertySelection: [\n            'name',\n            'nodeAId',\n            'cardinality',\n            'nodeBId',\n            'shouldCascadeDelete',\n            'lastUpdateTime',\n            'lastChangedBy',\n            'customizationPerspective',\n            'isEnabled',\n            'scope',\n            'overlayGroupId',\n            'overlayDescriptor'\n          ]\n        }\n      })\n      .pipe(\n        map((dataPage: IDataPageResult<IAssociationDefinitionGridData>) => ({\n          totalSize: dataPage.totalSize,\n          data: dataPage.data.map((association: IAssociationDefinitionGridData) => ({\n            ...association,\n            firstRecord: this.rxDefinitionNameService.getDisplayName(association.nodeAId),\n            secondRecord: this.rxDefinitionNameService.getDisplayName(association.nodeBId),\n            cardinalityString: this.cardinalityStrings[association.cardinality],\n            shouldCascadeDeleteString: this.shouldCascadeDeleteStrings[String(association.shouldCascadeDelete)]\n          }))\n        }))\n      );\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor)\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      'association',\n      this.rxFeatureService.isFeatureEnabled('DRD21-14986') ? 'new2' : 'new',\n      this.rxBundleCacheService.bundleId\n    ]);\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.association.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newViewDefinitionName) =>\n          this.rxAssociationDefinitionService.rename(selectedRow.name, newViewDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.association.command.DeleteAssociationDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition) =>\n                  this.rxAssociationDefinitionService.revertCustomization(definition.name)\n                )\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'association'\"\n  [editRouterLink]=\"editRouterLink\"\n  (addDefinition)=\"onAddDefinition()\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n></ax-definition-tab>\n","export const AX_NAMED_LIST_DEFINITION_TAB = {\n  definitionGridColumns: {\n    recordDefinitionName: {\n      title: 'com.bmc.arsys.rx.innovation-studio.tabs.named-lists.column.record-definition-name.label',\n      fieldId: 'recordDefinitionName'\n    }\n  }\n};\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  INamedListDefinition,\n  RxNamedListDefinitionDataPageService,\n  RxNamedListDefinitionService\n} from '@helix/platform/named-list/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxDefinitionNameService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { AX_NAMED_LIST_DEFINITION_TAB } from './named-list-definition-tab.constant';\n\n@Component({\n  selector: 'ax-named-list-definition-tab',\n  templateUrl: './named-list-definition-tab.component.html'\n})\nexport class NamedListDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  gridColumns: IRecordGridColumn[];\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n\n  definitions$: Observable<IDataPageResult> = this.rxNamedListDefinitionDataPageService\n    .get({\n      params: {\n        propertySelection: [\n          'name',\n          'recordDefinitionName',\n          'lastUpdateTime',\n          'lastChangedBy',\n          'customizationPerspective',\n          'scope',\n          'overlayGroupId',\n          'overlayDescriptor'\n        ]\n      }\n    })\n    .pipe(\n      tap((dataPage: IDataPageResult<INamedListDefinition>) => {\n        dataPage.data.forEach((namedList: INamedListDefinition) => {\n          namedList.recordDefinitionName = this.rxDefinitionNameService.getDisplayName(namedList.recordDefinitionName);\n        });\n      })\n    );\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  constructor(\n    private rxNamedListDefinitionDataPageService: RxNamedListDefinitionDataPageService,\n    private rxOverlayService: RxOverlayService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private translateService: TranslateService,\n    private rxModalService: RxModalService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxNamedListDefinitionService: RxNamedListDefinitionService,\n    private router: Router,\n    private rxCopyDefinitionService: RxCopyDefinitionService,\n    private rxDefinitionNameService: RxDefinitionNameService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      {\n        title: AX_NAMED_LIST_DEFINITION_TAB.definitionGridColumns.recordDefinitionName.title,\n        fieldId: AX_NAMED_LIST_DEFINITION_TAB.definitionGridColumns.recordDefinitionName.fieldId\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_NAMED_LIST_DEFINITION_TAB.definitionGridColumns.recordDefinitionName.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      'named-list',\n      'new',\n      this.rxBundleCacheService.bundleId\n    ]);\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.named-list.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newViewDefinitionName) =>\n          this.rxNamedListDefinitionService.rename(selectedRow.name, newViewDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxNamedListDefinitionService.delete(definitionNames).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition) => this.rxNamedListDefinitionService.revertCustomization(definition.name))\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor)\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: !isBundleEditable || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService\n      .openCopyDefinitionComponentModal(row, CopyDefinitionType.NamedList, 'edit')\n      .catch(noop);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'named-list'\"\n  (addDefinition)=\"onAddDefinition()\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n></ax-definition-tab>\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RxDocumentDefinitionDataPageService, RxDocumentDefinitionService } from '@helix/platform/document/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxFeatureService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\n\n@Component({\n  selector: 'ax-document-definition-tab',\n  templateUrl: './document-definition-tab.component.html'\n})\nexport class DocumentDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  gridColumns: IRecordGridColumn[] = [];\n  definitions$: Observable<IDataPageResult>;\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n  editRouterLink: string;\n\n  constructor(\n    private rxDocumentDefinitionDataPageService: RxDocumentDefinitionDataPageService,\n    private rxDocumentDefinitionService: RxDocumentDefinitionService,\n    private rxFeatureService: RxFeatureService,\n    private rxOverlayService: RxOverlayService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private router: Router,\n    private rxCopyDefinitionService: RxCopyDefinitionService\n  ) {}\n\n  ngOnInit() {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-14961')) {\n      this.editRouterLink = `/${RX_APPLICATION.innovationStudioBundleId}/document/edit2/`;\n    }\n\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxDocumentDefinitionDataPageService.get({\n      params: {\n        propertySelection: [\n          'name',\n          'lastUpdateTime',\n          'lastChangedBy',\n          'customizationPerspective',\n          'scope',\n          'overlayGroupId',\n          'overlayDescriptor'\n        ]\n      }\n    });\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor)\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: !isBundleEditable || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      'document',\n      this.rxFeatureService.isFeatureEnabled('DRD21-14961') ? 'new2' : 'new',\n      this.rxBundleCacheService.bundleId\n    ]);\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.document.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newDocumentDefinitionName) =>\n          this.rxDocumentDefinitionService.rename(selectedRow.name, newDocumentDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  getEditDefinitionUrl() {\n    return `${window.location.origin}/innovationstudio/index.html#/app/bundle/${this.rxBundleCacheService.bundleId}/document/`;\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.document.command.DeleteDocumentDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition) => this.rxDocumentDefinitionService.revertCustomization(definition.name))\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService\n      .openCopyDefinitionComponentModal(\n        row,\n        CopyDefinitionType.Document,\n        this.rxFeatureService.isFeatureEnabled('DRD21-14961') ? 'edit2' : 'edit'\n      )\n      .catch(noop);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'document'\"\n  [editRouterLink]=\"editRouterLink\"\n  (addDefinition)=\"onAddDefinition()\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n></ax-definition-tab>\n","export const AX_WEB_API_DEFINITION_TAB = {\n  definitionGridColumns: {\n    description: {\n      title: 'com.bmc.arsys.rx.client.admin.chatbots.description.title',\n      fieldId: 'description'\n    }\n  }\n};\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { RxWebApiDefinitionDataPageService, RxWebApiDefinitionService } from '@helix/platform/web-api/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { lowerFirst, noop, some } from 'lodash';\nimport { BehaviorSubject, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { AX_WEB_API_DEFINITION_TAB } from './web-api-definition-tab.constant';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\n\n@Component({\n  selector: 'ax-web-api-definition-tab',\n  templateUrl: './web-api-definition-tab.component.html'\n})\nexport class WebApiDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  gridColumns: IRecordGridColumn[] = [];\n  definitions$: Observable<IDataPageResult>;\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n\n  constructor(\n    private rxWebApiDefinitionDataPageService: RxWebApiDefinitionDataPageService,\n    private rxWebApiDefinitionService: RxWebApiDefinitionService,\n    private rxOverlayService: RxOverlayService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private router: Router,\n    private rxCopyDefinitionService: RxCopyDefinitionService\n  ) {}\n\n  ngOnInit() {\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_WEB_API_DEFINITION_TAB.definitionGridColumns.description\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_WEB_API_DEFINITION_TAB.definitionGridColumns.description.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxWebApiDefinitionDataPageService.get({\n      params: {\n        propertySelection: [\n          'name',\n          'lastUpdateTime',\n          'lastChangedBy',\n          'description',\n          'scope',\n          'customizationPerspective',\n          'overlayGroupId',\n          'overlayDescriptor'\n        ]\n      }\n    });\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor)\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: !isBundleEditable || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      'web-api',\n      'new',\n      this.rxBundleCacheService.bundleId\n    ]);\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.web-api.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: lowerFirst(definitionType)\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newWebApiDefinitionName) =>\n          this.rxWebApiDefinitionService.rename(selectedRow.name, newWebApiDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.webapi.command.DeleteWebApiDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService.openCopyDefinitionComponentModal(row, CopyDefinitionType.WebApi).catch(noop);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'web-api'\"\n  (addDefinition)=\"onAddDefinition()\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n></ax-definition-tab>\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RxEventDefinitionDataPageService, RxEventDefinitionService } from '@helix/platform/event/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of } from 'rxjs';\nimport { finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\n\n@Component({\n  selector: 'ax-event-definition-tab',\n  templateUrl: './event-definition-tab.component.html'\n})\nexport class EventDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n\n  gridColumns: IRecordGridColumn[] = [];\n  definitions$: Observable<IDataPageResult>;\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  constructor(\n    private rxEventDefinitionDataPageService: RxEventDefinitionDataPageService,\n    private rxOverlayService: RxOverlayService,\n    private translateService: TranslateService,\n    private rxModalService: RxModalService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxEventDefinitionService: RxEventDefinitionService,\n    private rxCopyDefinitionService: RxCopyDefinitionService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.boolean\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxEventDefinitionDataPageService.get({\n      params: {\n        propertySelection: ['name', 'lastUpdateTime', 'lastChangedBy', 'isEnabled', 'customizationPerspective', 'scope']\n      }\n    });\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor)\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: !isBundleEditable || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'event', 'new', this.rxBundleCacheService.bundleId]);\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.event.command.DeleteEventDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition) => this.rxEventDefinitionService.revertCustomization(definition.name))\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService.openCopyDefinitionComponentModal(row, CopyDefinitionType.Event).catch(noop);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'event'\"\n  (addDefinition)=\"onAddDefinition()\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n></ax-definition-tab>\n","export const AX_EVENT_STATISTICS_TAB = {\n  definitionGridColumns: {\n    eventName: {\n      title: 'com.bmc.arsys.rx.innovation-studio.tabs.event-statistics.grid.event.label',\n      fieldId: 'eventName'\n    }\n  }\n};\n","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  RxeventStatisticsDefinitionDataPageService,\n  RxEventStatisticsDefinitionService\n} from '@helix/platform/event-statistics/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of } from 'rxjs';\nimport { finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { AX_EVENT_STATISTICS_TAB } from './event-statistics-definition-tab.constant';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\n\n@Component({\n  selector: 'ax-event-statistics-definition-tab',\n  templateUrl: './event-statistics-definition-tab.component.html'\n})\nexport class EventStatisticsDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  @ViewChild('eventNameCellTemplate', { static: true })\n  eventNameCellTemplate: TemplateRef<any>;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  gridColumns: IRecordGridColumn[] = [];\n  definitions$: Observable<IDataPageResult>;\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  constructor(\n    private rxEventStatisticsDefinitionDataPageService: RxeventStatisticsDefinitionDataPageService,\n    private rxOverlayService: RxOverlayService,\n    private translateService: TranslateService,\n    private rxModalService: RxModalService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxEventStatisticsDefinitionService: RxEventStatisticsDefinitionService,\n    private router: Router,\n    private rxCopyDefinitionService: RxCopyDefinitionService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      {\n        title: AX_EVENT_STATISTICS_TAB.definitionGridColumns.eventName.title,\n        fieldId: AX_EVENT_STATISTICS_TAB.definitionGridColumns.eventName.fieldId,\n        cellTemplate: this.eventNameCellTemplate\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled,\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_EVENT_STATISTICS_TAB.definitionGridColumns.eventName.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.isEnabled.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.boolean\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxEventStatisticsDefinitionDataPageService.get({\n      params: {\n        propertySelection: [\n          'name',\n          'eventName',\n          'lastUpdateTime',\n          'lastChangedBy',\n          'isEnabled',\n          'customizationPerspective',\n          'scope'\n        ]\n      }\n    });\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor)\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: !isBundleEditable || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      }\n    ];\n  }\n\n  onAddDefinition(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      'event-statistics',\n      'new',\n      this.rxBundleCacheService.bundleId\n    ]);\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.event.command.DeleteEventStatisticsDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition) =>\n                  this.rxEventStatisticsDefinitionService.revertCustomization(definition.name)\n                )\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService.openCopyDefinitionComponentModal(row, CopyDefinitionType.EventStatistics).catch(noop);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'event-statistics'\"\n  (addDefinition)=\"onAddDefinition()\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n></ax-definition-tab>\n\n<ng-template #eventNameCellTemplate let-dataItem=\"dataItem\">\n  {{ dataItem.eventName | rxDefinitionNamePipe }}\n</ng-template>\n","export const AX_CHATBOT_DEFINITION_TAB = {\n  definitionGridColumns: {\n    description: {\n      titleKey: 'com.bmc.arsys.rx.client.common.description.label',\n      fieldId: 'description'\n    }\n  }\n};\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RX_CHATBOTS, RxChatbotDefinitionService } from '@helix/platform/chatbot/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  RX_APPLICATION,\n  RxBundleCacheService,\n  RxChatbotDefinitionDataPageService,\n  RxDefinitionNameService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { find, map as _map, noop } from 'lodash';\nimport { BehaviorSubject, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { AX_CHATBOT_DEFINITION_TAB } from './chatbot-definition-tab.contant';\n\n@Component({\n  selector: 'ax-chatbot-definition-tab',\n  templateUrl: './chatbot-definition-tab.component.html'\n})\nexport class ChatbotDefinitionTabComponent implements OnInit {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n\n  definitions$: Observable<IDataPageResult> = this.rxChatbotDefinitionDataPageService.get();\n  gridColumns: IRecordGridColumn[] = [];\n  isActionInProgress = false;\n  recordDefinition: Partial<IRecordDefinition>;\n  botNameMaxLength: number =\n    this.rxBundleCacheService.bundleId === RX_APPLICATION.chatbotBundleId\n      ? 254\n      : 254 - (this.rxBundleCacheService.bundleId + ':').length;\n\n  constructor(\n    private router: Router,\n    private rxChatbotDefinitionDataPageService: RxChatbotDefinitionDataPageService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxOverlayService: RxOverlayService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxChatbotDefinitionService: RxChatbotDefinitionService\n  ) {}\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCacheService.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor)\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled: !isBundleEditable || selectedRows.length !== 1\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled: !isBundleEditable || selectedRows.length === 0\n      }\n    ];\n  }\n\n  ngOnInit() {\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      {\n        title: AX_CHATBOT_DEFINITION_TAB.definitionGridColumns.description.titleKey,\n        fieldId: AX_CHATBOT_DEFINITION_TAB.definitionGridColumns.description.fieldId\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_CHATBOT_DEFINITION_TAB.definitionGridColumns.description.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n  }\n\n  onAddDefinition(): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.chatbot.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.admin.chatbots.new-chatbot.title'),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            autoFocus: false,\n            maxLength: this.botNameMaxLength,\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames: _map(\n              this.definitionTabComponent.recordGrid.adaptTableConfig.data,\n              AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId\n            )\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        withLatestFrom(this.rxBundleCacheService.getCurrentBundleDescriptor()),\n        switchMap(([chatbotName, bundleDescriptor]) => {\n          const newChatbotName =\n            this.rxBundleCacheService.bundleId === RX_APPLICATION.chatbotBundleId\n              ? chatbotName\n              : this.rxDefinitionNameService.getDefinitionName(this.rxBundleCacheService.bundleId, chatbotName);\n\n          return this.rxChatbotDefinitionService.create(newChatbotName, bundleDescriptor).pipe(\n            tap(() => {\n              this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'chatbot', 'edit', newChatbotName]);\n            })\n          );\n        }),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.chatbot.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            maxLength: this.botNameMaxLength,\n            definitionName: selectedRow.name,\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newChatbotName: string) => this.rxChatbotDefinitionService.rename(selectedRow.id, newChatbotName)),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        switchMap((response: boolean) => {\n          const defaultChatbot = find(selectedRows, {\n            id: RX_CHATBOTS.chatbotSettings.defaultBotId\n          });\n\n          if (defaultChatbot && response) {\n            return from(\n              this.rxModalService.confirm({\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                modalStyle: RX_MODAL.modalStyles.warning,\n                message: this.translateService.instant(\n                  'com.bmc.arsys.rx.client.admin.chatbots.configurations-delete-confirmation.message',\n                  { defaultChatbotName: defaultChatbot[AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId] }\n                )\n              })\n            );\n          } else if (response) {\n            return of(true);\n          } else {\n            return of(false);\n          }\n        }),\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxChatbotDefinitionService.delete(_map(selectedRows, 'id')).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'chatbot'\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n  (addDefinition)=\"onAddDefinition()\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n></ax-definition-tab>\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport {\n  IDefinitionPickerComponentOptions,\n  IPermissionEditorComponentOptions,\n  RxDefinitionPickerType,\n  RxPermissionEditorComponent\n} from '@helix/platform/shared/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, pick } from 'lodash';\nimport {\n  IAdminSetting,\n  RX_ADMINISTRATION,\n  RX_PERMISSION,\n  RxAdminSettingsService,\n  RxNotificationService\n} from '@helix/platform/shared/api';\nimport { DismissReasons, DockedPanelContext } from '@bmc-ux/adapt-angular';\nimport { RxModalClass } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'ax-admin-setting-editor',\n  templateUrl: './admin-setting-editor.component.html'\n})\nexport class AdminSettingEditorComponent extends RxModalClass implements OnInit {\n  isEditMode = this.dockedPanelContext.getData().editMode;\n  settingForm: FormGroup = this.createSettingForm();\n  adminSetting: IAdminSetting = this.dockedPanelContext.getData().selectedAdminSetting;\n\n  viewDefinitionPickerOptions: IDefinitionPickerComponentOptions = {\n    label: this.translateService.instant('com.bmc.arsys.rx.client.definition-type.view.label'),\n    definitionType: RxDefinitionPickerType.View,\n    required: true\n  };\n\n  permissionEditorOptions: IPermissionEditorComponentOptions = {\n    label: this.translateService.instant('com.bmc.arsys.rx.client.common.permissions.label'),\n    type: 'externalconfig',\n    permissionScope: RX_PERMISSION.permissionScope.all\n  };\n\n  @ViewChild(RxPermissionEditorComponent)\n  rxPermissionEditorComponent: RxPermissionEditorComponent;\n\n  constructor(\n    protected injector: Injector,\n    private dockedPanelContext: DockedPanelContext,\n    private formBuilder: FormBuilder,\n    private translateService: TranslateService,\n    private rxAdminSettingsService: RxAdminSettingsService,\n    private rxNotificationService: RxNotificationService\n  ) {\n    super(dockedPanelContext, injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    if (this.isEditMode) {\n      this.initializeSettingForm();\n    }\n  }\n\n  createSettingForm(): FormGroup {\n    return this.formBuilder.group({\n      componentName: '',\n      registeredModuleName: '',\n      innovationStudio: false,\n      application: !this.isEditMode,\n      componentLabel: '',\n      firstMenu: '',\n      secondMenu: '',\n      externalLink: '',\n      permissions: ''\n    });\n  }\n\n  initializeSettingForm(): void {\n    this.settingForm.get('componentName').setValue(this.adminSetting.componentName);\n    this.settingForm.controls.componentName.disable();\n    this.settingForm.get('registeredModuleName').setValue(this.adminSetting.registeredModuleName);\n    this.settingForm.get('externalLink').setValue(this.adminSetting.externalLink);\n\n    if (this.adminSetting.showInLocation === RX_ADMINISTRATION.settingAccessOptions.both.value) {\n      this.settingForm.get('innovationStudio').setValue(true);\n      this.settingForm.get('application').setValue(true);\n    } else if (this.adminSetting.showInLocation === RX_ADMINISTRATION.settingAccessOptions.innovationStudio.value) {\n      this.settingForm.get('innovationStudio').setValue(true);\n      this.settingForm.get('application').setValue(false);\n    } else if (this.adminSetting.showInLocation === RX_ADMINISTRATION.settingAccessOptions.application.value) {\n      this.settingForm.get('application').setValue(true);\n    }\n\n    this.settingForm.get('componentLabel').setValue(this.adminSetting.localeList[0].componentLabel);\n    this.settingForm.get('permissions').setValue(this.adminSetting.permissions);\n    this.settingForm.get('firstMenu').setValue(this.adminSetting.localeList[0].firstMenu);\n    this.settingForm.get('secondMenu').setValue(this.adminSetting.localeList[0].secondMenu);\n  }\n\n  saveAdminSetting(): void {\n    const adminSettingRecord = this.transformFormControlData();\n    this.settingForm.markAsPristine();\n\n    if (this.isEditMode) {\n      this.rxAdminSettingsService.updateAdminSetting(adminSettingRecord).subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant('com.bmc.arsys.rx.innovation-studio.configurations.setting-saved.message')\n        );\n\n        this.dockedPanelContext.close(adminSettingRecord);\n      });\n    } else {\n      this.rxAdminSettingsService.createAdminSetting(adminSettingRecord).subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant('com.bmc.arsys.rx.innovation-studio.configurations.setting-saved.message')\n        );\n\n        this.dockedPanelContext.close(adminSettingRecord);\n      });\n    }\n  }\n\n  private transformFormControlData(): IAdminSetting {\n    const settingRecord = cloneDeep(this.settingForm.value);\n\n    if (this.isEditMode) {\n      settingRecord.componentName = this.adminSetting.componentName;\n    }\n\n    settingRecord.localeList = [];\n    settingRecord.viewToOpen = 'CustomView';\n\n    if (settingRecord.innovationStudio && settingRecord.application) {\n      settingRecord.showInLocation = RX_ADMINISTRATION.settingAccessOptions.both.value;\n    } else if (settingRecord.innovationStudio) {\n      settingRecord.showInLocation = RX_ADMINISTRATION.settingAccessOptions.innovationStudio.value;\n    } else if (settingRecord.application) {\n      settingRecord.showInLocation = RX_ADMINISTRATION.settingAccessOptions.application.value;\n    } else {\n      settingRecord.showInLocation = RX_ADMINISTRATION.settingAccessOptions.none.value;\n    }\n\n    settingRecord.localeList.push({\n      locale: 'en',\n      ...pick(settingRecord, ['componentLabel', 'firstMenu', 'secondMenu'])\n    });\n\n    if (this.adminSetting.linkType === RX_ADMINISTRATION.configurationSettingTypes.inbundle.value) {\n      settingRecord.linkType = this.adminSetting.linkType;\n      settingRecord.externalLink = null;\n      settingRecord.viewComponent = true;\n    } else {\n      settingRecord.linkType = this.adminSetting.linkType;\n      settingRecord.viewComponent = false;\n      settingRecord.registeredModuleName = null;\n    }\n\n    if (!settingRecord.permissions) {\n      settingRecord.permissions = [];\n    }\n\n    delete settingRecord.firstMenu;\n    delete settingRecord.secondMenu;\n    delete settingRecord.componentLabel;\n    delete settingRecord.innovationStudio;\n    delete settingRecord.application;\n\n    return settingRecord;\n  }\n\n  isSettingActive(): boolean {\n    return this.settingForm.get('innovationStudio').value || this.settingForm.get('application').value;\n  }\n\n  isInBundleSetting(): boolean {\n    return this.adminSetting.linkType === RX_ADMINISTRATION.configurationSettingTypes.inbundle.value;\n  }\n\n  cancel(): void {\n    this.dockedPanelContext.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  isDirty(): boolean {\n    return this.settingForm.dirty || this.rxPermissionEditorComponent?.isDirty();\n  }\n}\n","<div class=\"modal-body\">\n  <form [formGroup]=\"settingForm\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <adapt-rx-textfield\n          class=\"d-block form-group\"\n          rx-id=\"component-name\"\n          label=\"{{ 'com.bmc.arsys.rx.innovation-studio.configurations.component-name.label' | translate }}\"\n          formControlName=\"componentName\"\n          required=\"true\"\n        >\n        </adapt-rx-textfield>\n      </div>\n    </div>\n    <div class=\"row\" *ngIf=\"isInBundleSetting()\">\n      <div class=\"col-12\">\n        <rx-definition-picker\n          class=\"d-block form-group\"\n          [options]=\"viewDefinitionPickerOptions\"\n          formControlName=\"registeredModuleName\"\n          rx-id=\"view\"\n          required=\"true\"\n        >\n        </rx-definition-picker>\n      </div>\n    </div>\n    <div class=\"row\" *ngIf=\"!isInBundleSetting()\">\n      <div class=\"col-12\">\n        <adapt-rx-textfield\n          class=\"d-block form-group\"\n          rx-id=\"external-link\"\n          label=\"{{ 'com.bmc.arsys.rx.innovation-studio.configurations.external-link.label' | translate }}\"\n          formControlName=\"externalLink\"\n          required=\"true\"\n        >\n        </adapt-rx-textfield>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <adapt-rx-control-label\n          label=\"{{ 'com.bmc.arsys.rx.innovation-studio.configurations.enable-access-from.label' | translate }}\"\n        ></adapt-rx-control-label>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <adapt-rx-checkbox\n          class=\"d-block form-group\"\n          formControlName=\"innovationStudio\"\n          rx-id=\"innovation-studio\"\n          label=\"Innovation Studio\"\n        ></adapt-rx-checkbox>\n        <adapt-rx-checkbox\n          class=\"d-block form-group\"\n          formControlName=\"application\"\n          rx-id=\"application\"\n          label=\"{{ 'com.bmc.arsys.rx.client.common.application.label' | translate }}\"\n        ></adapt-rx-checkbox>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <adapt-rx-textfield\n          class=\"d-block form-group\"\n          rx-id=\"component-label\"\n          label=\"{{ 'com.bmc.arsys.rx.innovation-studio.configurations.component-label.label' | translate }}\"\n          formControlName=\"componentLabel\"\n          required=\"true\"\n        >\n        </adapt-rx-textfield>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <rx-permission-editor\n          class=\"d-block form-group\"\n          [options]=\"permissionEditorOptions\"\n          rx-id=\"permissions\"\n          formControlName=\"permissions\"\n        >\n        </rx-permission-editor>\n      </div>\n    </div>\n    <div *ngIf=\"isSettingActive()\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <adapt-rx-textfield\n            class=\"d-block form-group\"\n            rx-id=\"first-menu\"\n            label=\"{{ 'com.bmc.arsys.rx.innovation-studio.configurations.first-menu.label' | translate }}\"\n            formControlName=\"firstMenu\"\n            required=\"true\"\n          >\n          </adapt-rx-textfield>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <adapt-rx-textfield\n            class=\"d-block form-group\"\n            rx-id=\"second-menu\"\n            label=\"{{ 'com.bmc.arsys.rx.innovation-studio.configurations.second-menu.label' | translate }}\"\n            formControlName=\"secondMenu\"\n          >\n          </adapt-rx-textfield>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    class=\"mr-2\"\n    (click)=\"saveAdminSetting()\"\n    [disabled]=\"settingForm.pristine || settingForm.invalid\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n  <button adapt-button btn-type=\"secondary\" class=\"mr-2\" type=\"button\" (click)=\"cancel()\" rx-id=\"cancel-button\">\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n  </button>\n</div>\n","export const AX_CONFIG_DEFINITION_TAB = {\n  definitionGridColumns: {\n    showInLocation: {\n      title: 'com.bmc.arsys.rx.innovation-studio.configurations.grid.column.access.title',\n      fieldId: 'showInLocation'\n    }\n  }\n};\n","export const AX_CONFIGURATION_DEFINITION = {\n  configurationSettingTypes: {\n    shared: {\n      configurationType: 'shared-settings',\n      labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.setting-type.shared.label'\n    },\n    inbundle: {\n      configurationType: 'in-bundle-settings',\n      labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.setting-type.in-bundle.label'\n    },\n    external: {\n      configurationType: 'external-settings',\n      labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.setting-type.external.label'\n    }\n  }\n};\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { KeyValueObject } from '@bmc-ux/adapt-angular';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IAdminComponent,\n  IAdminSetting,\n  IDataPageResult,\n  RX_ADMINISTRATION,\n  RX_APPLICATION,\n  RxAdminComponentDataPageService,\n  RxAdminSettingsService,\n  RxBundleCacheService,\n  RxFeatureService\n} from '@helix/platform/shared/api';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem, OpenViewActionModalSize } from '@helix/platform/view/api';\nimport { ColumnSortDirection, IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop } from 'lodash';\nimport { BehaviorSubject, from, Observable, of } from 'rxjs';\nimport { filter, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { AdminSettingEditorComponent } from './admin-setting-editor/admin-setting-editor.component';\nimport { AX_CONFIG_DEFINITION_TAB } from './configuration-definition-tab.constant';\nimport { AX_CONFIGURATION_DEFINITION } from './configuration-definition.constant';\n\n@Component({\n  selector: 'ax-configuration-definition-tab',\n  templateUrl: './configuration-definition-tab.component.html'\n})\nexport class ConfigurationDefinitionTabComponent implements OnInit {\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  @ViewChild('componentCellTemplate', { static: true })\n  componentCellTemplate: TemplateRef<any>;\n\n  gridColumns: IRecordGridColumn[];\n\n  definitions$: Observable<IDataPageResult> = this.rxAdminComponentDataPageQuery.get().pipe(\n    map((dataPage: IDataPageResult<IAdminComponent>) => ({\n      totalSize: dataPage.totalSize,\n      data: dataPage.data.map((item: IAdminComponent) => {\n        if (item.showInLocation === RX_ADMINISTRATION.settingAccessOptions.application.value) {\n          item.showInLocation = this.translateService.instant('com.bmc.arsys.rx.client.common.application.label');\n        } else if (item.showInLocation === RX_ADMINISTRATION.settingAccessOptions.innovationStudio.value) {\n          item.showInLocation = 'Innovation Studio';\n        } else if (item.showInLocation === RX_ADMINISTRATION.settingAccessOptions.both.value) {\n          item.showInLocation = `${this.translateService.instant(\n            'com.bmc.arsys.rx.client.common.application.label'\n          )}, Innovation Studio`;\n        } else {\n          item.showInLocation = this.translateService.instant('com.bmc.arsys.rx.client.common.none.label');\n        }\n\n        return {\n          ...item,\n          name: item.component,\n          componentType: this.getComponentType(item)\n        };\n      })\n    }))\n  );\n\n  isActionInProgress = false;\n  recordDefinition: Partial<IRecordDefinition>;\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  editRouterLink: string;\n  private definitionType = 'config';\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(map((selectedRows) => this.getDefinitionActions(selectedRows)));\n  private settingTypeLabels;\n\n  constructor(\n    private rxAdminComponentDataPageQuery: RxAdminComponentDataPageService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxAdminSettingsService: RxAdminSettingsService,\n    private router: Router,\n    private rxBundleCache: RxBundleCacheService,\n    private rxFeatureService: RxFeatureService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-14987')) {\n      this.editRouterLink = `/${RX_APPLICATION.innovationStudioBundleId}/${this.definitionType}/edit2/${this.rxBundleCache.bundleId}:`;\n    } else {\n      this.editRouterLink = `/${RX_APPLICATION.innovationStudioBundleId}/${this.definitionType}/edit/${this.rxBundleCache.bundleId}:`;\n    }\n\n    this.gridColumns = [\n      {\n        title: AX_BUNDLE_DETAILS.configurationGridColumns.component.title,\n        fieldId: AX_BUNDLE_DETAILS.configurationGridColumns.component.fieldId,\n        cellTemplate: this.componentCellTemplate,\n        sortable: { direction: ColumnSortDirection.Asc, priority: 0 }\n      },\n      AX_BUNDLE_DETAILS.configurationGridColumns.componentType,\n      AX_CONFIG_DEFINITION_TAB.definitionGridColumns.showInLocation\n    ];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.configurationGridColumns.component.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.configurationGridColumns.componentType.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_CONFIG_DEFINITION_TAB.definitionGridColumns.showInLocation.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.settingTypeLabels = {\n      external: this.translateService.instant(AX_CONFIGURATION_DEFINITION.configurationSettingTypes.external.labelKey),\n      inBundle: this.translateService.instant(AX_CONFIGURATION_DEFINITION.configurationSettingTypes.inbundle.labelKey),\n      shared: this.translateService.instant(AX_CONFIGURATION_DEFINITION.configurationSettingTypes.shared.labelKey)\n    };\n  }\n\n  private getComponentType(adminComponent: IAdminComponent): string {\n    return adminComponent.uiLocation === 'External Location'\n      ? this.settingTypeLabels.external\n      : adminComponent.custom === 'CommonSettings'\n      ? this.settingTypeLabels.shared\n      : this.settingTypeLabels.inBundle;\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n\n        subActions: [\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.new.shared-setting.label',\n            id: RX_ADMINISTRATION.configurationSettingTypes.shared.configurationType,\n            rxId: RX_ADMINISTRATION.configurationSettingTypes.shared.configurationType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.new.in-bundle-setting.label',\n            id: RX_ADMINISTRATION.configurationSettingTypes.inbundle.configurationType,\n            rxId: RX_ADMINISTRATION.configurationSettingTypes.inbundle.configurationType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.new.external-setting.label',\n            id: RX_ADMINISTRATION.configurationSettingTypes.external.configurationType,\n            rxId: RX_ADMINISTRATION.configurationSettingTypes.external.configurationType\n          }\n        ]\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled: selectedRows.length === 0\n      }\n    ];\n  }\n\n  onCustomAction(event: { actionId: string; selectedRows: IRowDataItem[] }): void {\n    if (event.actionId === RX_ADMINISTRATION.configurationSettingTypes.shared.configurationType) {\n      this.router.navigate([\n        RX_APPLICATION.innovationStudioBundleId,\n        this.definitionType,\n        this.rxFeatureService.isFeatureEnabled('DRD21-14987') ? 'new2' : 'new',\n        this.rxBundleCache.bundleId\n      ]);\n    } else if (event.actionId === RX_ADMINISTRATION.configurationSettingTypes.inbundle.configurationType) {\n      this.openInBundleSettingsEditor({\n        editMode: false,\n        titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.new.in-bundle-setting.title',\n        selectedAdminSetting: {\n          linkType: RX_ADMINISTRATION.configurationSettingTypes.inbundle.value\n        }\n      });\n    } else if (event.actionId === RX_ADMINISTRATION.configurationSettingTypes.external.configurationType) {\n      this.openInBundleSettingsEditor({\n        editMode: false,\n        titleKey: 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.new.external-setting.title',\n        selectedAdminSetting: {\n          linkType: RX_ADMINISTRATION.configurationSettingTypes.external.value\n        }\n      });\n    }\n  }\n\n  editAdminSetting(row: KeyValueObject): void {\n    if (row.custom === 'CustomView') {\n      this.rxAdminSettingsService.getAdminSetting(row.component).subscribe((adminSetting: IAdminSetting) => {\n        this.openInBundleSettingsEditor({\n          editMode: true,\n          titleKey: this.getTitleKey(adminSetting.linkType),\n          selectedAdminSetting: adminSetting\n        });\n      });\n    }\n  }\n\n  private openInBundleSettingsEditor(data: KeyValueObject) {\n    from(\n      this.rxModalService\n        .openDockedPanel({\n          title: this.translateService.instant(data.titleKey),\n          content: AdminSettingEditorComponent,\n          size: OpenViewActionModalSize.Small as any,\n          data: {\n            ...data\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  private getTitleKey(linkType: string): string {\n    return linkType === RX_ADMINISTRATION.configurationSettingTypes.inbundle.value\n      ? 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.new.in-bundle-setting.label'\n      : 'com.bmc.arsys.rx.innovation-studio.tabs.configurations.new.external-setting.label';\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((response) =>\n          response\n            ? this.rxAdminSettingsService.deleteAdminSetting(definitionNames).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitionType]=\"'config-definition'\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n  (customAction)=\"onCustomAction($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n></ax-definition-tab>\n\n<ng-template #componentCellTemplate let-dataItem=\"dataItem\">\n  <div (click)=\"editAdminSetting(dataItem)\" *ngIf=\"dataItem.custom === 'CustomView'\">\n    <a [routerLink]=\"\" (click)=\"(false)\">\n      {{ dataItem.component }}\n    </a>\n  </div>\n  <div *ngIf=\"dataItem.custom === 'CommonSettings'\">\n    <a [routerLink]=\"editRouterLink + dataItem.component\">\n      {{ dataItem.component }}\n    </a>\n  </div>\n</ng-template>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ActiveTabChangeEvent } from '@bmc-ux/adapt-angular';\nimport {\n  IBundleDescriptor,\n  RxBundleCacheService,\n  RxGlobalCacheService,\n  RxOverlayService,\n  RxPageTitleService\n} from '@helix/platform/shared/api';\nimport { findIndex } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { map, pluck, take, tap } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { BundleDefinitionTab } from '../bundle-details/bundle-details.types';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'ax-bundle-definitions',\n  templateUrl: './bundle-definitions.component.html',\n  styleUrls: ['./bundle-definitions.component.scss']\n})\nexport class BundleDefinitionsComponent {\n  tabs = AX_BUNDLE_DETAILS.tabs.map((tab) => ({\n    ...tab,\n    isVisited: false\n  }));\n\n  bundleDescriptor$: Observable<IBundleDescriptor> = this.rxBundleCacheService.getCurrentBundleDescriptor();\n\n  activeTabIndex$ = this.activatedRoute.params.pipe(\n    pluck('tab'),\n    map((tabId: BundleDefinitionTab) => findIndex(AX_BUNDLE_DETAILS.tabs, { id: tabId })),\n    tap((index) => {\n      if (index === -1) {\n        this.router.navigate([BundleDefinitionTab.Records], { relativeTo: this.activatedRoute.parent });\n      } else {\n        this.tabs[index].isVisited = true;\n        this.setPageTitle(AX_BUNDLE_DETAILS.tabs[index].titleKey);\n      }\n    })\n  );\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxOverlayService: RxOverlayService,\n    private rxPageTitleService: RxPageTitleService,\n    private translateService: TranslateService,\n    private router: Router\n  ) {}\n\n  onTabChanged(tabChangeEvent: ActiveTabChangeEvent): void {\n    const nextActiveTab = AX_BUNDLE_DETAILS.tabs[tabChangeEvent.index];\n\n    this.router.navigate([nextActiveTab.id], { relativeTo: this.activatedRoute.parent });\n  }\n\n  private setPageTitle(titleKey: string): void {\n    this.rxGlobalCacheService\n      .getBundleFriendlyName(this.rxBundleCacheService.bundleId)\n      .pipe(take(1))\n      .subscribe((bundleFriendlyName) => {\n        this.rxPageTitleService.set(\n          [this.translateService.instant(titleKey), bundleFriendlyName],\n          this.rxGlobalCacheService.applicationId\n        );\n      });\n  }\n}\n","<adapt-tabset\n  *ngIf=\"bundleDescriptor$ | async as bundleDescriptor\"\n  [tab-active]=\"activeTabIndex$ | async\"\n  [fullHeight]=\"true\"\n  (tab-active-changed)=\"onTabChanged($event)\"\n>\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[0].titleKey | translate\">\n    <ax-record-definition-tab\n      *ngIf=\"tabs[0].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-record-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[1].titleKey | translate\">\n    <ax-view-definition-tab *ngIf=\"tabs[1].isVisited\" [bundleDescriptor]=\"bundleDescriptor\"></ax-view-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[2].titleKey | translate\">\n    <ax-process-definition-tab\n      *ngIf=\"tabs[2].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-process-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[3].titleKey | translate\">\n    <ax-rule-definition-tab *ngIf=\"tabs[3].isVisited\" [bundleDescriptor]=\"bundleDescriptor\"></ax-rule-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[4].titleKey | translate\">\n    <ax-association-definition-tab\n      *ngIf=\"tabs[4].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-association-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[5].titleKey | translate\">\n    <ax-named-list-definition-tab\n      *ngIf=\"tabs[5].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-named-list-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[6].titleKey | translate\">\n    <ax-document-definition-tab\n      *ngIf=\"tabs[6].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-document-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[7].titleKey | translate\">\n    <ax-web-api-definition-tab\n      *ngIf=\"tabs[7].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-web-api-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[8].titleKey | translate\">\n    <ax-event-definition-tab *ngIf=\"tabs[8].isVisited\" [bundleDescriptor]=\"bundleDescriptor\"></ax-event-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[9].titleKey | translate\">\n    <ax-event-statistics-definition-tab\n      *ngIf=\"tabs[9].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-event-statistics-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[10].titleKey | translate\">\n    <ax-chatbot-definition-tab\n      *ngIf=\"tabs[10].isVisited\"\n      [bundleDescriptor]=\"bundleDescriptor\"\n    ></ax-chatbot-definition-tab>\n  </adapt-tab-panel>\n\n  <adapt-tab-panel [adapt-tab-title]=\"tabs[11].titleKey | translate\">\n    <ax-configuration-definition-tab *ngIf=\"tabs[11].isVisited\"></ax-configuration-definition-tab>\n  </adapt-tab-panel>\n</adapt-tabset>\n","export const AX_BUNDLE_DEPLOYMENT = {\n  deploymentStatuses: {\n    succeeded: ['Deployed', 'DeployedWithImportWarning', 'Undeployed', 'PackageCreated', 'UndeployedVersion'],\n    failed: ['Error', 'DeployedWithImportError'],\n    pending: [\n      'PendingDeploy',\n      'ReadyDeploy',\n      'Deploying',\n      'PendingUndeploy',\n      'ReadyUndeploy',\n      'Undeploying',\n      'PendingPackageCreate'\n    ]\n  },\n\n  deploymentStatusPollInterval: 5000\n};\n","import { Injectable, NgZone } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { TranslateService } from '@ngx-translate/core';\nimport { saveAs } from 'file-saver';\nimport { chain, isEmpty } from 'lodash';\nimport { Observable, Subject, timer } from 'rxjs';\nimport { switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { RxFileService } from '@helix/platform/utils';\nimport { IBundleDescriptor } from '@helix/platform/shared/api';\nimport { AX_BUNDLE_DEPLOYMENT } from './bundle-deployment.constant';\nimport { IBundleCreateDescriptor, IDeploymentParsedStatus, IDeploymentStatus } from './bundle-deployment.interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AxBundleDeploymentService {\n  private createBundleUrl = '/api/rx/application/bundle/bundledescriptor/';\n  private deployBundleUrl = '/api/rx/application/bundle/deploymentpackage/';\n  private deploymentStatusUrl = '/api/rx/application/bundle/deploymentstatus';\n\n  private cancelPolling$ = new Subject();\n\n  constructor(\n    private httpClient: HttpClient,\n    private ngZone: NgZone,\n    private translateService: TranslateService,\n    private rxFileService: RxFileService\n  ) {\n  }\n\n  create(bundleDescriptor: IBundleCreateDescriptor): Observable<any> {\n    return this.httpClient.post<IBundleDescriptor>(this.createBundleUrl, bundleDescriptor, { observe: 'response' });\n  }\n\n  downloadContentPackage(bundleId: string, packageId: string): Observable<any> {\n    return this.httpClient\n      .get(`${this.deployBundleUrl}${bundleId}/${packageId}`, { responseType: 'arraybuffer', observe: 'response' })\n      .pipe(\n        tap((fileStream: HttpResponse<ArrayBuffer>) => {\n          const arrayBufferView = new Uint8Array(fileStream.body);\n\n          const file = new Blob([arrayBufferView], {\n            type: fileStream.headers.get('content-type')\n          });\n\n          const fileName = this.rxFileService.extractFileName(fileStream);\n\n          this.ngZone.runOutsideAngular(() => {\n            saveAs(file, fileName);\n          });\n        })\n      );\n  }\n\n  download(bundleId: string, packageId: string): Observable<any> {\n    return this.httpClient.get(this.deployBundleUrl + `${bundleId}/${packageId}`, {\n      observe: 'response',\n      responseType: 'arraybuffer'\n    });\n  }\n\n  install(file: File): Observable<any> {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    return this.httpClient.post(this.deployBundleUrl, formData, {\n      headers: new HttpHeaders({ 'Expect-Package-Type': 'INSTALL' }),\n      observe: 'response'\n    });\n  }\n\n  reinstall(bundleId: string, file: File): Observable<any> {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    return this.httpClient.post(this.deployBundleUrl, formData, {\n      headers: new HttpHeaders({ 'Expect-Package-Type': 'INSTALL', 'Reinstall-To-Bundle-Id': bundleId }),\n      observe: 'response'\n    });\n  }\n\n  update(file: File): Observable<any> {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    return this.httpClient.post(this.deployBundleUrl, formData, {\n      headers: new HttpHeaders({ 'Expect-Package-Type': 'UPDATE' }),\n      observe: 'response'\n    });\n  }\n\n  import(bundleId: string, file: File): Observable<any> {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    return this.httpClient.post(this.deployBundleUrl, formData, {\n      headers: new HttpHeaders({\n        'Expect-Package-Type': 'EXPORT',\n        'Reinstall-To-Bundle-Id': bundleId\n      }),\n      observe: 'response'\n    });\n  }\n\n  uninstall(bundleId: string): Observable<any> {\n    return this.httpClient.delete(this.deployBundleUrl + `${bundleId}`, {\n      observe: 'response'\n    });\n  }\n\n  buildStatusMessage(deploymentParsedStatus: IDeploymentParsedStatus): string {\n    const newLine = '\\n';\n\n    const errorMessages = !isEmpty(deploymentParsedStatus.errorMessages)\n      ? chain(deploymentParsedStatus.errorMessages)\n        .unshift(this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.errors.label'))\n        .join(newLine)\n        .value()\n      : '';\n\n    const definitionImportStatusMessages = !isEmpty(deploymentParsedStatus.definitionsStatusContent)\n      ? chain(deploymentParsedStatus.definitionsStatusContent)\n        .unshift(\n          this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.workspace.definition.status.messages.label'\n          )\n        )\n        .join(newLine)\n        .value()\n      : '';\n\n    const tenantDataImportStatusMessages = !isEmpty(deploymentParsedStatus.tenantDataStatusContent)\n      ? Object.keys(deploymentParsedStatus.tenantDataStatusContent).map((key) =>\n        chain(deploymentParsedStatus.tenantDataStatusContent[key])\n          .unshift(\n            this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.data.status.messages.label', {\n              tenant: key\n            })\n          )\n          .join(newLine)\n          .value()\n      )\n      : [];\n\n    return chain(tenantDataImportStatusMessages)\n      .unshift(errorMessages, definitionImportStatusMessages)\n      .compact()\n      .join(newLine + newLine)\n      .value();\n  }\n\n  pollDeploymentStatus(guid: string, customDeploymentStatusUrl?: string): Observable<IDeploymentStatus> {\n    return timer(0, AX_BUNDLE_DEPLOYMENT.deploymentStatusPollInterval)\n      .pipe(\n        takeUntil(this.cancelPolling$),\n        switchMap(() => this.httpClient.get((customDeploymentStatusUrl || this.deploymentStatusUrl) + `/${guid}`)),\n        tap((deploymentStatus: IDeploymentStatus) => {\n          if (\n            AX_BUNDLE_DEPLOYMENT.deploymentStatuses.failed.includes(deploymentStatus.packageDeployStatus) ||\n            AX_BUNDLE_DEPLOYMENT.deploymentStatuses.failed.includes(deploymentStatus.packageExportStatus)\n          ) {\n            this.cancelPolling$.next();\n            deploymentStatus.errorMessage = this.buildStatusMessage(deploymentStatus.deploymentParsedStatus);\n          } else if (\n            AX_BUNDLE_DEPLOYMENT.deploymentStatuses.succeeded.includes(deploymentStatus.packageDeployStatus) ||\n            AX_BUNDLE_DEPLOYMENT.deploymentStatuses.succeeded.includes(deploymentStatus.packageExportStatus)\n          ) {\n            this.cancelPolling$.next();\n            deploymentStatus.isFinished = true;\n          }\n        })\n      );\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '@helix/platform/shared/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxCreatePackageStatusDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.bundle.datapage.CreatePackageStatusDataPageQuery');\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '@helix/platform/shared/api';\n\nconst localizedStringsDataPageQuery =\n  'com.bmc.arsys.rx.application.localization.datapage.LocalizedStringsDataPageQuery';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AxLocalizedStringsDataPageQuery extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, localizedStringsDataPageQuery);\n  }\n}\n","export const AX_ADD_DATA_WIZARD_STEP = {\n  duplicateDataActionTypes: {\n    THROW_ERROR: 'Ignore',\n    CREATE_NEW_RECORD: 'Create New',\n    REPLACE: 'Overwrite',\n    MERGE: 'Merge'\n  }\n};\n","import { Injector } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IDataDictionary, RxExpressionConfigurator } from '@helix/platform/shared/api';\n\nexport class DataFilterColumnExpressionConfiguratorClass extends RxExpressionConfigurator {\n  private translateService = this.injector.get(TranslateService);\n\n  constructor(private injector: Injector) {\n    super();\n  }\n\n  commonDataDictionary$: Observable<IDataDictionary> = of([\n    {\n      label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n      children: [\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$DATE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIMESTAMP$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-groups.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-group-ids.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPIDS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-roles.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$ROLES$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIME$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$USER$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user-locale.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$LOCALE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-week-day.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$WEEKDAY$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.null.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$NULL$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.server-url.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$SERVERURL$'\n        }\n      ]\n    }\n  ]);\n}\n","import { Injector } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IDataDictionary, RxExpressionConfigurator } from '@helix/platform/shared/api';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\n\nexport class GlobalDataFilterExpressionConfiguratorClass extends RxExpressionConfigurator {\n  private translateService = this.injector.get(TranslateService);\n\n  constructor(private injector: Injector) {\n    super();\n  }\n\n  commonDataDictionary$: Observable<IDataDictionary> = of([\n    {\n      label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n      children: [\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$DATE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIMESTAMP$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-groups.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-group-ids.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPIDS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-roles.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$ROLES$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIME$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$USER$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user-locale.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$LOCALE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-week-day.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$WEEKDAY$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.null.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$NULL$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.server-url.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$SERVERURL$'\n        }\n      ]\n    },\n    {\n      label: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.common-core-fields.title'\n      ),\n      expanded: true,\n      children: RX_RECORD_DEFINITION.coreFields.map((field) => ({\n        label: field.name,\n        icon: 'd-icon-field_text',\n        expression: `'${field.id}'`\n      }))\n    }\n  ]);\n}\n","import { Component, Injector, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { IAssociationDescriptor } from '@helix/platform/association/api';\nimport {\n  IFieldDefinition,\n  IRecordDefinition,\n  RX_RECORD_DEFINITION,\n  RxRecordDefinitionCacheService\n} from '@helix/platform/record/api';\nimport {\n  ExpressionOperatorGroup,\n  IDataDictionary,\n  IPlainObject,\n  RxDefinitionNameService\n} from '@helix/platform/shared/api';\nimport {\n  IExpressionEditorPropertyChange,\n  IExpressionFormControlOptions,\n  RxExpressionEditorService,\n  RxWizardModalComponent\n} from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode,\n  RxRecordGridUtilsService\n} from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  assign,\n  chain,\n  cloneDeep,\n  differenceBy,\n  find,\n  head,\n  includes,\n  isArray,\n  isEmpty,\n  isNil,\n  keys,\n  reduce,\n  reject,\n  truncate\n} from 'lodash';\nimport { forkJoin, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, pairwise, startWith, switchMap, take, takeUntil, tap, withLatestFrom } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\nimport { AX_ADD_DATA_WIZARD_STEP } from './add-bundle-content-data-wizard-step.constant';\nimport { DataFilterColumnExpressionConfiguratorClass } from './components/data-filter-column-expression-configurator.class';\nimport { GlobalDataFilterExpressionConfiguratorClass } from './components/global-data-filter-expression-configurator.class';\n\ninterface IDataImportOptionsByRecordDefinitionName {\n  dataFilter?: string;\n  dataFilterExpression?: string;\n  dataFilterColumnExpressionFormControlOptions?: IPlainObject;\n  defaultFilter?: string;\n  duplicateDataActionType: string | string[];\n  ignoreRuleExecution?: boolean;\n}\n\ninterface IRecordDefinitionData extends IDataImportOptionsByRecordDefinitionName {\n  aliasName?: string;\n  dataSource: string;\n  disabled: boolean;\n  name: string;\n  selected?: string;\n  shouldExportData: boolean;\n}\n\n@Component({\n  selector: 'ax-add-bundle-content-data-wizard-step',\n  templateUrl: 'add-bundle-content-data-wizard-step.component.html',\n  styleUrls: ['./add-bundle-content-data-wizard-step.component.scss']\n})\nexport class AddBundleContentDataWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild('definitionsDataGrid', { static: true })\n  definitionsDataGrid: RecordGridComponent;\n\n  @ViewChild('recordNameCellTemplate', { static: true })\n  recordNameCellTemplate: TemplateRef<any>;\n\n  @ViewChild('dataFilterCellTemplate', { static: true })\n  dataFilterCellTemplate: TemplateRef<any>;\n\n  @ViewChild('ignoreRulesCellTemplate', { static: true })\n  ignoreRulesCellTemplate: TemplateRef<any>;\n\n  @ViewChild('duplicateDataActionTypeCellTemplate', { static: true })\n  duplicateDataActionTypeCellTemplate: TemplateRef<any>;\n\n  addDataForm: FormGroup;\n  recordDefinitionsFormControl: FormControl = new FormControl();\n  dataFilterColumnExpressionFormControlOptions: IExpressionFormControlOptions;\n  globalDataFilterExpressionFormControlOptions: IExpressionFormControlOptions;\n  duplicateDataActionTypeOptions: RxSelectOption[] = keys(AX_ADD_DATA_WIZARD_STEP.duplicateDataActionTypes);\n  recordDefinitions: IRecordDefinitionData[] = [];\n  selectedDataSources: IPlainObject = {};\n  selectedDefinitions: IRecordDefinitionData[] = [];\n\n  duplicateConfigurationDataActionTypeOptions: RxSelectOption[] = chain(\n    AX_ADD_DATA_WIZARD_STEP.duplicateDataActionTypes\n  )\n    .pick(['THROW_ERROR', 'REPLACE'])\n    .keys()\n    .value();\n\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private isSingleSelectDataSourceSelected: boolean;\n  protected dataFilterColumnExpressionConfigurator;\n  protected globalDataFilterExpressionConfigurator;\n\n  constructor(\n    private injector: Injector,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxModalService: RxModalService,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private rxRecordGridUtilsService: RxRecordGridUtilsService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {\n    this.optionFormatter = this.optionFormatter.bind(this);\n    this.titleFormatter = this.titleFormatter.bind(this);\n  }\n\n  ngOnInit(): void {\n    this.dataFilterColumnExpressionConfigurator = new DataFilterColumnExpressionConfiguratorClass(this.injector);\n    this.globalDataFilterExpressionConfigurator = new GlobalDataFilterExpressionConfiguratorClass(this.injector);\n\n    this.globalDataFilterExpressionConfigurator.configureForProperty({\n      propertyPath: 'globalDataFilter',\n      operators: this.globalDataFilterExpressionConfigurator.getOperatorRowsByGroup(ExpressionOperatorGroup.All),\n      dataDictionary$: this.globalDataFilterExpressionConfigurator.commonDataDictionary$\n    });\n\n    this.globalDataFilterExpressionFormControlOptions = {\n      isLabelHidden: true,\n      dataDictionary$: this.globalDataFilterExpressionConfigurator.getDataDictionary('globalDataFilter'),\n      operators: this.globalDataFilterExpressionConfigurator.getOperators(),\n      clickToBuildExpressionLabel: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.global-data-filter.click-to-build-expression.label'\n      )\n    };\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        fieldId: 'dataSource',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-source.label'\n        ),\n        wrapText: true,\n        cellTemplate: this.recordNameCellTemplate\n      },\n      {\n        fieldId: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.name.label'\n        ),\n        wrapText: true,\n        visible: false,\n        cellTemplate: this.recordNameCellTemplate\n      },\n      {\n        fieldId: 'aliasName',\n        wrapText: true,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.alias-name.label'\n        ),\n        visible: false\n      },\n      {\n        fieldId: 'dataFilterExpression',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-filter.label'\n        ),\n        cellTemplate: this.dataFilterCellTemplate\n      },\n      {\n        fieldId: 'dataFilterColumnExpressionFormControlOptions',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-filter.label'\n        ),\n        visible: false\n      },\n      {\n        fieldId: 'ignoreRuleExecution',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.ignore-rules.label'\n        ),\n        cellTemplate: this.ignoreRulesCellTemplate\n      },\n      {\n        fieldId: 'duplicateDataActionType',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.duplicates.label'\n        ),\n        cellTemplate: this.duplicateDataActionTypeCellTemplate\n      }\n    ].filter((column) => includes(this.options.gridConfig.columns, column.fieldId));\n\n    const gridRecordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: 'dataSource',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'aliasName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'dataFilterExpression',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'dataFilterColumnExpressionFormControlOptions',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.object\n        },\n        {\n          id: 'ignoreRuleExecution',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'duplicateDataActionType',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ].filter((definition) => includes(this.options.gridConfig.columns, definition.id))\n    };\n\n    this.rxWizardModalComponent.context$.pipe(take(1)).subscribe((context) => {\n      context.cache.recordDefinitions.forEach((recordDefinition) => {\n        this.dataFilterColumnExpressionConfigurator.configureForProperty({\n          propertyPath: `dataFilterExpression:${recordDefinition.name}`,\n          operators: this.dataFilterColumnExpressionConfigurator.getOperatorRowsByGroup(ExpressionOperatorGroup.All),\n          dataDictionary$: this.dataFilterColumnExpressionConfigurator.commonDataDictionary$.pipe(\n            switchMap((commonDataDictionary) =>\n              this.rxRecordGridUtilsService.getAssociationDescriptors(recordDefinition.name).pipe(\n                switchMap((associationDescriptors) =>\n                  forkJoin([\n                    this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinition.name),\n                    ...associationDescriptors.map((associationDescriptor) =>\n                      this.rxRecordDefinitionCacheService.getRecordDefinition(\n                        associationDescriptor.recordDefinitionName\n                      )\n                    )\n                  ]).pipe(\n                    map((definitions) => [\n                      commonDataDictionary[0],\n                      {\n                        label: this.translateService.instant(\n                          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.definition-fields.title',\n                          {\n                            definitionName: this.rxDefinitionNameService.getDisplayName(recordDefinition.name)\n                          }\n                        ),\n                        expanded: true,\n                        children: [\n                          ...chain(definitions)\n                            .find({ name: recordDefinition.name })\n                            .get('fieldDefinitions')\n                            .map((fieldDefinition) => ({\n                              label: fieldDefinition.name,\n                              icon: 'd-icon-field_text',\n                              expression: `'${fieldDefinition.id}'`\n                            }))\n                            .value(),\n                          isEmpty(associationDescriptors)\n                            ? []\n                            : {\n                                label: this.translateService.instant(\n                                  'com.bmc.arsys.rx.client.approval.expression-editor.data-dictionary.values.record-definition-associations.title'\n                                ),\n                                children: associationDescriptors.map((associationDescriptor) => ({\n                                  label: `${this.rxDefinitionNameService.getDisplayName(\n                                    associationDescriptor.recordDefinitionName\n                                  )} (${associationDescriptor.label})`,\n                                  children: this.getAssociationsDataDictionary(\n                                    definitions,\n                                    associationDescriptor.recordDefinitionName,\n                                    associationDescriptor\n                                  )\n                                }))\n                              }\n                        ]\n                      }\n                    ])\n                  )\n                )\n              )\n            )\n          )\n        });\n      });\n\n      let recordDefinitions: IRecordDefinitionData[] = [];\n      let preSelectedRecordDefinitions: IRecordDefinitionData[] = [];\n\n      const recordDefinitionsByBundles = context.cache.recordDefinitions\n        .filter(\n          (recordDefinition) => recordDefinition.type !== RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom\n        )\n        .reduce((result, recordDefinition) => {\n          const newRecordDefinition: IRecordDefinitionData = {\n            duplicateDataActionType: [this.options.gridConfig.defaultDuplicateDataActionType],\n            aliasName: recordDefinition.aliasName,\n            name: recordDefinition.name,\n            dataSource:\n              recordDefinition.aliasName || this.rxDefinitionNameService.getDisplayName(recordDefinition.name),\n            shouldExportData: recordDefinition.shouldExportData,\n            ignoreRuleExecution: false,\n            disabled: recordDefinition.disabled || recordDefinition.selected,\n            selected: recordDefinition.selected,\n            dataFilter: recordDefinition.dataFilter,\n            dataFilterExpression: recordDefinition.dataFilterExpression || null,\n            defaultFilter: recordDefinition.defaultFilter || null,\n            dataFilterColumnExpressionFormControlOptions: {\n              isLabelHidden: true,\n              operators: this.dataFilterColumnExpressionConfigurator.getOperators(),\n              dataDictionary$: this.dataFilterColumnExpressionConfigurator.getDataDictionary(\n                `dataFilterExpression:${recordDefinition.name}`\n              )\n            }\n          };\n\n          const bundleFriendlyName =\n            context.bundleFriendlyNamesById[this.rxDefinitionNameService.getBundleId(newRecordDefinition.name)];\n\n          result[bundleFriendlyName] = result[bundleFriendlyName] || [];\n          result[bundleFriendlyName].push(newRecordDefinition);\n\n          return result;\n        }, {});\n\n      this.recordDefinitions = reduce(\n        recordDefinitionsByBundles,\n        (result, recordDefinitionList, bundleName) => {\n          result.push({ name: bundleName, children: recordDefinitionList });\n\n          preSelectedRecordDefinitions = preSelectedRecordDefinitions.concat(\n            recordDefinitionList.filter((recordDefinition) => recordDefinition.selected)\n          );\n\n          recordDefinitions = recordDefinitions.concat(recordDefinitionList);\n\n          return result;\n        },\n        []\n      );\n\n      this.addDataForm = new FormGroup({\n        globalDataFilter: new FormControl(null),\n        isConfigurationDataIncluded: new FormControl(context.deploymentPackageDescriptor.isConfigurationDataIncluded),\n        duplicateConfigurationDataActionType: new FormControl([\n          context.deploymentPackageDescriptor.duplicateDataActionTypeForConfigurationData\n        ])\n      });\n\n      this.recordDefinitionsFormControl.valueChanges\n        .pipe(startWith(null), pairwise(), takeUntil(this.destroyed$))\n        .subscribe(([prev, next]) => {\n          const selectedRows = this.definitionsDataGrid.api.getSelectedRows();\n          let newRows;\n\n          if (prev && prev.length !== next.length) {\n            this.definitionsDataGrid.api.refresh().subscribe();\n          }\n\n          if (prev) {\n            newRows = differenceBy(next, prev, 'dataSource');\n          } else {\n            newRows = next.filter((recordDefinition) => !recordDefinition.selected);\n          }\n\n          this.definitionsDataGrid.api.setSelectedRows([\n            ...newRows,\n            ...selectedRows.filter((row) => find(next, { dataSource: row.dataSource }))\n          ]);\n        });\n\n      this.recordDefinitionsFormControl.patchValue(preSelectedRecordDefinitions);\n\n      this.definitionsDataGrid.rowSelectionChanged.pipe(takeUntil(this.destroyed$)).subscribe((selectedRows) => {\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n        const singleSelectDataSource = find(selectedRows, 'isSingleSelect');\n\n        this.selectedDataSources = {};\n        this.selectedDefinitions = [];\n\n        selectedRows.forEach((row) => {\n          this.selectedDataSources[row.dataSource] = true;\n          this.selectedDefinitions.push(find(recordDefinitions, { dataSource: row.dataSource }));\n        });\n\n        if (selectedRows.length > 1 && singleSelectDataSource) {\n          if (this.isSingleSelectDataSourceSelected) {\n            this.rxModalService\n              .alert({\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                modalStyle: RX_MODAL.modalStyles.warning,\n                message: this.translateService.instant(\n                  'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.single-select-data-source-selected.message',\n                  { dataSource: singleSelectDataSource.dataSource }\n                )\n              })\n              .then(() => {\n                this.definitionsDataGrid.api.setSelectedRows([singleSelectDataSource]);\n              });\n          } else {\n            this.rxModalService\n              .confirm({\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                modalStyle: RX_MODAL.modalStyles.warning,\n                message: this.translateService.instant(\n                  'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.single-select-data-source-selection-confirmation.message',\n                  { dataSource: singleSelectDataSource.dataSource }\n                )\n              })\n              .then((response) => {\n                if (response) {\n                  this.isSingleSelectDataSourceSelected = true;\n\n                  this.definitionsDataGrid.api.setSelectedRows([singleSelectDataSource]);\n                } else {\n                  this.isSingleSelectDataSourceSelected = false;\n\n                  this.definitionsDataGrid.api.setSelectedRows(reject(selectedRows, singleSelectDataSource));\n                }\n              });\n          }\n        } else {\n          if (this.isSingleSelectDataSourceSelected && !singleSelectDataSource) {\n            this.isSingleSelectDataSourceSelected = false;\n          }\n\n          assign(newDeploymentPackageDescriptor, {\n            dataImportOptionsByRecordDefinitionName: this.getDataImportOptionsByRecordDefinitionName(\n              this.selectedDefinitions\n            )\n          });\n\n          this.rxWizardModalComponent.api.updateContext(\n            {\n              deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n              isPackageDataModified: true\n            },\n            selectedRows.length > 0\n          );\n        }\n      });\n    });\n\n    this.addDataForm.valueChanges\n      .pipe(withLatestFrom(this.rxWizardModalComponent.context$), takeUntil(this.destroyed$))\n      .subscribe(([value, context]) => {\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        assign(newDeploymentPackageDescriptor, {\n          isConfigurationDataIncluded: value.isConfigurationDataIncluded,\n          duplicateDataActionTypeForConfigurationData: head(value.duplicateConfigurationDataActionType)\n        });\n\n        if (value.globalDataFilter) {\n          assign(newDeploymentPackageDescriptor, {\n            dataImportOptionsByRecordDefinitionName: this.getDataImportOptionsByRecordDefinitionName(\n              this.selectedDefinitions\n            )\n          });\n        }\n\n        this.rxWizardModalComponent.api.updateContext({\n          deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n          isPackageDataModified: true\n        });\n      });\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      enableRowSelection: RowSelectionMode.Multiple,\n      enableFiltering: false,\n      recordIdField: 'dataSource',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      getRecordDefinition: () => of(gridRecordDefinition),\n      getData: () =>\n        of({\n          data: this.recordDefinitionsFormControl.value,\n          totalSize: this.recordDefinitionsFormControl.value.length\n        })\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  optionFormatter(recordDefinitionData: IRecordDefinitionData): string {\n    return this.rxDefinitionNameService.getDisplayName(recordDefinitionData.dataSource);\n  }\n\n  titleFormatter(selectedOptions: RxSelectOption[]): string {\n    const title = chain(selectedOptions).map(this.optionFormatter).join(', ').truncate({ length: 200 }).value();\n\n    return title || this.translateService.instant('com.bmc.arsys.rx.client.common.select.label');\n  }\n\n  duplicateDataActionTypesOptionFormatter(option: RxSelectOption): string {\n    return AX_ADD_DATA_WIZARD_STEP.duplicateDataActionTypes[option];\n  }\n\n  openDataFilterColumnExpressionEditor(dataItem: IRecordDefinitionData, columnField: string): void {\n    // To simplify implementation we mark wizard as dirty as soon as we open expression builder.\n    this.rxWizardModalComponent.api.markDirty();\n\n    this.rxExpressionEditorService\n      .openEditor({\n        property: {\n          path: `dataFilterExpression:${dataItem.name}`,\n          value: dataItem[columnField],\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-filter.label'\n          )\n        },\n        expressionConfigurator: this.dataFilterColumnExpressionConfigurator,\n        legend: [\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n            icon: 'd-icon-dollar'\n          },\n          {\n            label: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.legend.activity-result.label'\n            ),\n            icon: 'd-icon-field_text'\n          }\n        ]\n      })\n      .pipe(\n        tap((expression: IExpressionEditorPropertyChange) => {\n          dataItem[columnField] = expression.value;\n          this.updateDataImportOptionsByRecordDefinitionName(expression.value, dataItem, columnField);\n        })\n      )\n      .subscribe();\n  }\n\n  openGlobalDataFilterExpressionEditor(): void {\n    // To simplify implementation we mark wizard as dirty as soon as we open expression builder.\n    this.rxWizardModalComponent.api.markDirty();\n\n    this.rxExpressionEditorService\n      .openEditor({\n        property: {\n          path: 'globalDataFilter',\n          value: this.addDataForm.controls.globalDataFilter.value,\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.global-data-filter-expression-editor.label'\n          )\n        },\n        expressionConfigurator: this.globalDataFilterExpressionConfigurator,\n        legend: [\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n            icon: 'd-icon-dollar'\n          },\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.field.label'),\n            icon: 'd-icon-field_text'\n          }\n        ]\n      })\n      .subscribe((expression: IExpressionEditorPropertyChange) => {\n        this.addDataForm.controls.globalDataFilter.setValue(expression.value);\n      });\n  }\n\n  updateDataImportOptionsByRecordDefinitionName(\n    cellValue: string | RxSelectOption,\n    recordDefinitionData: IRecordDefinitionData,\n    columnField: string\n  ): void {\n    this.rxWizardModalComponent.context$.pipe(take(1)).subscribe((context) => {\n      const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n      const recordDefinitions = this.recordDefinitionsFormControl.value;\n      const recordDefinition = find(recordDefinitions, { dataSource: recordDefinitionData.dataSource });\n\n      newDeploymentPackageDescriptor.dataImportOptionsByRecordDefinitionName[recordDefinition.name][columnField] =\n        isArray(cellValue) ? head(cellValue) : cellValue;\n\n      this.rxWizardModalComponent.api.updateContext({\n        deploymentPackageDescriptor: newDeploymentPackageDescriptor\n      });\n\n      recordDefinition[columnField] = cellValue;\n\n      this.recordDefinitionsFormControl.setValue(recordDefinitions);\n    });\n  }\n\n  private getAssociationsDataDictionary(\n    recordDefinitions: IRecordDefinition[],\n    recordDefinitionName: string,\n    parentAssociation: IAssociationDescriptor\n  ): IDataDictionary {\n    const fieldDefinitions: IFieldDefinition[] = find(recordDefinitions, {\n      name: recordDefinitionName\n    }).fieldDefinitions;\n\n    return fieldDefinitions.map((fieldDefinition) => ({\n      label: fieldDefinition.name,\n      icon: 'd-icon-field_text',\n      expression: `'recordContext._associations.${parentAssociation.associationDefinition.guid}.${parentAssociation.nodeSide}[0].${fieldDefinition.id}'`\n    }));\n  }\n\n  private getDataImportOptionsByRecordDefinitionName(recordDefinitions: IRecordDefinitionData[]): IPlainObject {\n    return recordDefinitions.reduce<IPlainObject>((result, recordDefinition) => {\n      const dataImportOptionsByRecordDefinitionName: IDataImportOptionsByRecordDefinitionName = {\n        duplicateDataActionType: head(recordDefinition.duplicateDataActionType),\n        ignoreRuleExecution: recordDefinition.ignoreRuleExecution\n      };\n\n      dataImportOptionsByRecordDefinitionName.defaultFilter = recordDefinition.defaultFilter;\n      dataImportOptionsByRecordDefinitionName.dataFilterExpression = recordDefinition.dataFilterExpression;\n      dataImportOptionsByRecordDefinitionName.dataFilterColumnExpressionFormControlOptions =\n        recordDefinition.dataFilterColumnExpressionFormControlOptions;\n\n      const combinedExpression = chain([\n        recordDefinition.defaultFilter,\n        recordDefinition.dataFilterExpression,\n        this.addDataForm.controls.globalDataFilter.value\n      ])\n        .compact()\n        .map((expression) => `(${expression})`)\n        .join(' AND ')\n        .value();\n\n      if (combinedExpression) {\n        if (result[recordDefinition.name]?.dataFilter) {\n          dataImportOptionsByRecordDefinitionName.dataFilter = `${\n            result[recordDefinition.name]?.dataFilter\n          } OR (${combinedExpression})`;\n        } else {\n          dataImportOptionsByRecordDefinitionName.dataFilter = combinedExpression;\n        }\n      }\n\n      result[recordDefinition.name] = dataImportOptionsByRecordDefinitionName;\n\n      return result;\n    }, {});\n  }\n}\n","<div class=\"d-flex justify-content-between\">\n  <h5 class=\"mt-0\">\n    {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.title' | translate }}\n    <span\n      class=\"d-icon-right-question_circle_o\"\n      [adaptPopover]=\"tooltipContentTemplate\"\n      placement=\"bottom\"\n      appendToBody=\"true\"\n      maxWidth=\"400\"\n    ></span>\n  </h5>\n  <div>\n    {{ options?.countTitle | translate: { count: selectedDefinitions.length } }}\n  </div>\n</div>\n\n<ng-template #tooltipContentTemplate>\n  <div\n    [innerHTML]=\"'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-bundle-content-data.tooltip' | translate\"\n  ></div>\n</ng-template>\n\n<div class=\"mb-3\">{{ options?.descriptionTitle | translate }}</div>\n\n<ng-container [formGroup]=\"addDataForm\">\n  <div class=\"d-flex mb-3 justify-content-between\">\n    <adapt-rx-select\n      [formControl]=\"recordDefinitionsFormControl\"\n      [options]=\"recordDefinitions\"\n      [optionFormatter]=\"optionFormatter\"\n      [multiple]=\"true\"\n      [selectAllButton]=\"true\"\n      [deselectAllButton]=\"true\"\n      [enableFilter]=\"true\"\n      [titleFormatter]=\"titleFormatter\"\n      class=\"add-data-record-definitions-select\"\n    >\n    </adapt-rx-select>\n\n    <rx-expression-form-control\n      class=\"d-flex ml-4\"\n      *ngIf=\"options?.showGlobalFilterExpressionEditor\"\n      [options]=\"globalDataFilterExpressionFormControlOptions\"\n      (events)=\"openGlobalDataFilterExpressionEditor()\"\n      [formControl]=\"addDataForm.controls.globalDataFilter\"\n    >\n    </rx-expression-form-control>\n  </div>\n\n  <rx-record-grid class=\"mb-3\" [config]=\"recordGridConfig$\" #definitionsDataGrid></rx-record-grid>\n\n  <div class=\"d-flex pb-3\">\n    <adapt-rx-checkbox\n      class=\"add-data-is-configuration-data-included-checkbox pr-3\"\n      [label]=\"\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.include-configuration-data-in-the-package.label'\n          | translate\n      \"\n      formControlName=\"isConfigurationDataIncluded\"\n    ></adapt-rx-checkbox>\n\n    <adapt-rx-select\n      *ngIf=\"addDataForm.controls.isConfigurationDataIncluded.value\"\n      class=\"flex-grow-1\"\n      appendToBody=\"true\"\n      [options]=\"duplicateConfigurationDataActionTypeOptions\"\n      [optionFormatter]=\"duplicateDataActionTypesOptionFormatter\"\n      formControlName=\"duplicateConfigurationDataActionType\"\n    ></adapt-rx-select>\n  </div>\n</ng-container>\n\n<ng-template #recordNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n\n<ng-template #dataFilterCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div>\n    <rx-expression-form-control\n      [options]=\"dataItem.dataFilterColumnExpressionFormControlOptions\"\n      (events)=\"openDataFilterColumnExpressionEditor(dataItem, column.field)\"\n      [(ngModel)]=\"dataItem[column.field]\"\n      [disabled]=\"!selectedDataSources[dataItem.dataSource]\"\n    >\n    </rx-expression-form-control>\n  </div>\n</ng-template>\n\n<ng-template #ignoreRulesCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div>\n    <adapt-rx-switch\n      [(ngModel)]=\"dataItem[column.field]\"\n      (ngModelChange)=\"updateDataImportOptionsByRecordDefinitionName($event, dataItem, column.field)\"\n      [disabled]=\"!selectedDataSources[dataItem.dataSource]\"\n    ></adapt-rx-switch>\n  </div>\n</ng-template>\n\n<ng-template #duplicateDataActionTypeCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div>\n    <adapt-rx-select\n      appendToBody=\"true\"\n      [options]=\"duplicateDataActionTypeOptions\"\n      [optionFormatter]=\"duplicateDataActionTypesOptionFormatter\"\n      [(ngModel)]=\"dataItem[column.field]\"\n      (ngModelChange)=\"updateDataImportOptionsByRecordDefinitionName($event, dataItem, column.field)\"\n      [disabled]=\"!selectedDataSources[dataItem.dataSource]\"\n    >\n    </adapt-rx-select>\n  </div>\n</ng-template>\n","export const AX_ADD_DATA_WIZARD_STEP = {\n  duplicateDataActionTypes: {\n    THROW_ERROR: 'Ignore',\n    CREATE_NEW_RECORD: 'Create New',\n    REPLACE: 'Overwrite',\n    MERGE: 'Merge'\n  }\n};\n","import { Injector } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IDataDictionary, RxExpressionConfigurator } from '@helix/platform/shared/api';\n\nexport class DataFilterColumnExpressionConfiguratorClass extends RxExpressionConfigurator {\n  private translateService = this.injector.get(TranslateService);\n\n  constructor(private injector: Injector) {\n    super();\n  }\n\n  commonDataDictionary$: Observable<IDataDictionary> = of([\n    {\n      label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n      children: [\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$DATE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIMESTAMP$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-groups.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-group-ids.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPIDS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-roles.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$ROLES$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIME$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$USER$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user-locale.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$LOCALE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-week-day.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$WEEKDAY$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.null.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$NULL$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.server-url.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$SERVERURL$'\n        }\n      ]\n    }\n  ]);\n}\n","import { Injector } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IDataDictionary, RxExpressionConfigurator } from '@helix/platform/shared/api';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\n\nexport class GlobalDataFilterExpressionConfiguratorClass extends RxExpressionConfigurator {\n  private translateService = this.injector.get(TranslateService);\n\n  constructor(private injector: Injector) {\n    super();\n  }\n\n  commonDataDictionary$: Observable<IDataDictionary> = of([\n    {\n      label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.labe'),\n      children: [\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$DATE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-date-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIMESTAMP$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-groups.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-group-ids.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$GROUPIDS$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-roles.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$ROLES$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-time.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$TIME$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$USER$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-user-locale.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$LOCALE$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.current-week-day.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$WEEKDAY$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.null.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$NULL$'\n        },\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.general-group.pill.server-url.title'\n          ),\n          icon: 'd-icon-dollar',\n          expression: '$SERVERURL$'\n        }\n      ]\n    },\n    {\n      label: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.common-core-fields.title'\n      ),\n      expanded: true,\n      children: RX_RECORD_DEFINITION.coreFields.map((field) => ({\n        label: field.name,\n        icon: 'd-icon-field_text',\n        expression: `'${field.id}'`\n      }))\n    }\n  ]);\n}\n","import { Component, Injector, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { IAssociationDescriptor } from '@helix/platform/association/api';\nimport {\n  IFieldDefinition,\n  IRecordDefinition,\n  RX_RECORD_DEFINITION,\n  RxRecordDefinitionCacheService\n} from '@helix/platform/record/api';\nimport {\n  ExpressionOperatorGroup,\n  IDataDictionary,\n  IPlainObject,\n  RxDefinitionNameService\n} from '@helix/platform/shared/api';\nimport {\n  IExpressionEditorPropertyChange,\n  IExpressionFormControlOptions,\n  RxExpressionEditorService,\n  RxWizardModalComponent\n} from '@helix/platform/shared/components';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode,\n  RxRecordGridUtilsService\n} from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { assign, chain, cloneDeep, find, head, includes, isArray, isEmpty, keys } from 'lodash';\nimport { forkJoin, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, switchMap, take, takeUntil, withLatestFrom } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\nimport { ICreateUpdatePackageContext } from '../../bundle-details/bundle-details.types';\nimport { AX_ADD_DATA_WIZARD_STEP } from './add-data-wizard-step.constant';\nimport { DataFilterColumnExpressionConfiguratorClass } from './components/data-filter-column-expression-configurator.class';\nimport { GlobalDataFilterExpressionConfiguratorClass } from './components/global-data-filter-expression-configurator.class';\n\ninterface IDataImportOptionsByRecordDefinitionName {\n  dataFilter?: string;\n  dataFilterExpression?: string;\n  dataFilterColumnExpressionFormControlOptions?: IPlainObject;\n  defaultFilter?: string;\n  duplicateDataActionType: string | string[];\n  ignoreRuleExecution?: boolean;\n}\n\ninterface IRecordDefinitionData extends IDataImportOptionsByRecordDefinitionName {\n  aliasName?: string;\n  dataSource: string;\n  disabled: boolean;\n  name: string;\n  selected?: string;\n  shouldExportData: boolean;\n}\n\n@Component({\n  selector: 'ax-add-data-wizard-step',\n  templateUrl: 'add-data-wizard-step.component.html',\n  styleUrls: ['./add-data-wizard-step.component.scss']\n})\nexport class AddDataWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  context: ICreateUpdatePackageContext;\n\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild('definitionsDataGrid')\n  definitionsDataGrid: RecordGridComponent;\n\n  @ViewChild('recordNameCellTemplate', { static: true })\n  recordNameCellTemplate: TemplateRef<any>;\n\n  @ViewChild('dataFilterCellTemplate', { static: true })\n  dataFilterCellTemplate: TemplateRef<any>;\n\n  @ViewChild('ignoreRulesCellTemplate', { static: true })\n  ignoreRulesCellTemplate: TemplateRef<any>;\n\n  @ViewChild('duplicateDataActionTypeCellTemplate', { static: true })\n  duplicateDataActionTypeCellTemplate: TemplateRef<any>;\n\n  addDataForm: FormGroup;\n  dataFilterColumnExpressionFormControlOptions: IExpressionFormControlOptions;\n  globalDataFilterExpressionFormControlOptions: IExpressionFormControlOptions;\n  duplicateDataActionTypeOptions: RxSelectOption[] = keys(AX_ADD_DATA_WIZARD_STEP.duplicateDataActionTypes);\n  recordDefinitions: IRecordDefinitionData[] = [];\n\n  duplicateConfigurationDataActionTypeOptions: RxSelectOption[] = chain(\n    AX_ADD_DATA_WIZARD_STEP.duplicateDataActionTypes\n  )\n    .pick(['THROW_ERROR', 'REPLACE'])\n    .keys()\n    .value();\n\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  protected dataFilterColumnExpressionConfigurator;\n  protected globalDataFilterExpressionConfigurator;\n\n  private isDeleteButtonDisabled(): boolean {\n    let isDeleteButtonDisabled = true;\n\n    if (this.definitionsDataGrid) {\n      const selectedRows = this.definitionsDataGrid.api.getSelectedRows();\n\n      isDeleteButtonDisabled = !selectedRows.length || Boolean(find(selectedRows, 'shouldExportData'));\n    }\n\n    return isDeleteButtonDisabled;\n  }\n\n  constructor(\n    private injector: Injector,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private rxRecordGridUtilsService: RxRecordGridUtilsService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {\n    this.optionFormatter = this.optionFormatter.bind(this);\n  }\n\n  ngOnInit(): void {\n    this.dataFilterColumnExpressionConfigurator = new DataFilterColumnExpressionConfiguratorClass(this.injector);\n    this.globalDataFilterExpressionConfigurator = new GlobalDataFilterExpressionConfiguratorClass(this.injector);\n\n    this.globalDataFilterExpressionConfigurator.configureForProperty({\n      propertyPath: 'globalDataFilter',\n      operators: this.globalDataFilterExpressionConfigurator.getOperatorRowsByGroup(ExpressionOperatorGroup.All),\n      dataDictionary$: this.globalDataFilterExpressionConfigurator.commonDataDictionary$\n    });\n\n    this.globalDataFilterExpressionFormControlOptions = {\n      isLabelHidden: true,\n      dataDictionary$: this.globalDataFilterExpressionConfigurator.getDataDictionary('globalDataFilter'),\n      operators: this.globalDataFilterExpressionConfigurator.getOperators(),\n      clickToBuildExpressionLabel: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.global-data-filter.click-to-build-expression.label'\n      )\n    };\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        fieldId: 'dataSource',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-source.label'\n        ),\n        wrapText: true\n      },\n      {\n        fieldId: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.name.label'\n        ),\n        wrapText: true,\n        visible: false,\n        cellTemplate: this.recordNameCellTemplate\n      },\n      {\n        fieldId: 'aliasName',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.alias-name.label'\n        ),\n        visible: false\n      },\n      {\n        fieldId: 'dataFilterExpression',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-filter.label'\n        ),\n        cellTemplate: this.dataFilterCellTemplate\n      },\n      {\n        fieldId: 'dataFilterColumnExpressionFormControlOptions',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-filter.label'\n        ),\n        visible: false\n      },\n      {\n        fieldId: 'ignoreRuleExecution',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.ignore-rules.label'\n        ),\n        cellTemplate: this.ignoreRulesCellTemplate\n      },\n      {\n        fieldId: 'duplicateDataActionType',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.duplicates.label'\n        ),\n        cellTemplate: this.duplicateDataActionTypeCellTemplate\n      }\n    ].filter((column) => includes(this.options.gridConfig.columns, column.fieldId));\n\n    const gridRecordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: 'dataSource',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'aliasName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'dataFilterExpression',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'dataFilterColumnExpressionFormControlOptions',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.object\n        },\n        {\n          id: 'ignoreRuleExecution',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'duplicateDataActionType',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ].filter((definition) => includes(this.options.gridConfig.columns, definition.id))\n    };\n\n    this.rxWizardModalComponent.context$.pipe(take(1)).subscribe((context) => {\n      context.cache.recordDefinitions.forEach((recordDefinition) => {\n        this.dataFilterColumnExpressionConfigurator.configureForProperty({\n          propertyPath: `dataFilterExpression:${recordDefinition.name}`,\n          operators: this.dataFilterColumnExpressionConfigurator.getOperatorRowsByGroup(ExpressionOperatorGroup.All),\n          dataDictionary$: this.dataFilterColumnExpressionConfigurator.commonDataDictionary$.pipe(\n            switchMap((commonDataDictionary) =>\n              this.rxRecordGridUtilsService.getAssociationDescriptors(recordDefinition.name).pipe(\n                switchMap((associationDescriptors) =>\n                  forkJoin([\n                    this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinition.name),\n                    ...associationDescriptors.map((associationDescriptor) =>\n                      this.rxRecordDefinitionCacheService.getRecordDefinition(\n                        associationDescriptor.recordDefinitionName\n                      )\n                    )\n                  ]).pipe(\n                    map((definitions) => [\n                      commonDataDictionary[0],\n                      {\n                        label: this.translateService.instant(\n                          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.data-dictionary.values.definition-fields.title',\n                          {\n                            definitionName: this.rxDefinitionNameService.getDisplayName(recordDefinition.name)\n                          }\n                        ),\n                        expanded: true,\n                        children: [\n                          ...chain(definitions)\n                            .find({ name: recordDefinition.name })\n                            .get('fieldDefinitions')\n                            .map((fieldDefinition) => ({\n                              label: fieldDefinition.name,\n                              icon: 'd-icon-field_text',\n                              expression: `'${fieldDefinition.id}'`\n                            }))\n                            .value(),\n                          isEmpty(associationDescriptors)\n                            ? []\n                            : {\n                                label: this.translateService.instant(\n                                  'com.bmc.arsys.rx.client.approval.expression-editor.data-dictionary.values.record-definition-associations.title'\n                                ),\n                                children: associationDescriptors.map((associationDescriptor) => ({\n                                  label: `${this.rxDefinitionNameService.getDisplayName(\n                                    associationDescriptor.recordDefinitionName\n                                  )} (${associationDescriptor.label})`,\n                                  children: this.getAssociationsDataDictionary(\n                                    definitions,\n                                    associationDescriptor.recordDefinitionName,\n                                    associationDescriptor\n                                  )\n                                }))\n                              }\n                        ]\n                      }\n                    ])\n                  )\n                )\n              )\n            )\n          )\n        });\n      });\n\n      const recordDefinitions: IRecordDefinitionData[] = [];\n\n      this.recordDefinitions = context.cache.recordDefinitions\n        .filter(\n          (recordDefinition) => recordDefinition.type !== RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom\n        )\n        .map((recordDefinition) => {\n          const newRecordDefinition: IRecordDefinitionData = {\n            duplicateDataActionType: [this.options.gridConfig.defaultDuplicateDataActionType],\n            name: recordDefinition.name,\n            dataSource:\n              recordDefinition.aliasName || this.rxDefinitionNameService.getDisplayName(recordDefinition.name),\n            shouldExportData: recordDefinition.shouldExportData,\n            ignoreRuleExecution: false,\n            disabled: recordDefinition.shouldExportData,\n            selected: recordDefinition.shouldExportData\n          };\n\n          if (newRecordDefinition.selected) {\n            recordDefinitions.push(newRecordDefinition);\n          }\n\n          return newRecordDefinition;\n        });\n\n      this.addDataForm = new FormGroup({\n        globalDataFilter: new FormControl(null),\n        isConfigurationDataIncluded: new FormControl(context.deploymentPackageDescriptor.isConfigurationDataIncluded),\n        duplicateConfigurationDataActionType: new FormControl([\n          context.deploymentPackageDescriptor.duplicateDataActionTypeForConfigurationData\n        ]),\n        recordDefinitions: new FormControl(recordDefinitions)\n      });\n\n      const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n      assign(newDeploymentPackageDescriptor, {\n        dataImportOptionsByRecordDefinitionName: this.getDataImportOptionsByRecordDefinitionName(recordDefinitions)\n      });\n\n      this.rxWizardModalComponent.api.updateContext(\n        {\n          deploymentPackageDescriptor: newDeploymentPackageDescriptor\n        },\n        false\n      );\n    });\n\n    this.addDataForm.valueChanges\n      .pipe(withLatestFrom(this.rxWizardModalComponent.context$), takeUntil(this.destroyed$))\n      .subscribe(([value, context]) => {\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n        const isConfigurationDataIncluded = newDeploymentPackageDescriptor.isConfigurationDataIncluded;\n\n        assign(newDeploymentPackageDescriptor, {\n          isConfigurationDataIncluded: value.isConfigurationDataIncluded,\n          duplicateDataActionTypeForConfigurationData: head(value.duplicateConfigurationDataActionType),\n          dataImportOptionsByRecordDefinitionName: this.getDataImportOptionsByRecordDefinitionName(\n            value.recordDefinitions\n          )\n        });\n\n        this.rxWizardModalComponent.api.updateContext({\n          deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n          isPackageDataModified: true\n        });\n\n        if (isConfigurationDataIncluded === value.isConfigurationDataIncluded) {\n          this.definitionsDataGrid.api.refresh().subscribe();\n        }\n      });\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      enableRowSelection: RowSelectionMode.Multiple,\n      enableFiltering: false,\n      recordIdField: 'dataSource',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      actionButtons: [\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.remove.label'),\n          style: 'tertiary',\n          iconCls: 'trash',\n          disabled: this.isDeleteButtonDisabled.bind(this),\n          actions: [\n            {\n              name: this.deleteDefinitionsDataFromSelection.bind(this)\n            }\n          ]\n        }\n      ],\n      getRecordDefinition: () => of(gridRecordDefinition),\n      getData: () =>\n        of({\n          data: this.addDataForm.controls.recordDefinitions.value,\n          totalSize: this.addDataForm.controls.recordDefinitions.value.length\n        })\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  optionFormatter(recordDefinitionData: IRecordDefinitionData): string {\n    return recordDefinitionData.dataSource;\n  }\n\n  duplicateDataActionTypesOptionFormatter(option: RxSelectOption): string {\n    return AX_ADD_DATA_WIZARD_STEP.duplicateDataActionTypes[option];\n  }\n\n  openDataFilterColumnExpressionEditor(dataItem: IRowDataItem, columnField: string): void {\n    this.rxExpressionEditorService\n      .openEditor({\n        property: {\n          path: `dataFilterExpression:${dataItem.name}`,\n          value: dataItem[columnField],\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-filter.label'\n          )\n        },\n        expressionConfigurator: this.dataFilterColumnExpressionConfigurator,\n        legend: [\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n            icon: 'd-icon-dollar'\n          },\n          {\n            label: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.legend.activity-result.label'\n            ),\n            icon: 'd-icon-field_text'\n          }\n        ]\n      })\n      .subscribe((expression: IExpressionEditorPropertyChange) => {\n        const recordDefinitions = this.addDataForm.controls.recordDefinitions.value;\n        const recordDefinition = find(recordDefinitions, { name: dataItem.name });\n\n        recordDefinition.dataFilterExpression = expression.value;\n\n        this.addDataForm.controls.recordDefinitions.setValue(recordDefinitions);\n      });\n  }\n\n  openGlobalDataFilterExpressionEditor(): void {\n    this.rxExpressionEditorService\n      .openEditor({\n        property: {\n          path: 'globalDataFilter',\n          value: this.addDataForm.controls.globalDataFilter.value,\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.global-data-filter-expression-editor.label'\n          )\n        },\n        expressionConfigurator: this.globalDataFilterExpressionConfigurator,\n        legend: [\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n            icon: 'd-icon-dollar'\n          },\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.field.label'),\n            icon: 'd-icon-field_text'\n          }\n        ]\n      })\n      .subscribe((expression: IExpressionEditorPropertyChange) => {\n        this.addDataForm.controls.globalDataFilter.setValue(expression.value);\n      });\n  }\n\n  private deleteDefinitionsDataFromSelection(): void {\n    const selectedRows = this.definitionsDataGrid.api.getSelectedRows();\n\n    this.addDataForm.controls.recordDefinitions.patchValue(\n      this.addDataForm.controls.recordDefinitions.value.filter(\n        (recordDefinition) => !find(selectedRows, { dataSource: recordDefinition.dataSource })\n      )\n    );\n  }\n\n  updateDataImportOptionsByRecordDefinitionName(\n    cellValue: string | RxSelectOption,\n    recordDefinitionName: string,\n    optionName: string\n  ): void {\n    const newDeploymentPackageDescriptor = cloneDeep(this.context.deploymentPackageDescriptor);\n\n    newDeploymentPackageDescriptor.dataImportOptionsByRecordDefinitionName[recordDefinitionName][optionName] = isArray(\n      cellValue\n    )\n      ? head(cellValue)\n      : cellValue;\n\n    this.rxWizardModalComponent.api.updateContext({\n      deploymentPackageDescriptor: newDeploymentPackageDescriptor\n    });\n  }\n\n  private getAssociationsDataDictionary(\n    recordDefinitions: IRecordDefinition[],\n    recordDefinitionName: string,\n    parentAssociation: IAssociationDescriptor\n  ): IDataDictionary {\n    const fieldDefinitions: IFieldDefinition[] = find(recordDefinitions, {\n      name: recordDefinitionName\n    }).fieldDefinitions;\n\n    return fieldDefinitions.map((fieldDefinition) => ({\n      label: fieldDefinition.name,\n      icon: 'd-icon-field_text',\n      expression: `'recordContext._associations.${parentAssociation.associationDefinition.guid}.${parentAssociation.nodeSide}[0].${fieldDefinition.id}'`\n    }));\n  }\n\n  private getDataImportOptionsByRecordDefinitionName(recordDefinitions: IRecordDefinitionData[]): IPlainObject {\n    return recordDefinitions.reduce<IPlainObject>((result, recordDefinition) => {\n      const dataImportOptionsByRecordDefinitionName: IDataImportOptionsByRecordDefinitionName = {\n        duplicateDataActionType: head(recordDefinition.duplicateDataActionType),\n        ignoreRuleExecution: recordDefinition.ignoreRuleExecution\n      };\n\n      result[recordDefinition.name] = dataImportOptionsByRecordDefinitionName;\n\n      return result;\n    }, {});\n  }\n}\n","<div class=\"d-flex justify-content-between\">\n  <h5 class=\"mt-0\">{{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.title' | translate }}</h5>\n  <div>\n    {{ options?.countTitle | translate: { count: addDataForm?.controls?.recordDefinitions?.value?.length } }}\n  </div>\n</div>\n\n<div class=\"mb-3\">{{ options?.descriptionTitle | translate }}</div>\n\n<ng-container [formGroup]=\"addDataForm\">\n  <div class=\"d-flex mb-3 justify-content-between\">\n    <adapt-rx-select\n      [formControl]=\"addDataForm.controls.recordDefinitions\"\n      [options]=\"recordDefinitions\"\n      [optionFormatter]=\"optionFormatter\"\n      [multiple]=\"true\"\n      [selectAllButton]=\"true\"\n      [deselectAllButton]=\"true\"\n      [enableFilter]=\"true\"\n      class=\"add-data-record-definitions-select\"\n    >\n    </adapt-rx-select>\n\n    <rx-expression-form-control\n      class=\"d-flex\"\n      *ngIf=\"options?.showGlobalFilterExpressionEditor\"\n      [options]=\"globalDataFilterExpressionFormControlOptions\"\n      (events)=\"openGlobalDataFilterExpressionEditor()\"\n      [formControl]=\"addDataForm.controls.globalDataFilter\"\n    >\n    </rx-expression-form-control>\n  </div>\n\n  <rx-record-grid class=\"mb-3\" [config]=\"recordGridConfig$\" #definitionsDataGrid></rx-record-grid>\n\n  <div class=\"d-flex pb-3\">\n    <adapt-rx-checkbox\n      class=\"add-data-is-configuration-data-included-checkbox pr-3\"\n      [label]=\"\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.include-configuration-data-in-the-package.label'\n          | translate\n      \"\n      formControlName=\"isConfigurationDataIncluded\"\n    ></adapt-rx-checkbox>\n\n    <adapt-rx-select\n      *ngIf=\"addDataForm.controls.isConfigurationDataIncluded.value\"\n      class=\"flex-grow-1\"\n      appendToBody=\"true\"\n      [options]=\"duplicateConfigurationDataActionTypeOptions\"\n      [optionFormatter]=\"duplicateDataActionTypesOptionFormatter\"\n      formControlName=\"duplicateConfigurationDataActionType\"\n    ></adapt-rx-select>\n  </div>\n</ng-container>\n\n<ng-template #recordNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n\n<ng-template #dataFilterCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div>\n    <rx-expression-form-control\n      [options]=\"dataItem.dataFilterColumnExpressionFormControlOptions\"\n      (events)=\"openDataFilterColumnExpressionEditor(dataItem, column.field)\"\n      [(ngModel)]=\"dataItem[column.field]\"\n    >\n    </rx-expression-form-control>\n  </div>\n</ng-template>\n\n<ng-template #ignoreRulesCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div>\n    <adapt-rx-switch\n      [(ngModel)]=\"dataItem[column.field]\"\n      (ngModelChange)=\"updateDataImportOptionsByRecordDefinitionName($event, dataItem.name, 'ignoreRuleExecution')\"\n    ></adapt-rx-switch>\n  </div>\n</ng-template>\n\n<ng-template #duplicateDataActionTypeCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div>\n    <adapt-rx-select\n      appendToBody=\"true\"\n      [options]=\"duplicateDataActionTypeOptions\"\n      [optionFormatter]=\"duplicateDataActionTypesOptionFormatter\"\n      [(ngModel)]=\"dataItem[column.field]\"\n      (ngModelChange)=\"updateDataImportOptionsByRecordDefinitionName($event, dataItem.name, 'duplicateDataActionType')\"\n    >\n    </adapt-rx-select>\n  </div>\n</ng-template>\n","import { Component } from '@angular/core';\nimport { switchMap, take } from 'rxjs/operators';\n\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { AxBundleDeploymentService } from '../../../services/bundle-deployment/bundle-deployment.service';\n\n@Component({\n  selector: 'ax-download-wizard-step',\n  templateUrl: 'download-wizard-step.component.html'\n})\nexport class DownloadWizardStepComponent {\n  constructor(\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private axBundleDeploymentService: AxBundleDeploymentService\n  ) {}\n\n  download(): void {\n    this.rxWizardModalComponent.context$\n      .pipe(\n        take(1),\n        switchMap((context) =>\n          this.axBundleDeploymentService.downloadContentPackage(\n            context.deploymentPackageDescriptor.id,\n            context.packageGuid\n          )\n        )\n      )\n      .subscribe();\n  }\n}\n","<h5 class=\"mt-0\">{{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.download.title' | translate }}</h5>\n\n<button adapt-button type=\"button\" btn-type=\"primary\" (click)=\"download()\" rx-id=\"download-button\">\n  {{ 'com.bmc.arsys.rx.client.common.download.label' | translate }}\n</button>\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { AbstractControl, FormControl, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport { IBundleDescriptor, IPlainObject, RX_APPLICATION } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { assign, cloneDeep, compact, includes, initial, last, some } from 'lodash';\nimport { combineLatest, Observable, ReplaySubject } from 'rxjs';\nimport { map, pluck, shareReplay, take, takeUntil, withLatestFrom } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'ax-options-wizard-step',\n  templateUrl: 'options-wizard-step.component.html',\n  styleUrls: ['./options-wizard-step.component.scss']\n})\nexport class OptionsWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  optionsForm: FormGroup;\n\n  versionRegexp = /^((\\d+\\.\\d+)(\\.\\d+)?)(.*)$/;\n\n  isApplication$ = this.rxWizardModalComponent.context$.pipe(take(1), pluck('bundleDetails', 'isApplication'));\n\n  bundlesList$: Observable<IBundleDescriptor[]> = this.rxWizardModalComponent.context$.pipe(\n    take(1),\n    map((context) =>\n      context.bundleDescriptors\n        .sort((a, b) => a.friendlyName.localeCompare(b.friendlyName))\n        .reduce((result, bundleDescriptor) => {\n          if (\n            !includes(\n              [\n                RX_APPLICATION.standardlib,\n                RX_APPLICATION.innovationStudioBundleId,\n                RX_APPLICATION.platformBundleId,\n                context.bundleDetails.id\n              ],\n              bundleDescriptor.id\n            )\n          ) {\n            result.push({\n              ...bundleDescriptor\n            });\n          }\n\n          return result;\n        }, [])\n    ),\n    shareReplay(1)\n  );\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  versionIncrementValidator =\n    (fromVersionControl) =>\n    (control: AbstractControl): ValidationErrors | null => {\n      let isValidateIncrementation = true;\n\n      if (fromVersionControl?.value && control.value && this.versionRegexp.test(control.value)) {\n        isValidateIncrementation = this.isValidateIncrementation(fromVersionControl.value, control.value);\n      }\n\n      return isValidateIncrementation\n        ? null\n        : {\n            invalidVersion: {\n              value: control.value,\n              message: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.version-increment.error.message'\n              )\n            }\n          };\n    };\n\n  constructor(private rxWizardModalComponent: RxWizardModalComponent, private translateService: TranslateService) {}\n\n  ngOnInit(): void {\n    combineLatest([this.bundlesList$, this.rxWizardModalComponent.context$])\n      .pipe(take(1))\n      .subscribe(([bundlesList, context]) => {\n        const dependentBundles: IBundleDescriptor[] = bundlesList.filter((bundleDescriptor) =>\n          some(context.bundleDetails.dependentBundles, { id: bundleDescriptor.id })\n        );\n\n        const optionsFormGroup: IPlainObject = {};\n\n        if (this.options?.fields?.bundleUpdateFromVersion) {\n          optionsFormGroup.bundleUpdateFromVersion = new FormControl(\n            context.deploymentPackageDescriptor.bundleUpdateFromVersion\n          );\n        }\n\n        if (this.options?.fields?.customPackageName) {\n          optionsFormGroup.customPackageName = new FormControl(context.deploymentPackageDescriptor.customPackageName);\n        }\n\n        Object.assign(optionsFormGroup, {\n          id: new FormControl(context.bundleDetails.id),\n          friendlyName: new FormControl(context.deploymentPackageDescriptor.friendlyName, [Validators.required]),\n          version: new FormControl(\n            context.deploymentPackageDescriptor.version,\n            compact([\n              Validators.required,\n              Validators.pattern(this.versionRegexp),\n              this.options?.fields?.bundleUpdateFromVersion\n                ? this.versionIncrementValidator(optionsFormGroup.bundleUpdateFromVersion)\n                : null\n            ])\n          ),\n          description: new FormControl(context.deploymentPackageDescriptor.description, [Validators.required]),\n          dependentBundles: new FormControl(dependentBundles)\n        });\n\n        this.optionsForm = new FormGroup(optionsFormGroup);\n\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        assign(newDeploymentPackageDescriptor, {\n          friendlyName: context.bundleDetails.friendlyName,\n          version: context.bundleDetails.version,\n          description: context.bundleDetails.description,\n          id: context.bundleDetails.id,\n          dependentBundles: dependentBundles.map((dependentBundleDetails) => ({\n            id: dependentBundleDetails.id,\n            name: dependentBundleDetails.friendlyName,\n            version: dependentBundleDetails.version\n          }))\n        });\n\n        this.rxWizardModalComponent.api.updateContext(\n          {\n            deploymentPackageDescriptor: newDeploymentPackageDescriptor\n          },\n          false\n        );\n      });\n\n    this.optionsForm.valueChanges\n      .pipe(withLatestFrom(this.rxWizardModalComponent.context$), takeUntil(this.destroyed$))\n      .subscribe(([value, context]) => {\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        assign(newDeploymentPackageDescriptor, value);\n\n        newDeploymentPackageDescriptor.dependentBundles = value.dependentBundles.map(\n          (dependentBundleDetails: IBundleDescriptor) => ({\n            id: dependentBundleDetails.id,\n            name: dependentBundleDetails.friendlyName,\n            version: dependentBundleDetails.version\n          })\n        );\n\n        this.rxWizardModalComponent.api.updateContext({\n          deploymentPackageDescriptor: newDeploymentPackageDescriptor\n        });\n\n        if (this.optionsForm.valid) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  optionFormatter(field: IBundleDescriptor): string {\n    return `${field.friendlyName}, ${field.version}`;\n  }\n\n  private isValidateIncrementation(currentVersion, newVersion): boolean {\n    let isUpdateToVersionIncrementedCorrectly = false;\n\n    const newVersionBase = this.getBaseVersion(newVersion);\n    const currentVersionBase = this.getBaseVersion(currentVersion);\n\n    if (newVersionBase) {\n      const newVersionBaseProperties = newVersionBase.split('.');\n      const currentVersionBaseProperties = currentVersionBase.split('.');\n\n      // check if the last digit incremented correctly\n      // e.g. 1.1 > 1.2\n      //      1.1 > 1.1.1\n      //      1.1.0 > 1.1.1\n      const isTheLastDigitNotDecremented =\n        newVersionBaseProperties.length === currentVersionBaseProperties.length\n          ? +last(newVersionBaseProperties) >= +last(currentVersionBaseProperties)\n          : +last(initial(newVersionBaseProperties)) >= +last(currentVersionBaseProperties);\n\n      // create regular expression based on current version\n      // only the last and additional component can be changed\n      // e.g. 1.1.0 > 1.1.n or 1.1.n-SNAPSHOT\n      //      1.0 > 1.n or 1.n-SNAPSHOT or 1.1.n or 1.1.n-SNAPSHOT\n      const correctRegExpGroup = currentVersionBaseProperties.length === 3 ? 2 : 3;\n      const regExpSuffix = correctRegExpGroup === 2 ? '(\\\\.\\\\d+)' : '(\\\\.\\\\d+)(\\\\.\\\\d+)?';\n\n      const updateToVersionRegExp = new RegExp(\n        '^' + currentVersionBase.match(this.versionRegexp)[correctRegExpGroup] + regExpSuffix + '$'\n      );\n\n      isUpdateToVersionIncrementedCorrectly =\n        updateToVersionRegExp.test(newVersionBase) && isTheLastDigitNotDecremented;\n    }\n\n    return isUpdateToVersionIncrementedCorrectly;\n  }\n\n  // get version without the optional qualifier, e.g. 1.1.0-SNAPSHOT > 1.1.0\n  private getBaseVersion(version): string {\n    const baseVersion = version.match(this.versionRegexp);\n\n    return baseVersion ? baseVersion[1] : null;\n  }\n}\n","<h5 class=\"mt-0\">{{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.label' | translate }}</h5>\n\n<ng-container [formGroup]=\"optionsForm\">\n  <div class=\"row h-100\">\n    <div class=\"col-6\">\n      <adapt-rx-textfield\n        *ngIf=\"options?.fields.customPackageName\"\n        [label]=\"'com.bmc.arsys.rx.innovation-studio.packaging.package-name.label' | translate\"\n        class=\"d-block form-group\"\n        formControlName=\"customPackageName\"\n        name=\"customPackageName\"\n        required=\"true\"\n      ></adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        [label]=\"\n          ((isApplication$ | async)\n            ? 'com.bmc.arsys.rx.client.common.application-name.label'\n            : 'com.bmc.arsys.rx.client.common.library-name.label'\n          ) | translate\n        \"\n        formControlName=\"friendlyName\"\n        required=\"true\"\n        [readonly]=\"options?.fields.friendlyName?.disabled\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"friendlyName\"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        *ngIf=\"options?.fields?.bundleUpdateFromVersion\"\n        [disabledStyleForReadonlyState]=\"true\"\n        [label]=\"\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.update-from-version.label' | translate\n        \"\n        [pattern]=\"versionRegexp\"\n        [readonly]=\"true\"\n        class=\"d-block form-group\"\n        formControlName=\"bundleUpdateFromVersion\"\n        name=\"bundleUpdateFromVersion\"\n        [tooltip]=\"{\n          content: options?.fields.bundleUpdateFromVersion?.tooltip || bundleUpdateFromVersionTooltip,\n          iconName: 'question_circle_o',\n          placement: 'right'\n        }\"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        [label]=\"options?.fields.version?.label || 'com.bmc.arsys.rx.client.common.version.label' | translate\"\n        formControlName=\"version\"\n        required=\"true\"\n        [readonly]=\"options?.fields.version?.disabled\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"version\"\n        [pattern]=\"versionRegexp\"\n        [class.mb-0]=\"optionsForm.controls.version.errors?.invalidVersion\"\n        [tooltip]=\"\n          options?.fields.version?.hideTooltip\n            ? null\n            : {\n                content: versionTooltip,\n                iconName: 'question_circle_o',\n                placement: 'right'\n              }\n        \"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        [label]=\"'com.bmc.arsys.rx.client.common.description.label' | translate\"\n        formControlName=\"description\"\n        required=\"true\"\n        [readonly]=\"options?.fields.description?.disabled\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"description\"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        formControlName=\"id\"\n        [label]=\"\n          ((isApplication$ | async)\n            ? 'com.bmc.arsys.rx.client.common.application-id.label'\n            : 'com.bmc.arsys.rx.client.common.library-id.label'\n          ) | translate\n        \"\n        [readonly]=\"true\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"id\"\n      >\n      </adapt-rx-textfield>\n    </div>\n\n    <div class=\"col-6 d-flex flex-column h-100\" *ngIf=\"!options?.fields.dependentBundlesList?.hidden\">\n      <adapt-rx-select\n        [inline]=\"true\"\n        [multiple]=\"true\"\n        [options]=\"bundlesList$ | async\"\n        [optionFormatter]=\"optionFormatter\"\n        [selectAllButton]=\"true\"\n        [deselectAllButton]=\"true\"\n        [popupMaxHeight]=\"560\"\n        [formControl]=\"optionsForm.controls.dependentBundles\"\n        [label]=\"'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.depends-on.label' | translate\"\n        class=\"h-100\"\n      >\n      </adapt-rx-select>\n    </div>\n  </div>\n</ng-container>\n\n<ng-template #bundleUpdateFromVersionTooltip>\n  <div\n    [innerHTML]=\"\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.update-from-version.tooltip' | translate\n    \"\n  ></div>\n</ng-template>\n\n<ng-template #versionTooltip>\n  <div\n    *ngIf=\"options?.fields.version?.tooltip; else defaultVersionTooltip\"\n    [innerHTML]=\"options?.fields.version?.tooltip | translate\"\n  ></div>\n</ng-template>\n\n<ng-template #defaultVersionTooltip>\n  <div\n    [innerHTML]=\"'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.version.tooltip' | translate\"\n  ></div>\n</ng-template>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { IPlainObject } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxArrayUtilsService } from '@helix/platform/utils';\nimport { cloneDeep, filter, find, forEach, head, isUndefined, last, reduce, sortBy, transform } from 'lodash';\nimport { skip, take } from 'rxjs/operators';\n\ninterface IRecordDefinitionData {\n  disallowChangeOrder?: boolean;\n  importOrder: number;\n  name: string;\n  selected?: boolean;\n}\n\n@Component({\n  selector: 'ax-order-data-wizard-step',\n  templateUrl: 'order-data-wizard-step.component.html',\n  styleUrls: ['./order-data-wizard-step.scss']\n})\nexport class OrderDataWizardStepComponent implements OnInit {\n  @Input()\n  options: IPlainObject;\n\n  recordDefinitions: IRecordDefinitionData[] = [];\n\n  constructor(\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private rxArrayUtilsService: RxArrayUtilsService\n  ) {}\n\n  ngOnInit(): void {\n    this.rxWizardModalComponent.context$.pipe(take(1)).subscribe((context) => {\n      const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n      if (this.options?.importRecordDefinitionFromCache) {\n        newDeploymentPackageDescriptor.dataImportOptionsByRecordDefinitionName = reduce(\n          filter(context.cache.recordDefinitions, 'shouldExportData'),\n          (result, recordDefinition, recordDefinitionIndex) => {\n            this.recordDefinitions.push({\n              name: recordDefinition.name,\n              importOrder: recordDefinitionIndex\n            });\n\n            result[recordDefinition.name] = { importOrder: recordDefinitionIndex };\n\n            return result;\n          },\n          {}\n        );\n      } else {\n        let startIndex = 0;\n\n        forEach(\n          newDeploymentPackageDescriptor.dataImportOptionsByRecordDefinitionName,\n          (recordDefinition, recordDefinitionName) => {\n            const recordDefinitionDetails = find(context.cache.recordDefinitions, { name: recordDefinitionName });\n\n            this.recordDefinitions.push({\n              name: recordDefinitionName,\n              importOrder: startIndex++,\n              disallowChangeOrder: recordDefinitionDetails.disallowChangeOrder\n            });\n          }\n        );\n      }\n\n      this.rxWizardModalComponent.api.updateContext(\n        {\n          deploymentPackageDescriptor: newDeploymentPackageDescriptor\n        },\n        false\n      );\n\n      this.updateIndexes(false);\n    });\n\n    this.rxWizardModalComponent.context$.pipe(skip(1)).subscribe((context) => {\n      let startIndex = this.recordDefinitions.length;\n\n      this.recordDefinitions = sortBy(\n        transform(\n          context.deploymentPackageDescriptor.dataImportOptionsByRecordDefinitionName,\n          (result, recordDefinition, recordDefinitionName) => {\n            let importOrder;\n\n            const existing = find(this.recordDefinitions, { name: recordDefinitionName }) as IRecordDefinitionData;\n\n            const recordDefinitionDetails = find(context.cache.recordDefinitions, { name: recordDefinitionName });\n\n            if (\n              !isUndefined(recordDefinitionDetails.initialFixedOrder) &&\n              recordDefinitionDetails.initialFixedOrder === existing?.importOrder\n            ) {\n              importOrder = recordDefinitionDetails.initialFixedOrder;\n            } else if (existing) {\n              importOrder = existing.importOrder;\n            }\n\n            result.push({\n              name: recordDefinitionName,\n              importOrder: !isUndefined(importOrder) ? importOrder : startIndex++,\n              disallowChangeOrder: recordDefinitionDetails.disallowChangeOrder,\n              selected: existing?.selected\n            });\n          },\n          []\n        ),\n        'importOrder'\n      );\n    });\n  }\n\n  isMoveDownButtonDisabled(): boolean {\n    return (\n      !this.recordDefinitions.length ||\n      last(this.recordDefinitions).selected ||\n      !find(this.recordDefinitions, 'selected')\n    );\n  }\n\n  isMoveUpButtonDisabled(): boolean {\n    return (\n      !this.recordDefinitions.length ||\n      head(this.recordDefinitions).selected ||\n      !find(this.recordDefinitions, 'selected')\n    );\n  }\n\n  moveDown(): void {\n    this.recordDefinitions = this.rxArrayUtilsService.moveArrayElements<IRecordDefinitionData>(\n      this.recordDefinitions,\n      this.getSelectedIndexes(),\n      1\n    );\n\n    this.updateIndexes();\n  }\n\n  moveUp(): void {\n    this.recordDefinitions = this.rxArrayUtilsService.moveArrayElements<IRecordDefinitionData>(\n      this.recordDefinitions,\n      this.getSelectedIndexes(),\n      -1\n    );\n\n    this.updateIndexes();\n  }\n\n  trackBy(index: number, recordDefinition: IRecordDefinitionData): string {\n    return recordDefinition.name;\n  }\n\n  private getSelectedIndexes(): number[] {\n    return this.recordDefinitions.reduce((result, recordDefinition, recordDefinitionIndex) => {\n      if (recordDefinition.selected) {\n        result.push(recordDefinitionIndex);\n      }\n\n      return result;\n    }, []);\n  }\n\n  private updateIndexes(markDirty = true): void {\n    this.rxWizardModalComponent.context$.pipe(take(1)).subscribe((context) => {\n      const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n      this.recordDefinitions.forEach((recordDefinition, index) => {\n        recordDefinition.importOrder = index;\n\n        newDeploymentPackageDescriptor.dataImportOptionsByRecordDefinitionName[recordDefinition.name].importOrder =\n          index;\n      });\n\n      this.rxWizardModalComponent.api.updateContext(\n        {\n          deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n          isPackageDataModified: true\n        },\n        markDirty\n      );\n    });\n  }\n}\n","<h5 class=\"mt-0\">Data</h5>\n\n<div>Move data items up or down to set the order in which the data will be loaded onto target systems:</div>\n\n<div class=\"d-flex row\">\n  <button\n    adapt-button\n    btn-type=\"tertiary\"\n    class=\"d-icon-triangle_up_adapt\"\n    rx-id=\"move-up-button\"\n    [disabled]=\"isMoveUpButtonDisabled()\"\n    (click)=\"moveUp()\"\n  >\n    {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.order-data.move-up.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    btn-type=\"tertiary\"\n    class=\"d-icon-triangle_down_adapt\"\n    rx-id=\"move-down-button\"\n    [disabled]=\"isMoveDownButtonDisabled()\"\n    (click)=\"moveDown()\"\n  >\n    {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.order-data.move-down.label' | translate }}\n  </button>\n</div>\n\n<div class=\"d-flex flex-column border h-100 p-2 record-definitions-list\">\n  <div class=\"d-flex justify-content-center\">\n    <adapt-empty-state\n      class=\"align-self-center\"\n      type=\"objects\"\n      *ngIf=\"!recordDefinitions.length\"\n      [label]=\"'com.bmc.arsys.rx.client.empty-state.no-items-to-display.label' | translate\"\n    ></adapt-empty-state>\n  </div>\n\n  <div class=\"checkbox p-2 text-break\" *ngFor=\"let recordDefinition of recordDefinitions; trackBy: trackBy\">\n    <label>\n      <input\n        type=\"checkbox\"\n        [(ngModel)]=\"recordDefinition.selected\"\n        [disabled]=\"recordDefinition.disallowChangeOrder\"\n      />\n      <span class=\"checkbox__item\">{{ recordDefinition.name | rxDefinitionNamePipe }}</span>\n    </label>\n  </div>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\n\nimport {\n  ICommand,\n  IPlainObject,\n  RxCommandFactoryService,\n  RxServerErrorHandlerService\n} from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxUtilityModalsService } from '@helix/platform/ui-kit';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, forEach, isEmpty, last, some } from 'lodash';\nimport { BehaviorSubject, combineLatest, EMPTY, Observable, ReplaySubject } from 'rxjs';\nimport { catchError, map, switchMap, take, takeUntil, tap, withLatestFrom } from 'rxjs/operators';\nimport { IDeploymentStatus } from '../../../services/bundle-deployment/bundle-deployment.interfaces';\nimport { AxBundleDeploymentService } from '../../../services/bundle-deployment/bundle-deployment.service';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\n\n@Component({\n  selector: 'ax-package-wizard-step',\n  templateUrl: './package-wizard-step.component.html',\n  styleUrls: ['./package-wizard-step.component.scss']\n})\nexport class PackageWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  private queueCreateDeploymentPackageCommand: ICommand = this.rxCommandFactoryService.forResourceType(\n    'com.bmc.arsys.rx.application.bundledeploy.command.QueueCreateDeploymentPackageCommand'\n  );\n\n  private guid: string;\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  private operationStatusSubject = new BehaviorSubject<string>('');\n  operationStatus$ = this.operationStatusSubject.asObservable();\n  operationStatusMessage = null;\n\n  operationStatuses = {\n    pending: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.status.pending.label'\n    ),\n    failed: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.status.failed.label'\n    ),\n    succeeded: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.status.succeeded.label'\n    )\n  };\n\n  isApprovalConfigurationDataIncluded$ = this.rxWizardModalComponent.context$.pipe(\n    map((context) => !isEmpty(context.deploymentPackageDescriptor.approvalConfigurationQueryOptions))\n  );\n\n  isConfigurationDataIncluded$ = this.rxWizardModalComponent.context$.pipe(\n    map((context) => this.options.isInstallOperation || context.deploymentPackageDescriptor.isConfigurationDataIncluded)\n  );\n\n  isDataImportOptionsByRecordDefinitionNameIncluded$ = this.rxWizardModalComponent.context$.pipe(\n    map(\n      (context) =>\n        this.options.isInstallOperation ||\n        !isEmpty(context.deploymentPackageDescriptor.dataImportOptionsByRecordDefinitionName)\n    )\n  );\n\n  isDefinitionsToDeleteByTypeIncluded$ = this.rxWizardModalComponent.context$.pipe(\n    map(\n      (context) =>\n        this.options.isInstallOperation || !isEmpty(context.deploymentPackageDescriptor.definitionsToDeleteByType)\n    )\n  );\n\n  isDefinitionsToDeployByTypeIncluded$ = this.rxWizardModalComponent.context$.pipe(\n    map(\n      (context) =>\n        this.options.isInstallOperation || !isEmpty(context.deploymentPackageDescriptor.definitionsToDeployByType)\n    )\n  );\n\n  isPackageDataEmpty$ = combineLatest([\n    this.isDefinitionsToDeployByTypeIncluded$,\n    this.isDataImportOptionsByRecordDefinitionNameIncluded$,\n    this.isConfigurationDataIncluded$,\n    this.isDefinitionsToDeleteByTypeIncluded$\n  ]).pipe(map((params) => params.every((value) => !value)));\n\n  isCreatePackageButtonDisabled$ = this.rxWizardModalComponent.context$.pipe(\n    withLatestFrom(this.isPackageDataEmpty$, this.operationStatus$),\n    map(\n      ([context, isPackageDataEmpty, operationStatus]) =>\n        operationStatus === this.operationStatuses.pending || !context.isPackageDataModified || isPackageDataEmpty\n    )\n  );\n\n  isAllPackageDataIncluded$: Observable<boolean>;\n\n  constructor(\n    private httpClient: HttpClient,\n    private axBundleDeploymentService: AxBundleDeploymentService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxServerErrorHandlerService: RxServerErrorHandlerService,\n    private rxUtilityModalsService: RxUtilityModalsService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    public translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.isAllPackageDataIncluded$ = combineLatest(\n      [\n        this.isDefinitionsToDeployByTypeIncluded$,\n        this.isDataImportOptionsByRecordDefinitionNameIncluded$,\n        this.isConfigurationDataIncluded$,\n        this.isDefinitionsToDeleteByTypeIncluded$\n      ].concat(this.options?.isContentPackageOperation ? [this.isApprovalConfigurationDataIncluded$] : [])\n    ).pipe(map((params) => params.every(Boolean)));\n\n    this.rxWizardModalComponent.steps$\n      .pipe(withLatestFrom(this.rxWizardModalComponent.tabIndex$, this.operationStatus$), takeUntil(this.destroyed$))\n      .subscribe(([steps, tabIndex, operationStatus]) => {\n        if (steps[tabIndex].id === 'package' && operationStatus !== this.operationStatuses.succeeded) {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  createPackage(forceStart: boolean = false): void {\n    this.rxWizardModalComponent.context$\n      .pipe(\n        take(1),\n        tap(() => {\n          this.rxWizardModalComponent.api.updateContext({\n            isPackageDataModified: false\n          });\n\n          this.operationStatusSubject.next(this.operationStatuses.pending);\n\n          if (this.options?.isContentPackageOperation) {\n            this.rxWizardModalComponent.api.setFinishButtonLabel(\n              this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.close-and-continue-packaging.label'\n              )\n            );\n\n            this.rxWizardModalComponent.api.complete();\n          }\n        }),\n        map((context) => {\n          const parameters = {\n            bundlePackageDescriptor: cloneDeep(context.deploymentPackageDescriptor),\n            shouldForce: forceStart\n          };\n\n          forEach(\n            parameters.bundlePackageDescriptor.dataImportOptionsByRecordDefinitionName,\n            (dataImportOptionByRecordDefinitionName) => {\n              delete dataImportOptionByRecordDefinitionName.dataFilterColumnExpressionFormControlOptions;\n              delete dataImportOptionByRecordDefinitionName.dataFilterExpression;\n              delete dataImportOptionByRecordDefinitionName.defaultFilter;\n            }\n          );\n\n          return parameters;\n        }),\n        switchMap((parameters) =>\n          this.queueCreateDeploymentPackageCommand.execute(parameters, { responseType: 'text' })\n        ),\n        tap((response: string) => {\n          this.guid = last(response.split('/'));\n\n          this.rxWizardModalComponent.api.updateContext({\n            packageGuid: this.guid\n          });\n        }),\n        switchMap(() =>\n          this.axBundleDeploymentService\n            .pollDeploymentStatus(this.guid, '/api/rx/application/bundle/createpackagestatus')\n            .pipe(takeUntil(this.destroyed$))\n        ),\n        tap((deploymentStatus: IDeploymentStatus) => {\n          if (deploymentStatus.isFinished) {\n            this.operationStatusSubject.next(this.operationStatuses.succeeded);\n\n            this.rxWizardModalComponent.api.setFinishButtonLabel(\n              this.translateService.instant('com.bmc.arsys.rx.client.common.close.label')\n            );\n\n            this.rxWizardModalComponent.api.complete();\n            this.rxWizardModalComponent.api.enableNextButton();\n          } else if (deploymentStatus.errorMessage) {\n            this.operationStatusSubject.next(this.operationStatuses.failed);\n            this.operationStatusMessage = deploymentStatus.errorMessage;\n          }\n        }),\n        catchError((error) => {\n          this.operationStatusSubject.next(this.operationStatuses.failed);\n\n          this.rxWizardModalComponent.api.disableNextButton();\n          this.rxWizardModalComponent.api.renew();\n\n          const errorDetails = this.rxServerErrorHandlerService.getServerResponseErrorDetails(error.error);\n\n          if (some(errorDetails, { messageNumber: AX_BUNDLE_DETAILS.errorCodes.packageCreationAlreadyInProgress })) {\n            this.rxUtilityModalsService\n              .confirm(\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.creation-operation-in-progress.message'\n                )\n              )\n              .then((isConfirmed: boolean) => {\n                if (isConfirmed) {\n                  this.createPackage(true);\n                } else {\n                  this.rxWizardModalComponent.api.updateContext({ isPackageDataModified: true });\n                }\n              });\n          }\n\n          return EMPTY;\n        })\n      )\n      .subscribe();\n  }\n}\n","<h5 class=\"mt-0\">{{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.label' | translate }}</h5>\n\n<button\n  adapt-button\n  btn-type=\"primary\"\n  rx-id=\"create-package-button\"\n  type=\"button\"\n  (click)=\"createPackage()\"\n  [disabled]=\"isCreatePackageButtonDisabled$ | async\"\n>\n  {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.create-package.label' | translate }}\n</button>\n\n<span\n  class=\"empty-package-warning d-icon-left-exclamation_triangle\"\n  rx-id=\"empty-package-message\"\n  [hidden]=\"!(isPackageDataEmpty$ | async)\"\n>\n  {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.empty-package.message' | translate }}\n</span>\n\n<ng-container *ngIf=\"!(isPackageDataEmpty$ | async)\">\n  <h6>{{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.included.label' | translate }}:</h6>\n\n  <ul>\n    <li [hidden]=\"!(isDefinitionsToDeployByTypeIncluded$ | async)\">\n      {{\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.customized-definitions.label'\n          | translate\n      }}\n    </li>\n    <li [hidden]=\"!(isDataImportOptionsByRecordDefinitionNameIncluded$ | async)\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.data-items.label' | translate }}\n    </li>\n    <li [hidden]=\"!(isConfigurationDataIncluded$ | async)\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.configuration-data.label' | translate }}\n    </li>\n    <li [hidden]=\"!(isApprovalConfigurationDataIncluded$ | async)\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.approval-configurations.label' | translate }}\n    </li>\n    <li [hidden]=\"!(!options?.isInstallOperation && isDefinitionsToDeleteByTypeIncluded$ | async)\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.definitions-to-delete.label' | translate }}\n    </li>\n  </ul>\n</ng-container>\n\n<ng-container *ngIf=\"!(isAllPackageDataIncluded$ | async)\">\n  <h6>{{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.not-included.label' | translate }}:</h6>\n\n  <ul>\n    <li [hidden]=\"isDefinitionsToDeployByTypeIncluded$ | async\">\n      {{\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.customized-definitions.label'\n          | translate\n      }}\n    </li>\n    <li [hidden]=\"isDataImportOptionsByRecordDefinitionNameIncluded$ | async\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.data-items.label' | translate }}\n    </li>\n    <li [hidden]=\"isConfigurationDataIncluded$ | async\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.configuration-data.label' | translate }}\n    </li>\n    <li [hidden]=\"!(options?.isContentPackageOperation && !(isApprovalConfigurationDataIncluded$ | async))\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.approval-configurations.label' | translate }}\n    </li>\n    <li [hidden]=\"isDefinitionsToDeleteByTypeIncluded$ | async\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.definitions-to-delete.label' | translate }}\n    </li>\n  </ul>\n</ng-container>\n\n<div class=\"mt-4\" *ngIf=\"operationStatus$ | async as operationStatus\">\n  <div *ngIf=\"operationStatus === operationStatuses.pending\">\n    <div class=\"mb-3\">\n      {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.creating-package.message' | translate }}\n    </div>\n\n    <div class=\"progress\">\n      <div\n        class=\"progress-bar progress-bar-intermediate w-100\"\n        role=\"progressbar\"\n        aria-valuenow=\"100\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n      ></div>\n    </div>\n  </div>\n\n  <adapt-alert\n    *ngIf=\"operationStatus === operationStatuses.succeeded\"\n    [config]=\"{\n      content: translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.packaging-completed.message'\n      ),\n      dismissible: false,\n      type: 'inline',\n      variant: 'success'\n    }\"\n  ></adapt-alert>\n\n  <div *ngIf=\"operationStatus === operationStatuses.failed\">\n    <adapt-alert\n      [config]=\"{\n        content: translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.packaging-failed.message'\n        ),\n        dismissible: false,\n        type: 'inline',\n        variant: 'danger'\n      }\"\n    ></adapt-alert>\n\n    <adapt-rx-textarea\n      *ngIf=\"operationStatusMessage\"\n      label=\"{{ 'com.bmc.arsys.rx.client.common.messages.label' | translate }}\"\n      [ngModel]=\"operationStatusMessage\"\n      rx-id=\"messages-textarea\"\n      rows=\"13\"\n      [disabledStyleForReadonlyState]=\"true\"\n      [readonly]=\"true\"\n    ></adapt-rx-textarea>\n  </div>\n</div>\n","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, switchMap, take, takeUntil } from 'rxjs/operators';\nimport { chain, cloneDeep, find, map as _map, reduce } from 'lodash';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IPlainObject,\n  RxDataPageFactoryService,\n  RxDefinitionNameService,\n  RxSessionExpirationService\n} from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport {\n  ColumnSortDirection,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { ICreateContentPackageContext, IDeploymentPackageDescriptor } from '../../bundle-details/bundle-details.types';\n\n@Component({\n  selector: 'ax-select-approval-configurations-wizard-step',\n  templateUrl: 'select-approval-configurations-wizard-step.component.html',\n  styleUrls: ['./select-approval-configurations-wizard-step.component.scss']\n})\nexport class SelectApprovalConfigurationsWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  context: ICreateContentPackageContext;\n\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  recordGrid: RecordGridComponent;\n\n  recordGridConfig$: Observable<IRecordGridConfig>;\n  selectedDefinitionCount: number;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private rxDataPageService: RxDataPageFactoryService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private translateService: TranslateService,\n    private rxWizardModalComponent: RxWizardModalComponent\n  ) {}\n\n  ngOnInit(): void {\n    const columns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.record-definition.label'\n        ),\n        fieldId: 'recordDefinitionName',\n        sortable: { direction: ColumnSortDirection.Asc, priority: 0 }\n      },\n      {\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-approval-configurations.flow-group.label'\n        ),\n        fieldId: 'flowGroupName',\n        sortable: { direction: ColumnSortDirection.Asc, priority: 1 }\n      }\n    ];\n\n    const recordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: 'recordDefinitionName',\n          resourceType: RX_RECORD_DEFINITION.dataTypes.character.resourceType\n        },\n        {\n          id: 'flowGroupName',\n          resourceType: RX_RECORD_DEFINITION.dataTypes.character.resourceType\n        }\n      ]\n    };\n\n    this.recordGridConfig$ = of({\n      columns,\n      enableColumnSelection: false,\n      enableRowSelection: this.options.gridConfig?.enableRowSelection,\n      recordIdField: 'definitionNameWithFlowGroup',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      expandGroups: true,\n      getRecordDefinition: () => of(recordDefinition),\n      getData: () => {\n        this.rxWizardModalComponent.api.disableNextButton();\n\n        return this.rxSessionExpirationService.keepSessionAlive().pipe(\n          switchMap(() =>\n            this.rxDataPageService\n              .withType('com.bmc.arsys.rx.approval.application.datapage.ApprovalConfigurationsDataPageQuery')\n              .get({\n                params: {\n                  startIndex: -1,\n                  pageSize: 0,\n                  bundleId: this.context.deploymentPackageDescriptor.id\n                }\n              })\n              .pipe(\n                map((response) => {\n                  this.selectedDefinitionCount = 0;\n\n                  const data = reduce(\n                    response.data[0],\n                    (result, flowGroupNames, recordDefinitionName) => {\n                      const bundleFriendlyName =\n                        this.context.bundleFriendlyNamesById[\n                          this.rxDefinitionNameService.getBundleId(recordDefinitionName)\n                        ];\n\n                      const recordDefinitionDisplayName =\n                        this.rxDefinitionNameService.getDisplayName(recordDefinitionName);\n\n                      let dataItem = find(result, { groupValue: bundleFriendlyName });\n\n                      if (dataItem) {\n                        flowGroupNames.forEach((flowGroupName) => {\n                          dataItem.items.push({\n                            definitionName: recordDefinitionName,\n                            bundleName: bundleFriendlyName,\n                            recordDefinitionName: recordDefinitionDisplayName,\n                            flowGroupName,\n                            definitionNameWithFlowGroup: `${flowGroupName}:${recordDefinitionName}`\n                          });\n                        });\n                      } else {\n                        dataItem = {\n                          groupValue: bundleFriendlyName,\n                          groupField: 'bundleName',\n                          items: flowGroupNames.map((flowGroupName) => ({\n                            definitionName: recordDefinitionName,\n                            bundleName: bundleFriendlyName,\n                            recordDefinitionName: recordDefinitionDisplayName,\n                            flowGroupName,\n                            definitionNameWithFlowGroup: `${flowGroupName}:${recordDefinitionName}`\n                          }))\n                        };\n\n                        result.push(dataItem);\n                      }\n\n                      return result;\n                    },\n                    []\n                  );\n\n                  return {\n                    data,\n                    totalSize: data.length\n                  };\n                })\n              )\n          )\n        );\n      }\n    });\n\n    combineLatest([this.recordGrid.rowSelectionChanged, this.rxWizardModalComponent.context$.pipe(take(1))])\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe(([selectedRows, context]) => {\n        this.selectedDefinitionCount = selectedRows.length;\n\n        const newDeploymentPackageDescriptor: IDeploymentPackageDescriptor = cloneDeep(\n          context.deploymentPackageDescriptor\n        );\n\n        newDeploymentPackageDescriptor.approvalConfigurationQueryOptions = chain(selectedRows)\n          .groupBy('definitionName')\n          .map((config, definitionName) => ({\n            recordDefinitionName: definitionName,\n            flowGroups: _map(config, 'flowGroupName')\n          }))\n          .value();\n\n        this.rxWizardModalComponent.api.updateContext(\n          {\n            deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n            isPackageDataModified: true\n          },\n          this.selectedDefinitionCount > 0\n        );\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  onDataLoaded(): void {\n    this.rxWizardModalComponent.api.enableNextButton();\n  }\n}\n","<div class=\"d-flex justify-content-between\">\n  <h5 class=\"mt-0\">\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-approval-configurations.approval-configurations.label'\n        | translate\n    }}\n  </h5>\n  <div>\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-approval-configurations.approval-configurations-count.label'\n        | translate: { count: selectedDefinitionCount }\n    }}\n  </div>\n</div>\n\n<div class=\"mb-3\">\n  {{\n    'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-approval-configurations.selected-approval-configurations.label'\n      | translate\n  }}\n</div>\n\n<rx-record-grid [config]=\"recordGridConfig$\" (dataLoaded)=\"onDataLoaded()\"></rx-record-grid>\n","import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordDefinitionDataPageService } from '@helix/platform/record/api';\nimport {\n  IPlainObject,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxDataPageFactoryService,\n  RxDefinitionNameService,\n  RxSessionExpirationService\n} from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxStringService } from '@helix/platform/utils';\nimport {\n  ColumnSortDirection,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, find, reduce, startsWith } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, switchMap, take, takeUntil } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\n\n@Component({\n  selector: 'ax-select-bundle-content-definitions-wizard-step',\n  templateUrl: './select-bundle-content-definitions-wizard-step.component.html',\n  styleUrls: ['./select-bundle-content-definitions-wizard-step.component.scss']\n})\nexport class SelectBundleContentDefinitionsWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  private recordGrid: RecordGridComponent;\n\n  @ViewChild('displayTypeWithCellTemplate', { static: true })\n  private displayTypeWithCellTemplate: TemplateRef<any>;\n\n  selectedDefinitionCount: number;\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private currentBundleId: string;\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxDataPageService: RxDataPageFactoryService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxRecordDefinitionDataPageService: RxRecordDefinitionDataPageService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private rxStringService: RxStringService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.currentBundleId = this.rxBundleCacheService.bundleId;\n\n    this.rxWizardModalComponent.api.updateContext(\n      {\n        cache: {}\n      },\n      false\n    );\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.item-type.label'),\n        fieldId: 'displayType',\n        filterable: false,\n        sortable: {\n          direction: ColumnSortDirection.Asc,\n          priority: 0\n        }\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'displayName',\n        searchable: false,\n        filterable: false,\n        visible: false\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'definitionTypeWithName',\n        cellTemplate: this.displayTypeWithCellTemplate\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.bundle-name.label'),\n        fieldId: 'bundleName',\n        visible: false,\n        filterable: false,\n        sortable: {\n          direction: ColumnSortDirection.Asc,\n          priority: 1\n        }\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      {\n        ...AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n        sortable: {\n          direction: ColumnSortDirection.Asc,\n          priority: 2\n        }\n      }\n    ].map((column) => ({ ...column, title: this.translateService.instant(column.title) }));\n\n    const recordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: 'displayType',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'displayName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'definitionTypeWithName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'bundleName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n        }\n      ]\n    };\n\n    const defaultParams = {\n      propertySelection: ['name', 'lastUpdateTime', 'lastChangedBy']\n    };\n\n    const recordDefinitionsParams = { propertySelection: [...defaultParams.propertySelection, 'shouldExportData'] };\n\n    const viewDefinitionsParams = {\n      excludeExtensionViews: false,\n      propertySelection: [...defaultParams.propertySelection]\n    };\n\n    const bundleContentRecordDefinitionParams = {\n      requireDependent: true,\n      recursive: true,\n      propertySelection: [...defaultParams.propertySelection, 'internal', 'type']\n    };\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      enableColumnSelection: false,\n      enableFiltering: true,\n      enableRowSelection: this.options.gridConfig?.enableRowSelection || null,\n      recordIdField: 'definitionTypeWithName',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      expandGroups: true,\n      getRecordDefinition: () => of(recordDefinition),\n      getData: (queryParams) => {\n        this.rxWizardModalComponent.api.disableNextButton();\n\n        return this.rxSessionExpirationService.keepSessionAlive().pipe(\n          switchMap(() =>\n            combineLatest([\n              this.rxWizardModalComponent.context$.pipe(take(1)),\n              this.rxDataPageService\n                .withType(\n                  'com.bmc.arsys.rx.application.bundle.datapage.BundleContentAssociationDefinitionDataPageQuery'\n                )\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentDocumentDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentEventDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType(\n                  'com.bmc.arsys.rx.application.bundle.datapage.BundleContentEventStatisticsDefinitionDataPageQuery'\n                )\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentNamedListDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentProcessDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentRecordDefinitionDataPageQuery')\n                .get({\n                  params: recordDefinitionsParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentRuleDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentViewDefinitionDataPageQuery')\n                .get({\n                  params: viewDefinitionsParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentWebApiDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxRecordDefinitionDataPageService.get({ params: bundleContentRecordDefinitionParams }),\n              this.rxDataPageService\n                .withType(\n                  'com.bmc.arsys.rx.application.bundle.datapage.BundleContentRecordInstanceProviderDataPageQuery'\n                )\n                .get({\n                  params: defaultParams\n                })\n            ]).pipe(\n              map(\n                ([\n                  context,\n                  associationDefinitions,\n                  documentDefinitions,\n                  eventDefinitions,\n                  eventStatisticsDefinitions,\n                  namedListDefinitions,\n                  processDefinitions,\n                  recordDefinitions,\n                  ruleDefinitions,\n                  viewDefinitions,\n                  webApiDefinitions,\n                  dependentBundleRecordDefinitions,\n                  recordInstances\n                ]) => {\n                  const platformBundleIdPrefix = 'com.bmc.arsys';\n\n                  const cacheRecordInstanceDefinitions = recordInstances.data.reduce(\n                    (result, recordInstance, index) => {\n                      recordInstance.selected = true;\n                      recordInstance.initialFixedOrder = index;\n\n                      if (\n                        !recordInstance.internal &&\n                        !(\n                          startsWith(recordInstance.name, platformBundleIdPrefix) &&\n                          !startsWith(this.currentBundleId, platformBundleIdPrefix)\n                        )\n                      ) {\n                        recordInstance.defaultFilter = recordInstance.dataFilter;\n                        recordInstance.dataFilter = null;\n                        recordInstance.duplicateDataActionType = this.options.gridConfig.defaultDuplicateDataActionType;\n                        recordInstance.ignoreRuleExecution = false;\n\n                        recordInstance.bundleName =\n                          context.bundleFriendlyNamesById[\n                            this.rxDefinitionNameService.getBundleId(recordInstance.name)\n                          ];\n\n                        result.push(recordInstance);\n                      }\n\n                      return result;\n                    },\n                    []\n                  );\n\n                  const cacheDependentBundleRecordDefinitions = dependentBundleRecordDefinitions.data\n                    .filter((instance) => {\n                      return !find(cacheRecordInstanceDefinitions, { name: instance.name });\n                    })\n                    .reduce((result, instance) => {\n                      if (\n                        !instance.internal &&\n                        !(\n                          startsWith(instance.name, platformBundleIdPrefix) &&\n                          !startsWith(this.currentBundleId, platformBundleIdPrefix)\n                        )\n                      ) {\n                        instance.defaultFilter = instance.dataFilter;\n                        instance.dataFilter = null;\n                        instance.duplicateDataActionType = this.options.gridConfig.defaultDuplicateDataActionType;\n                        instance.ignoreRuleExecution = false;\n\n                        instance.bundleName =\n                          context.bundleFriendlyNamesById[this.rxDefinitionNameService.getBundleId(instance.name)];\n\n                        result.push(instance);\n                      }\n\n                      return result;\n                    }, []);\n\n                  const cacheRecordDefinitions = [\n                    ...cacheRecordInstanceDefinitions,\n                    ...cacheDependentBundleRecordDefinitions\n                  ];\n\n                  this.rxWizardModalComponent.api.updateContext(\n                    {\n                      cache: {\n                        recordDefinitions: cloneDeep(cacheRecordDefinitions)\n                      }\n                    },\n                    false\n                  );\n\n                  this.selectedDefinitionCount = 0;\n\n                  const definitions = reduce(\n                    {\n                      association: associationDefinitions,\n                      document: documentDefinitions,\n                      event: eventDefinitions,\n                      eventStatistics: eventStatisticsDefinitions,\n                      namedList: namedListDefinitions,\n                      process: processDefinitions,\n                      record: recordDefinitions,\n                      rule: ruleDefinitions,\n                      view: viewDefinitions,\n                      webApi: webApiDefinitions\n                    },\n                    (allDefinitions, dataPage, definitionType) => {\n                      const displayType = this.rxStringService.prettify(definitionType);\n\n                      const definitionsByBundleName = dataPage.data.reduce((result, definition) => {\n                        if (\n                          definition.customizationPerspective !==\n                          RX_OVERLAY.operationTypes.notCustomizedInThisOverlayGroup\n                        ) {\n                          definition.type = definitionType;\n                          definition.displayType = displayType;\n                          definition.displayName = this.rxDefinitionNameService.getDisplayName(definition.name);\n                          definition.definitionTypeWithName = `${definitionType}:${definition.name}`;\n                          definition.bundleId = this.rxDefinitionNameService.getBundleId(definition.name);\n                          definition.bundleFriendlyName = context.bundleFriendlyNamesById[definition.bundleId];\n                          definition.bundleIdWithDefinitionType = `${definition.bundleId}:${definitionType}`;\n\n                          let bundleGroup = find(result, { groupValue: definition.bundleIdWithDefinitionType });\n\n                          if (bundleGroup) {\n                            bundleGroup.items.push(definition);\n                          } else {\n                            bundleGroup = {\n                              groupTitle: definition.bundleFriendlyName,\n                              groupValue: definition.bundleIdWithDefinitionType,\n                              groupField: 'bundleName',\n                              items: [definition]\n                            };\n\n                            result.push(bundleGroup);\n                          }\n                        }\n\n                        return result;\n                      }, []);\n\n                      return allDefinitions.concat(\n                        definitionsByBundleName.length\n                          ? [\n                              {\n                                groupValue: displayType,\n                                groupField: 'displayType',\n                                items: definitionsByBundleName\n                              }\n                            ]\n                          : []\n                      );\n                    },\n                    []\n                  );\n\n                  return {\n                    data: definitions,\n                    totalSize: definitions.length\n                  };\n                }\n              )\n            )\n          )\n        );\n      }\n    });\n\n    combineLatest([this.recordGrid.rowSelectionChanged, this.rxWizardModalComponent.context$.pipe(take(1))])\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe(([selectedRows, context]) => {\n        this.selectedDefinitionCount = selectedRows.length;\n\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        newDeploymentPackageDescriptor.definitionsToDeployByType = selectedRows.reduce(\n          (definitionsToDeployByType, row) => {\n            const definitionType = AX_BUNDLE_DETAILS.definitionTypes[row.type];\n\n            definitionsToDeployByType[definitionType] = definitionsToDeployByType[definitionType] ?? [];\n\n            definitionsToDeployByType[definitionType].push(row.name);\n\n            return definitionsToDeployByType;\n          },\n          {}\n        );\n\n        this.rxWizardModalComponent.api.updateContext(\n          {\n            deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n            isPackageDataModified: true\n          },\n          this.selectedDefinitionCount > 0\n        );\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  onDataLoaded(): void {\n    this.rxWizardModalComponent.api.enableNextButton();\n  }\n}\n","<div class=\"d-flex justify-content-between\">\n  <h5 class=\"mt-0\">\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.customized-definitions.label'\n        | translate\n    }}\n  </h5>\n  <div>\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.definitions-count.label'\n        | translate\n          : {\n              count: selectedDefinitionCount,\n              packageType: this.options.displayName.toLowerCase()\n            }\n    }}\n  </div>\n</div>\n\n<div class=\"mb-3\">\n  {{\n    'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-bundle-content-definitions.select-customized-definitions-to-include-in-the-package-content-package.label'\n      | translate\n  }}\n</div>\n\n<rx-record-grid [config]=\"recordGridConfig$\" (dataLoaded)=\"onDataLoaded()\"></rx-record-grid>\n\n<ng-template #displayTypeWithCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '@helix/platform/shared/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DefinitionHistoryDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.definitionhistory.datapage.DefinitionHistoryDataPageQuery');\n  }\n}\n","import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IPlainObject, RxDefinitionNameService, RxSessionExpirationService } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxStringService } from '@helix/platform/utils';\nimport {\n  ColumnSortDirection,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, reduce } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, switchMap, take, takeUntil } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\nimport { DefinitionHistoryDataPageService } from './definition-history-data-page.service';\n\n@Component({\n  selector: 'ax-select-definitions-to-delete-wizard-step',\n  templateUrl: 'select-definitions-to-delete-wizard-step.components.html',\n  styleUrls: ['./select-definitions-to-delete-wizard-step.component.scss']\n})\nexport class SelectDefinitionsToDeleteWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild('recordNameCellTemplate', { static: true })\n  private recordNameCellTemplate: TemplateRef<any>;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  private recordGrid: RecordGridComponent;\n\n  selectedDefinitionCount = 0;\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private definitionHistoryDataPageService: DefinitionHistoryDataPageService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private rxStringService: RxStringService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.item-type.label'),\n        fieldId: 'displayType',\n        sortable: {\n          priority: 0,\n          direction: ColumnSortDirection.Asc\n        },\n        filterable: false\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'objectName',\n        wrapText: true,\n        cellTemplate: this.recordNameCellTemplate\n      },\n      {\n        fieldId: 'createdBy',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.deleted-by.label'\n        )\n      },\n      {\n        fieldId: 'createDate',\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.deleted-date.label'\n        ),\n        sortable: {\n          priority: 2,\n          direction: ColumnSortDirection.Asc\n        }\n      },\n      {\n        fieldId: 'bundleName',\n        title: this.translateService.instant('com.bmc.arsys.rx.client.bundle-name.label'),\n        sortable: {\n          priority: 1,\n          direction: ColumnSortDirection.Asc\n        },\n        filterable: false,\n        visible: false\n      }\n    ].map((column) => ({ ...column, title: this.translateService.instant(column.title) }));\n\n    const recordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: 'objectName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'createdBy',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'createDate',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n        },\n        {\n          id: 'displayType',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'bundleName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n\n    combineLatest([this.recordGrid.rowSelectionChanged, this.rxWizardModalComponent.context$.pipe(take(1))])\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe(([selectedRows, context]) => {\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        this.selectedDefinitionCount = selectedRows.length;\n\n        newDeploymentPackageDescriptor.definitionsToDeleteByType = selectedRows.reduce(\n          (definitionsToDeleteByType, row) => {\n            const definitionType = AX_BUNDLE_DETAILS.definitionTypes[row.type];\n\n            definitionsToDeleteByType[definitionType] = definitionsToDeleteByType[definitionType] ?? [];\n\n            definitionsToDeleteByType[definitionType].push(row.objectName);\n\n            return definitionsToDeleteByType;\n          },\n          {}\n        );\n\n        this.rxWizardModalComponent.api.updateContext(\n          {\n            deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n            isPackageDataModified: true\n          },\n          this.selectedDefinitionCount > 0\n        );\n      });\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      enableColumnSelection: false,\n      enableFiltering: true,\n      enableRowSelection: RowSelectionMode.Multiple,\n      recordIdField: 'definitionTypeWithName',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      expandGroups: true,\n      getRecordDefinition: () => of(recordDefinition),\n      getData: (queryParams) => {\n        this.rxWizardModalComponent.api.disableNextButton();\n\n        return this.rxSessionExpirationService.keepSessionAlive().pipe(\n          switchMap(() => {\n            const defaultParams: IPlainObject = {\n              operationType: 'DELETE'\n            };\n\n            if (this.options?.isContentPackageOperation) {\n              defaultParams.requireDependent = true;\n              defaultParams.recursive = true;\n              defaultParams.requireLatestVersion = true;\n            }\n\n            return combineLatest([\n              this.definitionHistoryDataPageService.get({ params: { objectType: 'ASSOCIATION', ...defaultParams } }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'DOCUMENT_DEFINITION', ...defaultParams }\n              }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'EVENT_DEFINITION', ...defaultParams }\n              }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'EVENT_STATISTICS_DEFINITION', ...defaultParams }\n              }),\n              this.definitionHistoryDataPageService.get({ params: { objectType: 'NAMED_LIST', ...defaultParams } }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'PROCESS_DEFINITION', ...defaultParams }\n              }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'RECORD_DEFINITION', ...defaultParams }\n              }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'RULE_DEFINITION', ...defaultParams }\n              }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'VIEW_DEFINITION', ...defaultParams }\n              }),\n              this.definitionHistoryDataPageService.get({\n                params: { objectType: 'WEBAPI_DEFINITION', ...defaultParams }\n              })\n            ]).pipe(\n              map(\n                ([\n                  associationDefinitions,\n                  documentDefinitions,\n                  eventDefinitions,\n                  eventStatisticsDefinitions,\n                  namedListDefinitions,\n                  processDefinitions,\n                  recordDefinitions,\n                  ruleDefinitions,\n                  viewDefinitions,\n                  webApiDefinitions\n                ]) => {\n                  const definitions = reduce(\n                    {\n                      association: associationDefinitions,\n                      document: documentDefinitions,\n                      event: eventDefinitions,\n                      eventStatistic: eventStatisticsDefinitions,\n                      namedList: namedListDefinitions,\n                      process: processDefinitions,\n                      record: recordDefinitions,\n                      rule: ruleDefinitions,\n                      view: viewDefinitions,\n                      webApi: webApiDefinitions\n                    },\n                    (allDefinitions, dataPage, definitionType) => {\n                      const definitionsByType = dataPage.data;\n\n                      const displayType = this.rxStringService.prettify(definitionType);\n\n                      definitionsByType.forEach((definition) => {\n                        definition.type = definitionType;\n                        definition.displayType = displayType;\n                        definition.displayName = this.rxDefinitionNameService.getDisplayName(definition.objectName);\n                        definition.definitionTypeWithName = `${definitionType}:${definition.objectName}`;\n                      });\n\n                      return allDefinitions.concat(\n                        definitionsByType.length\n                          ? [\n                              {\n                                groupValue: displayType,\n                                groupField: 'type',\n                                items: definitionsByType\n                              }\n                            ]\n                          : []\n                      );\n                    },\n                    []\n                  );\n\n                  return {\n                    data: definitions,\n                    totalSize: definitions.length\n                  };\n                }\n              )\n            );\n          })\n        );\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  onDataLoaded(): void {\n    this.rxWizardModalComponent.api.enableNextButton();\n  }\n}\n","<div class=\"d-flex justify-content-between\">\n  <h5 class=\"mt-0\">\n    {{'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.deleted-definitions.label' |\n    translate}}\n\n    <adapt-icon\n      name=\"question_circle_o\"\n      class=\"ml-2\"\n      placement=\"bottom\"\n      maxWidth=\"400\"\n      [adaptPopover]=\"'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.tooltip' | translate\"\n    ></adapt-icon>\n  </h5>\n  <div>\n    {{'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.deleted-definitions-count.label'\n    | translate : { count: selectedDefinitionCount } }}\n  </div>\n</div>\n\n<div class=\"mb-3\">\n  {{'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.selected-deleted-definitions.label'\n  | translate}}\n</div>\n\n<rx-record-grid [config]=\"recordGridConfig$\" (dataLoaded)=\"onDataLoaded()\"></rx-record-grid>\n\n<ng-template #recordNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n","import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { RxAssociationDefinitionDataPageService } from '@helix/platform/association/api';\nimport { RxDocumentDefinitionDataPageService } from '@helix/platform/document/api';\nimport { RxeventStatisticsDefinitionDataPageService } from '@helix/platform/event-statistics/api';\nimport { RxEventDefinitionDataPageService } from '@helix/platform/event/api';\nimport { RxNamedListDefinitionDataPageService } from '@helix/platform/named-list/api';\nimport { RxProcessDefinitionDataPageService } from '@helix/platform/process/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordDefinitionDataPageService } from '@helix/platform/record/api';\nimport { RxRuleDefinitionDataPageService } from '@helix/platform/rule/api';\nimport {\n  IPlainObject,\n  RX_OVERLAY,\n  RxDefinitionNameService,\n  RxSessionExpirationService\n} from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxStringService } from '@helix/platform/utils';\nimport { RxViewDefinitionDataPageService } from '@helix/platform/view/api';\nimport {\n  ColumnSortDirection,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { RxWebApiDefinitionDataPageService } from '@helix/platform/web-api/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, reduce, reject } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, switchMap, take, takeUntil } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\n\n@Component({\n  selector: 'ax-select-definitions-wizard-step',\n  templateUrl: './select-definitions-wizard-step.component.html',\n  styleUrls: ['./select-definitions-wizard-step.component.scss']\n})\nexport class SelectDefinitionsWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  private recordGrid: RecordGridComponent;\n\n  selectedDefinitionCount = 0;\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private rxAssociationDefinitionDataPageService: RxAssociationDefinitionDataPageService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxDocumentDefinitionDataPageService: RxDocumentDefinitionDataPageService,\n    private rxEventDefinitionDataPageService: RxEventDefinitionDataPageService,\n    private rxEventStatisticsDefinitionDataPageService: RxeventStatisticsDefinitionDataPageService,\n    private rxNamedListDefinitionDataPageService: RxNamedListDefinitionDataPageService,\n    private rxProcessDefinitionDataPageService: RxProcessDefinitionDataPageService,\n    private rxRecordDefinitionDataPageService: RxRecordDefinitionDataPageService,\n    private rxRuleDefinitionDataPageService: RxRuleDefinitionDataPageService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private rxStringService: RxStringService,\n    private rxViewDefinitionDataPageService: RxViewDefinitionDataPageService,\n    private rxWebApiDefinitionDataPageService: RxWebApiDefinitionDataPageService,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.rxWizardModalComponent.api.updateContext(\n      {\n        cache: {}\n      },\n      false\n    );\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.item-type.label'),\n        fieldId: 'displayType',\n        sortable: { direction: ColumnSortDirection.Desc, priority: 0 }\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'displayName'\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      {\n        sortable: { direction: ColumnSortDirection.Desc, priority: 1 },\n        ...AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ].map((column) => ({ ...column, title: this.translateService.instant(column.title) }));\n\n    const recordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: 'displayType',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'displayName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n\n    const defaultParams = {\n      propertySelection: ['name', 'lastUpdateTime', 'lastChangedBy', 'customizationPerspective']\n    };\n\n    const recordDefinitionsParams = {\n      propertySelection: [...defaultParams.propertySelection, 'shouldExportData', 'type']\n    };\n\n    const viewDefinitionsParams = {\n      excludeExtensionViews: false,\n      propertySelection: [...defaultParams.propertySelection]\n    };\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      enableColumnSelection: false,\n      enableRowSelection: this.options.gridConfig?.enableRowSelection || null,\n      recordIdField: 'definitionTypeWithName',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      expandGroups: true,\n      getRecordDefinition: () => of(recordDefinition),\n      getData: (queryParams) => {\n        this.rxWizardModalComponent.api.disableNextButton();\n\n        return this.rxSessionExpirationService.keepSessionAlive().pipe(\n          switchMap(() =>\n            combineLatest([\n              this.rxRecordDefinitionDataPageService.get({ params: recordDefinitionsParams }),\n              this.rxAssociationDefinitionDataPageService.get({ params: defaultParams }),\n              this.rxDocumentDefinitionDataPageService.get({ params: defaultParams }),\n              this.rxEventDefinitionDataPageService.get({ params: defaultParams }),\n              this.rxEventStatisticsDefinitionDataPageService.get({ params: defaultParams }),\n              this.rxNamedListDefinitionDataPageService.get({ params: defaultParams }),\n              this.rxProcessDefinitionDataPageService.get({ params: defaultParams }),\n              this.rxRuleDefinitionDataPageService.get({ params: defaultParams }),\n              this.rxViewDefinitionDataPageService.get({ params: viewDefinitionsParams }),\n              this.rxWebApiDefinitionDataPageService.get({ params: viewDefinitionsParams })\n            ]).pipe(\n              map(\n                ([\n                  recordDefinitions,\n                  associationDefinitions,\n                  documentDefinitions,\n                  eventDefinitions,\n                  eventStatisticsDefinitions,\n                  namedListDefinitions,\n                  processDefinitions,\n                  ruleDefinitions,\n                  viewDefinitions,\n                  webApiDefinitions\n                ]) => {\n                  this.rxWizardModalComponent.api.updateContext(\n                    {\n                      cache: {\n                        recordDefinitions: cloneDeep(recordDefinitions.data)\n                      }\n                    },\n                    false\n                  );\n\n                  this.selectedDefinitionCount = 0;\n\n                  const definitions = reduce(\n                    {\n                      association: associationDefinitions,\n                      document: documentDefinitions,\n                      event: eventDefinitions,\n                      eventStatistic: eventStatisticsDefinitions,\n                      namedList: namedListDefinitions,\n                      process: processDefinitions,\n                      record: recordDefinitions,\n                      rule: ruleDefinitions,\n                      view: viewDefinitions,\n                      webApi: webApiDefinitions\n                    },\n                    (allDefinitions, dataPage, definitionType) => {\n                      const definitionsByType = reject(\n                        dataPage.data,\n                        (definition) =>\n                          definition.customizationPerspective ===\n                          RX_OVERLAY.operationTypes.notCustomizedInThisOverlayGroup\n                      );\n\n                      const displayType = this.rxStringService.prettify(definitionType);\n\n                      definitionsByType.forEach((definition) => {\n                        definition.type = definitionType;\n                        definition.displayType = displayType;\n                        definition.displayName = this.rxDefinitionNameService.getDisplayName(definition.name);\n                        definition.definitionTypeWithName = `${definitionType}:${definition.name}`;\n                      });\n\n                      if (!this.options.gridConfig?.enableRowSelection) {\n                        this.selectedDefinitionCount += definitionsByType.length;\n                      }\n\n                      return allDefinitions.concat(\n                        definitionsByType?.length\n                          ? [\n                              {\n                                groupValue: displayType,\n                                groupField: 'displayType',\n                                items: definitionsByType\n                              }\n                            ]\n                          : []\n                      );\n                    },\n                    []\n                  );\n\n                  return {\n                    data: definitions,\n                    totalSize: definitions.length\n                  };\n                }\n              )\n            )\n          )\n        );\n      }\n    });\n\n    if (this.options.gridConfig?.enableRowSelection) {\n      combineLatest([this.recordGrid.rowSelectionChanged, this.rxWizardModalComponent.context$.pipe(take(1))])\n        .pipe(takeUntil(this.destroyed$))\n        .subscribe(([selectedRows, context]) => {\n          this.selectedDefinitionCount = selectedRows.length;\n\n          const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n          newDeploymentPackageDescriptor.definitionsToDeployByType = selectedRows.reduce(\n            (definitionsToDeployByType, row) => {\n              const definitionType = AX_BUNDLE_DETAILS.definitionTypes[row.type];\n\n              definitionsToDeployByType[definitionType] = definitionsToDeployByType[definitionType] ?? [];\n\n              definitionsToDeployByType[definitionType].push(row.name);\n\n              return definitionsToDeployByType;\n            },\n            {}\n          );\n\n          this.rxWizardModalComponent.api.updateContext(\n            {\n              deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n              isPackageDataModified: true\n            },\n            this.selectedDefinitionCount > 0\n          );\n        });\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  onDataLoaded(): void {\n    this.rxWizardModalComponent.api.enableNextButton();\n  }\n}\n","<div class=\"d-flex justify-content-between\">\n  <h5 class=\"mt-0\">\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.customized-definitions.label'\n        | translate\n    }}\n  </h5>\n  <div>\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.definitions-count.label'\n        | translate\n          : {\n              count: selectedDefinitionCount,\n              packageType: this.options.displayName.toLowerCase()\n            }\n    }}\n  </div>\n</div>\n\n<div class=\"mb-3\">\n  {{\n    'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.definitions-included-in-the-package.label'\n      | translate\n  }}\n</div>\n\n<rx-record-grid [config]=\"recordGridConfig$\" (dataLoaded)=\"onDataLoaded()\"></rx-record-grid>\n","import { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\n\nexport const AX_BUNDLE_PACKAGING = {\n  packageRegistry: {\n    recordDefinitionName: 'BundleDeploy:PackageRegistry',\n    fieldIds: {\n      deployError: 3292,\n      type: 3303,\n      bundlePackageDescriptor: 3311,\n      name: 3276,\n      packageDeployStatus: RX_RECORD_DEFINITION.coreFieldIds.status\n    }\n  },\n\n  packageTypes: {\n    content: 3\n  }\n};\n","export const AX_CONTENT_PACKAGE_IMPORT_LOGS = {\n  messageTypes: {\n    all: 'ALL'\n  },\n\n  importStatuses: {\n    IMPORT_DEFINITIONS_SUCCESS: 'success',\n    IMPORT_DEFINITIONS_WARNING: 'warning',\n    IMPORT_DEFINITIONS_ERROR: 'error',\n    IMPORT_DEFINITIONS_UNCHANGED: 'unchanged'\n  },\n\n  definitionTypeMap: {\n    DOCUMENT_DEFINITION: 'Document',\n    EVENT_DEFINITION: 'Event',\n    EVENT_STATISTICS_DEFINITION: 'Event Statistic',\n    NAMED_LIST: 'Names List',\n    PROCESS_DEFINITION: 'Process',\n    RECORD_DEFINITION: 'Record',\n    RULE_DEFINITION: 'Rule',\n    VIEW_DEFINITION: 'View',\n    WEBAPI_DEFINITION: 'Web API'\n  }\n};\n","import { DatePipe } from '@angular/common';\nimport { Component, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ActiveModalRef, BusyConfig, LoaderType } from '@bmc-ux/adapt-angular';\nimport { ColumnConfig, RowData } from '@bmc-ux/adapt-table';\nimport {\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceDataPageService,\n  RxRecordInstanceService\n} from '@helix/platform/record/api';\nimport {\n  IDataPageResult,\n  RxBundleCacheService,\n  RxDefinitionNameService,\n  RxGlobalCacheService\n} from '@helix/platform/shared/api';\nimport { RxModalClass, RxModalService } from '@helix/platform/ui-kit';\nimport { RxJsonParserService, RxStringService } from '@helix/platform/utils';\nimport { IRecordGridConfig } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { find, first, startsWith, values } from 'lodash';\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\nimport { map, take, takeUntil } from 'rxjs/operators';\nimport { AxBundleDeploymentService } from '../../services/bundle-deployment';\nimport { AX_BUNDLE_PACKAGING } from '../../services/bundle-deployment/bundle-packaging.constant';\nimport { AX_CONTENT_PACKAGE_IMPORT_LOGS } from './content-package-import-logs.constant';\nimport {\n  IBundleDeployPackageData,\n  IBundleDeployPackageDescriptor,\n  IBundleDeployPackageRegistryEntry\n} from './content-package-import-logs.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\n\n@Component({\n  selector: 'ax-content-package-import-logs',\n  templateUrl: './content-package-import-logs.component.html',\n  styleUrls: ['content-package-import-logs.component.scss']\n})\nexport class ContentPackageImportLogsComponent extends RxModalClass implements OnInit, OnDestroy {\n  busySubscription: Subscription;\n\n  busyConfig: BusyConfig = {\n    busy: null,\n    sticky: true,\n    message: this.translateService.instant('com.bmc.arsys.rx.client.loading-data.label'),\n    loaderType: LoaderType.LINE\n  };\n\n  private viewTypes = [true, false];\n  private messageTypes = [true, false, false, false];\n\n  packageCreationDateControl: FormControl = new FormControl([]);\n  packageNameControl: FormControl = new FormControl('');\n  createdByControl: FormControl = new FormControl('');\n  viewTypeControl: FormControl = new FormControl(this.viewTypes);\n  messagesTypeControl: FormControl = new FormControl(this.messageTypes);\n\n  buttonGroupConfig = [\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.definitions.label')\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.title')\n    }\n  ];\n\n  messagesButtonGroupConfig = [\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.all.label'),\n      value: AX_CONTENT_PACKAGE_IMPORT_LOGS.messageTypes.all\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.success.label'),\n      value: 'SUCCESS'\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n      value: 'WARNING'\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.error.label'),\n      value: 'ERROR'\n    },\n    {\n      name: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.content-package-import-logs.unchanged.label'\n      ),\n      value: 'UNCHANGED'\n    }\n  ];\n\n  private selectedPackageContent: IBundleDeployPackageDescriptor = {};\n\n  gridColumns: ColumnConfig[] = [\n    {\n      field: 'bundleName',\n      header: ''\n    }\n  ];\n\n  expandedRowColumns = {\n    data: [\n      {\n        field: 'dataSource',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-source.label'\n        )\n      },\n      {\n        field: 'successCount',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.success.label')\n      },\n      {\n        field: 'warningCount',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label')\n      },\n      {\n        field: 'errorCount',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.error.label')\n      },\n      {\n        field: 'UnchangedCount',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.content-package-import-logs.unchanged.label'\n        )\n      }\n    ],\n    definitions: [\n      {\n        field: 'definitionType',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.definition-type.label')\n      },\n      {\n        field: 'success',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.success.label')\n      },\n      {\n        field: 'warning',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label')\n      },\n      {\n        field: 'error',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.error.label')\n      },\n      {\n        field: 'Unchanged',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.content-package-import-logs.unchanged.label'\n        )\n      }\n    ]\n  };\n\n  messagesGridColumns = {\n    data: [\n      {\n        field: 'dataSource',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-source.label'\n        ),\n        width: '20%'\n      },\n      {\n        field: 'message',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.message.label')\n      }\n    ],\n    definitions: [\n      {\n        field: 'definitionType',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.definition-type.label'),\n        width: '20%'\n      },\n      {\n        field: 'name',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label')\n      },\n      {\n        field: 'message',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.message.label')\n      }\n    ]\n  };\n\n  gridData: RowData<IBundleDeployPackageRegistryEntry>[] = [];\n  messagesGridData: RowData<IBundleDeployPackageData>[] = [];\n  gridSelectedItems: IBundleDeployPackageData[] = [];\n  expandedRowKeys = {};\n\n  packagesList$: Observable<IBundleDeployPackageRegistryEntry[]> = this.rxRecordInstanceDataPageService\n    .post({\n      params: {\n        recorddefinition: AX_BUNDLE_PACKAGING.packageRegistry.recordDefinitionName,\n        propertySelection: [\n          RX_RECORD_DEFINITION.coreFieldIds.createdBy,\n          RX_RECORD_DEFINITION.coreFieldIds.modifiedDate,\n          RX_RECORD_DEFINITION.coreFieldIds.id,\n          ...values(AX_BUNDLE_PACKAGING.packageRegistry.fieldIds)\n        ],\n        queryExpression: [\n          `'${AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.name}'=\"${this.rxBundleCacheService.bundleId}\"`,\n          `'${AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.type}'=${AX_BUNDLE_PACKAGING.packageTypes.content}`,\n          `'${AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.deployError}'!=$NULL$`,\n          `'${AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.packageDeployStatus}'=\"${AX_BUNDLE_DETAILS.packageDeployStatuses.deployed}\"`\n        ].join(' AND '),\n        sortBy: -RX_RECORD_DEFINITION.coreFieldIds.modifiedDate\n      }\n    })\n    .pipe(\n      map((recordInstanceDataPage: IDataPageResult) => recordInstanceDataPage.data)\n    );\n\n  packagesList: IBundleDeployPackageRegistryEntry[] = [];\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private axBundleDeploymentService: AxBundleDeploymentService,\n    private datePipe: DatePipe,\n    protected injector: Injector,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxJsonParserService: RxJsonParserService,\n    private rxModalService: RxModalService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxStringService: RxStringService,\n    private translateService: TranslateService\n  ) {\n    super(activeModalRef, injector);\n    this.optionFormatter = this.optionFormatter.bind(this);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.busyConfig.busy = this.packagesList$.pipe(take(1)).subscribe((packagesList) => {\n      if (packagesList.length) {\n        this.packageCreationDateControl.setValue([packagesList[0]]);\n      }\n\n      this.packagesList = packagesList;\n    });\n\n    this.packageCreationDateControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((value) => {\n      const selectedPackage = first(value);\n\n      if (selectedPackage) {\n        this.packageNameControl.setValue(selectedPackage[AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.name]);\n        this.createdByControl.setValue(selectedPackage[RX_RECORD_DEFINITION.coreFieldIds.createdBy]);\n\n        this.selectedPackageContent = this.rxJsonParserService.tryParseJson(\n          selectedPackage[AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.deployError]\n        );\n      } else {\n        this.selectedPackageContent = {};\n      }\n\n      this.updateGridData();\n    });\n\n    this.viewTypeControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((buttonGroup) => {\n      this.viewTypes = buttonGroup;\n      this.gridSelectedItems = [];\n\n      this.updateGridData();\n      this.updateMessagesGridData();\n    });\n\n    this.messagesTypeControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((messagesButtonGroup) => {\n      this.messageTypes = messagesButtonGroup;\n\n      this.updateMessagesGridData();\n    });\n  }\n\n  private updateGridData(): void {\n    if (this.viewTypes[0] && this.selectedPackageContent?.overallImportSummary?.definition) {\n      this.gridData = this.selectedPackageContent.overallImportSummary.definition.reduce(\n        (result, definitionsByType) => {\n          definitionsByType.status.forEach((status) => {\n            const bundle = this.rxDefinitionNameService.getBundleId(status.name);\n\n            let bundleGroup = find(result, { groupValue: bundle });\n\n            if (bundleGroup) {\n              let definition = find(bundleGroup.subTableItems, {\n                definitionType: AX_CONTENT_PACKAGE_IMPORT_LOGS.definitionTypeMap[definitionsByType.definitionType]\n              });\n\n              if (!definition) {\n                definition = {\n                  definitionType: AX_CONTENT_PACKAGE_IMPORT_LOGS.definitionTypeMap[definitionsByType.definitionType],\n                  error: 0,\n                  statuses: [],\n                  success: 0,\n                  unchanged: 0,\n                  warning: 0\n                };\n\n                bundleGroup.subTableItems.push(definition);\n              }\n\n              definition[AX_CONTENT_PACKAGE_IMPORT_LOGS.importStatuses[status.messageType]]++;\n              definition.statuses.push(status);\n            } else {\n              const definition = {\n                definitionType: AX_CONTENT_PACKAGE_IMPORT_LOGS.definitionTypeMap[definitionsByType.definitionType],\n                error: 0,\n                statuses: [status],\n                success: 0,\n                unchanged: 0,\n                warning: 0\n              };\n\n              definition[AX_CONTENT_PACKAGE_IMPORT_LOGS.importStatuses[status.messageType]]++;\n\n              bundleGroup = {\n                bundleName: bundle,\n                groupValue: bundle,\n                groupField: 'bundleName',\n                subTableItems: [definition]\n              };\n\n              this.rxGlobalCacheService\n                .getBundleFriendlyName(bundle)\n                .pipe(take(1))\n                .subscribe((bundleFriendlyName) => {\n                  bundleGroup.bundleName = bundleFriendlyName;\n                  this.expandedRowKeys[bundleFriendlyName] = true;\n                });\n\n              result.push(bundleGroup);\n            }\n          });\n\n          return result;\n        },\n        []\n      );\n    } else if (this.viewTypes[1] && this.selectedPackageContent?.overallImportSummary?.data) {\n      this.gridData = this.selectedPackageContent.overallImportSummary.data.reduce((result, dataItem) => {\n        const bundle = this.rxDefinitionNameService.getBundleId(dataItem.recordDefinitionName);\n        const dataSource = this.rxDefinitionNameService.getDisplayName(dataItem.recordDefinitionName);\n\n        const item = { dataSource, ...dataItem };\n\n        let bundleGroup = find(result, { groupValue: bundle });\n\n        if (bundleGroup) {\n          bundleGroup.subTableItems.push(item);\n        } else {\n          bundleGroup = {\n            bundleName: bundle,\n            groupValue: bundle,\n            groupField: 'bundleName',\n            subTableItems: [item]\n          };\n\n          this.rxGlobalCacheService\n            .getBundleFriendlyName(bundle)\n            .pipe(take(1))\n            .subscribe((bundleFriendlyName) => {\n              bundleGroup.bundleName = bundleFriendlyName;\n            });\n\n          result.push(bundleGroup);\n        }\n\n        return result;\n      }, []);\n    }\n  }\n\n  private updateMessagesGridData(): void {\n    const messagesType = this.messagesButtonGroupConfig[this.messageTypes.indexOf(true)].value;\n\n    if (this.viewTypes[0]) {\n      this.messagesGridData = this.gridSelectedItems.reduce((result, item) => {\n        const messages = item.statuses.reduce((res, status) => {\n          const statusMessages = status.messages.reduce((resultMessages, message) => {\n            if (messagesType === AX_CONTENT_PACKAGE_IMPORT_LOGS.messageTypes.all || startsWith(message, messagesType)) {\n              resultMessages.push({\n                definitionType: item.definitionType,\n                message,\n                name: this.rxDefinitionNameService.getDisplayName(status.name)\n              });\n            }\n\n            return resultMessages;\n          }, []);\n\n          return [...res, ...statusMessages];\n        }, []);\n\n        return [...result, ...messages];\n      }, []);\n    } else if (this.viewTypes[1]) {\n      this.messagesGridData = this.gridSelectedItems.reduce((result, item) => {\n        const messages = item.messages.reduce((res, message) => {\n          if (messagesType === AX_CONTENT_PACKAGE_IMPORT_LOGS.messageTypes.all || startsWith(message, messagesType)) {\n            res.push({\n              dataSource: item.dataSource,\n              message\n            });\n          }\n\n          return res;\n        }, []);\n\n        return [...result, ...messages];\n      }, []);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  optionFormatter(entry: IBundleDeployPackageRegistryEntry): string {\n    return this.datePipe.transform(entry[RX_RECORD_DEFINITION.coreFieldIds.modifiedDate], 'medium');\n  }\n\n  onSelectionChange(selectedData: IBundleDeployPackageData[]): void {\n    this.gridSelectedItems = selectedData;\n\n    this.updateMessagesGridData();\n  }\n\n  close(): void {\n    this.activeModalRef.close();\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.innovation-studio.content-package-import-logs.label' | translate }}\n  </h5>\n\n  <button\n    [attr.aria-label]=\"'com.bmc.arsys.rx.client.common.close.label' | translate\"\n    (click)=\"close()\"\n    class=\"close dp-close\"\n    rx-id=\"x-button\"\n    type=\"button\"\n  ></button>\n</div>\n\n<div class=\"modal-body d-flex flex-column\">\n  <div [ngBusy]=\"busyConfig\" class=\"container-fluid mb-3 pr-0\">\n    <div class=\"row flex-nowrap\">\n      <div class=\"row col-12 pr-0\">\n        <div class=\"col pl-0\">\n          <adapt-rx-select\n            [options]=\"packagesList\"\n            [optionFormatter]=\"optionFormatter\"\n            [popupMaxHeight]=\"560\"\n            [formControl]=\"packageCreationDateControl\"\n            [label]=\"\n              'com.bmc.arsys.rx.innovation-studio.manage-content-packages.package-creation-date.label' | translate\n            \"\n            appendToBody=\"true\"\n            rx-id=\"package-creation-date-select\"\n          >\n          </adapt-rx-select>\n        </div>\n        <div class=\"col\">\n          <adapt-rx-textfield\n            [disabledStyleForReadonlyState]=\"true\"\n            [label]=\"'com.bmc.arsys.rx.innovation-studio.packaging.package-name.label' | translate\"\n            [readonly]=\"true\"\n            [formControl]=\"packageNameControl\"\n            name=\"packageName\"\n            rx-id=\"package-name-field\"\n          ></adapt-rx-textfield>\n        </div>\n        <div class=\"col\">\n          <adapt-rx-textfield\n            [disabledStyleForReadonlyState]=\"true\"\n            [label]=\"'com.bmc.arsys.rx.innovation-studio.manage-content-packages.created-by.label' | translate\"\n            [readonly]=\"true\"\n            [formControl]=\"createdByControl\"\n            name=\"createdBy\"\n            rx-id=\"created-by-field\"\n          ></adapt-rx-textfield>\n        </div>\n        <div class=\"col pr-0\">\n          <adapt-rx-control-label label=\"{{ 'com.bmc.arsys.rx.client.common.action-view.label' | translate }}\">\n          </adapt-rx-control-label>\n\n          <adapt-button-group\n            [config]=\"buttonGroupConfig\"\n            [multiselectable]=\"false\"\n            [uncheckable]=\"false\"\n            [formControl]=\"viewTypeControl\"\n          ></adapt-button-group>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"adapt-table-toolbar adapt-table-toolbar_bordered font-weight-bold px-5 pt-2\">\n    {{ 'com.bmc.arsys.rx.client.common.application.label' | translate }}/{{\n      'com.bmc.arsys.rx.client.common.library.label' | translate\n    }}\n  </div>\n  <div class=\"h-100\">\n    <div class=\"h-50\">\n      <adapt-table\n        [bordered]=\"true\"\n        [columns]=\"gridColumns\"\n        [sortable]=\"true\"\n        [value]=\"gridData\"\n        [dataKey]=\"'bundleName'\"\n        [expandedRowKeys]=\"expandedRowKeys\"\n        [expandedRowTemplate]=\"expandedRowTemplate\"\n        [scrollable]=\"true\"\n        scrollHeight=\"flex\"\n        class=\"application-library-table\"\n      ></adapt-table>\n    </div>\n    <div class=\"h-50 overflow-hidden border-bottom\">\n      <adapt-rx-control-label\n        label=\"{{ 'com.bmc.arsys.rx.client.common.messages.label' | translate }}\"\n        class=\"d-flex my-2\"\n      ></adapt-rx-control-label>\n      <div class=\"my-2\">\n        <adapt-button-group\n          [config]=\"messagesButtonGroupConfig\"\n          [multiselectable]=\"false\"\n          [uncheckable]=\"false\"\n          [formControl]=\"messagesTypeControl\"\n          class=\"mb-2\"\n        ></adapt-button-group>\n      </div>\n      <adapt-table\n        [bordered]=\"true\"\n        [columns]=\"viewTypeControl.value[0] ? messagesGridColumns.definitions : messagesGridColumns.data\"\n        [dataKey]=\"'definitionType'\"\n        [sortable]=\"true\"\n        [sortMode]=\"'multiple'\"\n        [value]=\"messagesGridData\"\n        [scrollable]=\"true\"\n        scrollHeight=\"190px\"\n      ></adapt-table>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button adapt-button type=\"button\" btn-type=\"secondary\" rx-id=\"close-button\" (click)=\"close()\">\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n  </button>\n</div>\n\n<ng-template #expandedRowTemplate let-dataItem=\"dataItem\" let-rowIndex=\"rowIndex\">\n  <div>\n    <adapt-table\n      [columns]=\"viewTypeControl.value[0] ? expandedRowColumns.definitions : expandedRowColumns.data\"\n      [value]=\"dataItem.subTableItems\"\n      [sortable]=\"true\"\n      [sortMode]=\"'multiple'\"\n      [selectionMode]=\"'multiple'\"\n      [selection]=\"gridSelectedItems\"\n      (selectionChange)=\"onSelectionChange($event)\"\n    ></adapt-table>\n  </div>\n</ng-template>\n","import { DatePipe } from '@angular/common';\nimport { Component, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ActiveModalRef, AdaptRxControlLabelTooltip, BusyConfig, LoaderType } from '@bmc-ux/adapt-angular';\nimport { ColumnConfig, RowData } from '@bmc-ux/adapt-table';\nimport {\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceDataPageService,\n  RxRecordInstanceService\n} from '@helix/platform/record/api';\nimport {\n  IDataPageResult,\n  RxBundleCacheService,\n  RxDefinitionNameService,\n  RxGlobalCacheService\n} from '@helix/platform/shared/api';\nimport { RX_MODAL, RxModalClass, RxModalService } from '@helix/platform/ui-kit';\nimport { RxFileService, RxJsonParserService, RxStringService } from '@helix/platform/utils';\nimport { IRecordGridConfig } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { find, first, reduce, values } from 'lodash';\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\nimport { map, switchMapTo, take, takeUntil } from 'rxjs/operators';\nimport { AxBundleDeploymentService } from '../../services/bundle-deployment';\nimport { AX_BUNDLE_PACKAGING } from '../../services/bundle-deployment/bundle-packaging.constant';\nimport { IBundleDeployPackageDescriptor, IBundleDeployPackageRegistryEntry } from './manage-content-packages.types';\n\n@Component({\n  selector: 'ax-manage-content-packages',\n  templateUrl: './manage-content-packages.component.html',\n  styleUrls: ['manage-content-packages.component.scss']\n})\nexport class ManageContentPackagesComponent extends RxModalClass implements OnInit, OnDestroy {\n  busySubscription: Subscription;\n\n  busyConfig: BusyConfig = {\n    busy: null,\n    sticky: true,\n    message: this.translateService.instant('com.bmc.arsys.rx.client.common.loading-data'),\n    loaderType: LoaderType.LINE\n  };\n\n  private viewType = [true, false];\n\n  packageCreationDateControl: FormControl = new FormControl([]);\n  packageNameControl: FormControl = new FormControl('');\n  createdByControl: FormControl = new FormControl('');\n  viewTypeControl: FormControl = new FormControl(this.viewType);\n\n  buttonGroupConfig = [\n    {\n      name: 'Definitions',\n      value: this.translateService.instant('com.bmc.arsys.rx.client.common.definitions.label')\n    },\n    {\n      name: 'Data',\n      value: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.title')\n    }\n  ];\n\n  private selectedPackageContent: IBundleDeployPackageDescriptor;\n\n  gridColumns: ColumnConfig[] = [\n    {\n      field: 'bundleName',\n      header: ''\n    }\n  ];\n\n  gridData: RowData<IBundleDeployPackageRegistryEntry>[] = [];\n\n  expandedRowColumns = {\n    definitions: [\n      {\n        field: 'type',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.definition-type.label')\n      },\n      { field: 'name', header: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label') }\n    ],\n    data: [\n      {\n        field: 'dataSource',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-source.label'\n        )\n      },\n      {\n        field: 'dataFilter',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.data-filter.label'\n        )\n      },\n      {\n        field: 'ignoreRuleExecution',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.ignore-rules.label'\n        )\n      },\n      {\n        field: 'duplicateDataActionType',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.duplicates.label'\n        )\n      }\n    ]\n  };\n\n  expandedRowKeys = {};\n\n  packagesList$: Observable<IBundleDeployPackageRegistryEntry[]> = this.rxRecordInstanceDataPageService\n    .post({\n      params: {\n        recorddefinition: AX_BUNDLE_PACKAGING.packageRegistry.recordDefinitionName,\n        propertySelection: [\n          RX_RECORD_DEFINITION.coreFieldIds.createdBy,\n          RX_RECORD_DEFINITION.coreFieldIds.modifiedDate,\n          RX_RECORD_DEFINITION.coreFieldIds.id,\n          ...values(AX_BUNDLE_PACKAGING.packageRegistry.fieldIds)\n        ],\n        queryExpression: [\n          `'${AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.name}'=\"${this.rxBundleCacheService.bundleId}\"`,\n          `'${AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.type}'=${AX_BUNDLE_PACKAGING.packageTypes.content}`,\n          `'${AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.bundlePackageDescriptor}'!=$NULL$`\n        ].join(' AND '),\n        sortBy: -RX_RECORD_DEFINITION.coreFieldIds.modifiedDate\n      }\n    })\n    .pipe(\n      map((recordInstanceDataPage: IDataPageResult) => recordInstanceDataPage.data)\n    );\n\n  packageCreationDateTooltip: AdaptRxControlLabelTooltip = {\n    popoverMode: true,\n    iconName: 'question_circle_o',\n    placement: 'right',\n    content: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.manage-content-packages.package-creation-date.tooltip'\n    )\n  };\n\n  packagesList: IBundleDeployPackageRegistryEntry[] = [];\n\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private axBundleDeploymentService: AxBundleDeploymentService,\n    private datePipe: DatePipe,\n    protected injector: Injector,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxJsonParserService: RxJsonParserService,\n    private rxModalService: RxModalService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxStringService: RxStringService,\n    private translateService: TranslateService\n  ) {\n    super(activeModalRef, injector);\n    this.optionFormatter = this.optionFormatter.bind(this);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.busyConfig.busy = this.packagesList$.pipe(take(1)).subscribe((packagesList) => {\n      if (packagesList.length) {\n        this.packageCreationDateControl.setValue([packagesList[0]]);\n      }\n\n      this.packagesList = packagesList;\n    });\n\n    this.packageCreationDateControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((value) => {\n      const selectedPackage = first(value);\n\n      if (selectedPackage) {\n        this.selectedPackageContent = this.rxJsonParserService.tryParseJson(\n          selectedPackage[AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.bundlePackageDescriptor]\n        );\n\n        this.createdByControl.setValue(selectedPackage[RX_RECORD_DEFINITION.coreFieldIds.createdBy]);\n        this.packageNameControl.setValue(this.selectedPackageContent.customPackageName);\n      } else {\n        this.selectedPackageContent = {};\n      }\n\n      this.updateGridData();\n    });\n\n    this.viewTypeControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((buttonGroup) => {\n      this.viewType = buttonGroup;\n\n      this.updateGridData();\n    });\n  }\n\n  private updateGridData(): void {\n    if (this.viewType[0] && this.selectedPackageContent?.definitionsToDeployByType) {\n      this.gridData = reduce(\n        this.selectedPackageContent.definitionsToDeployByType,\n        (result, definitionsByType: any, definitionType: string) => {\n          const displayType = this.rxStringService.prettify(definitionType);\n\n          definitionsByType.forEach((definitionName) => {\n            const definition = {\n              type: displayType,\n              bundle: this.rxDefinitionNameService.getBundleId(definitionName),\n              name: this.rxDefinitionNameService.getDisplayName(definitionName)\n            };\n\n            let bundleGroup = find(result, { groupValue: definition.bundle });\n\n            if (bundleGroup) {\n              bundleGroup.subTableItems.push(definition);\n            } else {\n              bundleGroup = {\n                bundleName: definition.bundle,\n                groupValue: definition.bundle,\n                groupField: 'bundleName',\n                subTableItems: [definition]\n              };\n\n              this.rxGlobalCacheService\n                .getBundleFriendlyName(this.rxDefinitionNameService.getBundleId(definitionName))\n                .pipe(take(1))\n                .subscribe((bundleFriendlyName) => {\n                  bundleGroup.bundleName = bundleFriendlyName;\n                  this.expandedRowKeys[bundleFriendlyName] = true;\n                });\n\n              result.push(bundleGroup);\n            }\n          });\n\n          return result;\n        },\n        []\n      );\n    } else if (this.viewType[1] && this.selectedPackageContent?.dataImportOptionsByRecordDefinitionName) {\n      this.gridData = reduce(\n        this.selectedPackageContent.dataImportOptionsByRecordDefinitionName,\n        (result, data, definitionName: string) => {\n          const bundle = this.rxDefinitionNameService.getBundleId(definitionName);\n\n          data.dataSource = this.rxDefinitionNameService.getDisplayName(definitionName);\n\n          let bundleGroup = find(result, { groupValue: bundle });\n\n          if (bundleGroup) {\n            bundleGroup.subTableItems.push(data);\n          } else {\n            bundleGroup = {\n              bundleName: bundle,\n              groupValue: bundle,\n              groupField: 'bundleName',\n              subTableItems: [data]\n            };\n\n            this.rxGlobalCacheService\n              .getBundleFriendlyName(this.rxDefinitionNameService.getBundleId(definitionName))\n              .pipe(take(1))\n              .subscribe((bundleFriendlyName) => {\n                bundleGroup.bundleName = bundleFriendlyName;\n                this.expandedRowKeys[bundleFriendlyName] = true;\n              });\n\n            result.push(bundleGroup);\n          }\n\n          return result;\n        },\n        []\n      );\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  optionFormatter(entry: IBundleDeployPackageRegistryEntry): string {\n    return this.datePipe.transform(entry[RX_RECORD_DEFINITION.coreFieldIds.modifiedDate], 'medium');\n  }\n\n  downloadPackage(): void {\n    this.axBundleDeploymentService\n      .download(\n        first(this.packageCreationDateControl.value)[AX_BUNDLE_PACKAGING.packageRegistry.fieldIds.name],\n        first(this.packageCreationDateControl.value)[RX_RECORD_DEFINITION.coreFieldIds.id]\n      )\n      .subscribe((data) => {\n        RxFileService.saveFile(data);\n      });\n  }\n\n  deletePackage(): void {\n    this.rxModalService\n      .confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.manage-content-packages.delete-confirmation.message'\n        )\n      })\n      .then((result: boolean) => {\n        if (result) {\n          this.busyConfig.busy = this.rxRecordInstanceService\n            .delete(\n              AX_BUNDLE_PACKAGING.packageRegistry.recordDefinitionName,\n              first(this.packageCreationDateControl.value)[RX_RECORD_DEFINITION.coreFieldIds.id]\n            )\n            .pipe(switchMapTo(this.packagesList$), take(1))\n            .subscribe((packagesList) => {\n              this.packagesList = packagesList;\n              this.gridData = [];\n\n              this.packageCreationDateControl.setValue([]);\n              this.packageNameControl.setValue('');\n              this.createdByControl.setValue('');\n            });\n        }\n      });\n  }\n\n  close(): void {\n    this.activeModalRef.close();\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.innovation-studio.manage-content-packages.label' | translate }}\n  </h5>\n\n  <button\n    [attr.aria-label]=\"'com.bmc.arsys.rx.client.common.close.label' | translate\"\n    (click)=\"close()\"\n    class=\"close dp-close\"\n    rx-id=\"x-button\"\n    type=\"button\"\n  ></button>\n</div>\n\n<div class=\"modal-body d-flex flex-column\">\n  <div [ngBusy]=\"busyConfig\" class=\"container-fluid mb-3 pr-0\">\n    <div class=\"row flex-nowrap\">\n      <div class=\"row col-12 pr-0\">\n        <div class=\"col pl-0\">\n          <adapt-rx-select\n            [options]=\"packagesList\"\n            [optionFormatter]=\"optionFormatter\"\n            [popupMaxHeight]=\"560\"\n            [formControl]=\"packageCreationDateControl\"\n            [label]=\"\n              'com.bmc.arsys.rx.innovation-studio.manage-content-packages.package-creation-date.label' | translate\n            \"\n            [tooltip]=\"packageCreationDateTooltip\"\n            appendToBody=\"true\"\n            rx-id=\"package-creation-date-select\"\n          >\n          </adapt-rx-select>\n        </div>\n        <div class=\"col\">\n          <adapt-rx-textfield\n            [disabledStyleForReadonlyState]=\"true\"\n            [label]=\"'com.bmc.arsys.rx.innovation-studio.packaging.package-name.label' | translate\"\n            [readonly]=\"true\"\n            [formControl]=\"packageNameControl\"\n            name=\"packageName\"\n            rx-id=\"package-name-field\"\n          ></adapt-rx-textfield>\n        </div>\n        <div class=\"col\">\n          <adapt-rx-textfield\n            [disabledStyleForReadonlyState]=\"true\"\n            [label]=\"'com.bmc.arsys.rx.innovation-studio.manage-content-packages.created-by.label' | translate\"\n            [readonly]=\"true\"\n            [formControl]=\"createdByControl\"\n            name=\"createdBy\"\n            rx-id=\"created-by-field\"\n          ></adapt-rx-textfield>\n        </div>\n        <div class=\"col pr-0\">\n          <adapt-rx-control-label label=\"{{ 'com.bmc.arsys.rx.client.common.action-view.label' | translate }}\">\n          </adapt-rx-control-label>\n\n          <adapt-button-group\n            [config]=\"buttonGroupConfig\"\n            [multiselectable]=\"false\"\n            [uncheckable]=\"false\"\n            [formControl]=\"viewTypeControl\"\n          ></adapt-button-group>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"adapt-table-toolbar adapt-table-toolbar_bordered font-weight-bold px-5 pt-2\">\n    {{ 'com.bmc.arsys.rx.client.common.application.label' | translate }}/{{\n      'com.bmc.arsys.rx.client.common.library.label' | translate\n    }}\n  </div>\n\n  <adapt-table\n    [bordered]=\"true\"\n    [columns]=\"gridColumns\"\n    [sortable]=\"true\"\n    [value]=\"gridData\"\n    [dataKey]=\"'bundleName'\"\n    [expandedRowTemplate]=\"expandedRowTemplate\"\n    [expandedRowKeys]=\"expandedRowKeys\"\n    [scrollable]=\"true\"\n    scrollHeight=\"flex\"\n  ></adapt-table>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    rx-id=\"download-button\"\n    [disabled]=\"!packageCreationDateControl.value?.length\"\n    (click)=\"downloadPackage()\"\n  >\n    {{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.download.title' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"delete-button\"\n    [disabled]=\"!packageCreationDateControl.value?.length\"\n    (click)=\"deletePackage()\"\n  >\n    {{ 'com.bmc.arsys.rx.innovation-studio.manage-content-packages.delete-package.label' | translate }}\n  </button>\n\n  <button adapt-button type=\"button\" btn-type=\"secondary\" rx-id=\"close-button\" (click)=\"close()\">\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n  </button>\n</div>\n\n<ng-template #expandedRowTemplate let-dataItem=\"dataItem\" let-rowIndex=\"rowIndex\">\n  <div>\n    <adapt-table\n      [columns]=\"viewTypeControl.value[0] ? expandedRowColumns.definitions : expandedRowColumns.data\"\n      [value]=\"dataItem.subTableItems\"\n      [sortable]=\"true\"\n      [sortMode]=\"'multiple'\"\n    ></adapt-table>\n  </div>\n</ng-template>\n","import { Injector } from '@angular/core';\nimport {\n  IBundleDescriptor,\n  RX_APPLICATION,\n  RX_BUNDLE,\n  RX_OVERLAY,\n  RxBundleService,\n  RxCurrentUserService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\n\nexport class BundleDetails {\n  id: string;\n  hasCustomEntryPoint: boolean;\n  friendlyName: string;\n  description: string;\n  type: string;\n  version: string;\n  developerId: string;\n  developerName: string;\n  isApplication: boolean;\n  isActionMenuVisible: boolean;\n  isBusinessAnalyst: boolean;\n  isBundleFromCurrentOverlayGroup: boolean;\n  isFoundationBundle: boolean;\n  name: string;\n  groupId: string;\n  containsJavaScript: boolean;\n  dependentBundles: IBundleDescriptor[];\n\n  constructor(private bundleDescriptor: IBundleDescriptor, private injector: Injector) {\n    const rxOverlayService: RxOverlayService = injector.get(RxOverlayService);\n    const rxCurrentUserService: RxCurrentUserService = injector.get(RxCurrentUserService);\n    const rxBundleService: RxBundleService = injector.get(RxBundleService);\n\n    this.friendlyName = bundleDescriptor.friendlyName;\n    this.description = bundleDescriptor.description;\n    this.version = bundleDescriptor.displayVersion || bundleDescriptor.version;\n    this.developerId = bundleDescriptor.developerId;\n    this.developerName = bundleDescriptor.developerName;\n    this.id = bundleDescriptor.id;\n    this.hasCustomEntryPoint = bundleDescriptor.hasCustomEntryPoint;\n    this.containsJavaScript = bundleDescriptor.containsJavaScript;\n\n    const overlayContext = rxOverlayService.getCurrentOverlayContext();\n\n    this.isBundleFromCurrentOverlayGroup =\n      overlayContext &&\n      bundleDescriptor.overlayGroupId === overlayContext.overlayGroupId &&\n      bundleDescriptor.customizationPerspective ===\n        RX_OVERLAY.bundleCustomizationOperationTypes.createdInThisOverlayGroup;\n\n    this.type = bundleDescriptor.isApplication ? RX_BUNDLE.bundleTypes.application : RX_BUNDLE.bundleTypes.library;\n    this.isFoundationBundle = bundleDescriptor.id === RX_APPLICATION.platformBundleIds.foundation;\n\n    this.isActionMenuVisible =\n      this.isFoundationBundle || this.isBundleFromCurrentOverlayGroup || !bundleDescriptor.platformBundle;\n\n    this.isBusinessAnalyst = rxCurrentUserService.isBusinessAnalyst();\n    this.isApplication = bundleDescriptor.isApplication;\n  }\n}\n","import {\n  Component,\n  ComponentFactoryResolver,\n  ElementRef,\n  Injector,\n  NgZone,\n  OnInit,\n  Renderer2,\n  ViewChild\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AdaptModalService, ModalDeferred } from '@bmc-ux/adapt-angular';\nimport {\n  IBundleDescriptor,\n  RX_APPLICATION,\n  RX_BUNDLE,\n  RxAngularApplicationService,\n  RxBundleCacheService,\n  RxBundleService,\n  RxGlobalCacheService,\n  RxLocalizedStringsLoaderService,\n  RxNotificationService,\n  RxOverlayService,\n  RxSessionExpirationService\n} from '@helix/platform/shared/api';\nimport { RxWizardService } from '@helix/platform/shared/components';\nimport {\n  ProgressIndicatorModalComponent,\n  ProgressIndicatorStatus,\n  RX_MODAL,\n  RxModalService\n} from '@helix/platform/ui-kit';\nimport { RxFileService } from '@helix/platform/utils';\nimport { RowSelectionMode } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { saveAs } from 'file-saver';\nimport { assign, attempt, chain, find, forEach, isObject, last, noop, pick, toArray } from 'lodash';\nimport { BehaviorSubject, combineLatest, forkJoin, of, throwError } from 'rxjs';\nimport { catchError, map, pluck, shareReplay, switchMap, take, tap, withLatestFrom } from 'rxjs/operators';\nimport { IDeploymentStatus } from '../../services/bundle-deployment/bundle-deployment.interfaces';\nimport { AxBundleDeploymentService } from '../../services/bundle-deployment/bundle-deployment.service';\nimport { RxCreatePackageStatusDataPageService } from '../../services/bundle-deployment/create-package-status-data-page.service';\nimport { AxLocalizedStringsDataPageQuery } from '../../services/localization/localized-strings-data-page.service';\nimport { AddBundleContentDataWizardStepComponent } from '../bundle-action-wizard/add-bundle-content-data-wizard-step/add-bundle-content-data-wizard-step.component';\nimport { AddDataWizardStepComponent } from '../bundle-action-wizard/add-data-wizard-step/add-data-wizard-step.component';\nimport { DownloadWizardStepComponent } from '../bundle-action-wizard/download-wizard-step/download-wizard-step.component';\nimport { OptionsWizardStepComponent } from '../bundle-action-wizard/options-wizard-step/options-wizard-step.component';\nimport { OrderDataWizardStepComponent } from '../bundle-action-wizard/order-data-wizard-step/order-data-wizard-step.component';\nimport { PackageWizardStepComponent } from '../bundle-action-wizard/package-wizard-step/package-wizard-step.component';\nimport { SelectApprovalConfigurationsWizardStepComponent } from '../bundle-action-wizard/select-approval-configurations-wizard-step/select-approval-configurations-wizard-step.component';\nimport { SelectBundleContentDefinitionsWizardStepComponent } from '../bundle-action-wizard/select-bundle-content-definitions-wizard-step/select-bundle-content-definitions-wizard-step.component';\nimport { SelectDefinitionsToDeleteWizardStepComponent } from '../bundle-action-wizard/select-definitions-to-delete-wizard-step/select-definitions-to-delete-wizard-step.component';\nimport { SelectDefinitionsWizardStepComponent } from '../bundle-action-wizard/select-definitions-wizard-step/select-definitions-wizard-step.component';\nimport { ContentPackageImportLogsComponent } from '../content-package-import-logs/content-package-import-logs.component';\nimport { ManageContentPackagesComponent } from '../manage-content-packages/manage-content-packages.component';\nimport { BundleDetails } from './bundle-details.class';\nimport { AX_BUNDLE_DETAILS } from './bundle-details.constant';\nimport {\n  ICreateContentPackageContext,\n  ICreateInstallPackageContext,\n  ICreateUpdatePackageContext,\n  PackageTypes\n} from './bundle-details.types';\n\n@Component({\n  selector: 'ax-bundle-details',\n  templateUrl: './bundle-details.component.html',\n  styleUrls: ['./bundle-details.component.scss']\n})\nexport class BundleDetailsComponent implements OnInit {\n  private loadData$ = new BehaviorSubject<boolean>(true);\n\n  @ViewChild('fileInput', { static: false })\n  fileInput: ElementRef;\n\n  bundleTypes = RX_BUNDLE.bundleTypes;\n\n  bundleDescriptor$ = combineLatest([this.activatedRoute.params.pipe(pluck('bundleId')), this.loadData$]).pipe(\n    tap(([bundleId]) => {\n      this.rxBundleCacheService.bundleId = bundleId;\n    }),\n    switchMap(([bundleId]) => this.rxGlobalCacheService.getBundleDescriptor(bundleId)),\n    shareReplay(1)\n  );\n\n  bundleDetails$ = this.bundleDescriptor$.pipe(\n    map((bundleDescriptor) => new BundleDetails(bundleDescriptor, this.injector)),\n    shareReplay(1)\n  );\n\n  applicationLink$ = this.bundleDetails$.pipe(\n    switchMap((bundleDetails) => this.rxAngularApplicationService.isAngularJsApplication(bundleDetails.id)),\n    withLatestFrom(this.bundleDetails$),\n    map(([isAngularJsApplication, bundleDetails]) => {\n      if (bundleDetails.hasCustomEntryPoint) {\n        return `/${bundleDetails.id}/index.html`;\n      } else if (isAngularJsApplication) {\n        return `/innovationsuite/index.html#/${bundleDetails.id}`;\n      } else {\n        return `/helix/index.html#/${bundleDetails.id}`;\n      }\n    }),\n    shareReplay(1)\n  );\n\n  shellDesignerLink$ = this.bundleDetails$.pipe(\n    map((bundleDetails) => `/${RX_APPLICATION.innovationStudioBundleId}/shell/${bundleDetails.id}`)\n  );\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private rxAngularApplicationService: RxAngularApplicationService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxBundleService: RxBundleService,\n    private rxWizardService: RxWizardService,\n    private injector: Injector,\n    private axBundleDeploymentService: AxBundleDeploymentService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private adaptModalService: AdaptModalService,\n    private router: Router,\n    private axLocalizedStringsDataPageQuery: AxLocalizedStringsDataPageQuery,\n    private ngZone: NgZone,\n    private rxLocalizedStringsLoaderService: RxLocalizedStringsLoaderService,\n    private rxNotificationService: RxNotificationService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxCreatePackageStatusDataPageService: RxCreatePackageStatusDataPageService,\n    private rxOverlayService: RxOverlayService,\n    private renderer: Renderer2,\n    private rxSessionExpirationService: RxSessionExpirationService\n  ) {}\n\n  ngOnInit(): void {\n    this.bundleDescriptor$.pipe(take(1)).subscribe((bundleDescriptor) => {\n      if (!this.rxOverlayService.areNewDefinitionsAllowedSync(bundleDescriptor)) {\n        this.rxNotificationService.addWarningMessage(\n          this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.bundle-details.read-only-definitions.warning'\n          )\n        );\n      }\n    });\n  }\n\n  createContentPackage(): void {\n    combineLatest([\n      this.rxBundleService.get(this.rxBundleCacheService.bundleId),\n      this.rxGlobalCacheService.getBundleDescriptors()\n    ]).subscribe(([bundleDescriptor, bundleDescriptors]) => {\n      const options = {\n        title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.create-content-package.label'),\n        allowFinish: true,\n        finishButtonLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.close.label'),\n        notificationMessage: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.create-content-package.notification'\n        ),\n        steps: [\n          {\n            id: 'selectDefinitions',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(\n              SelectBundleContentDefinitionsWizardStepComponent\n            ),\n            options: {\n              displayName: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.content-package.label'\n              ),\n              gridConfig: {\n                defaultDuplicateDataActionType: 'THROW_ERROR',\n                enableRowSelection: RowSelectionMode.Multiple\n              }\n            }\n          },\n          {\n            id: 'addData',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(\n              AddBundleContentDataWizardStepComponent\n            ),\n            options: {\n              countTitle: 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.create-content.count',\n              descriptionTitle:\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.create-content.description',\n              showGlobalFilterExpressionEditor: true,\n              gridConfig: {\n                defaultDuplicateDataActionType: AX_BUNDLE_DETAILS.duplicateDataActions.ignore.value,\n                columns: [\n                  'dataSource',\n                  'name',\n                  'aliasName',\n                  'dataFilter',\n                  'dataFilterExpression',\n                  'ignoreRuleExecution',\n                  'duplicateDataActionType'\n                ]\n              }\n            }\n          },\n          {\n            id: 'orderData',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.order-data.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(OrderDataWizardStepComponent)\n          },\n          {\n            id: 'selectApprovalConfigurations',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-approval-configurations.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(\n              SelectApprovalConfigurationsWizardStepComponent\n            ),\n            options: {\n              gridConfig: {\n                enableRowSelection: RowSelectionMode.Multiple\n              }\n            }\n          },\n          {\n            id: 'selectDefinitionsToDelete',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(\n              SelectDefinitionsToDeleteWizardStepComponent\n            ),\n            options: {\n              gridConfig: {\n                enableRowSelection: RowSelectionMode.Multiple\n              },\n              isInstallOperation: false,\n              isContentPackageOperation: true\n            }\n          },\n          {\n            id: 'options',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(OptionsWizardStepComponent),\n            options: {\n              fields: {\n                customPackageName: {},\n                friendlyName: {\n                  disabled: true\n                },\n                version: {\n                  disabled: true,\n                  hideTooltip: true\n                },\n                description: {\n                  disabled: true\n                },\n                dependentBundlesList: {\n                  hidden: true\n                }\n              }\n            }\n          },\n          {\n            id: 'package',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(PackageWizardStepComponent),\n            options: {\n              isInstallOperation: false,\n              isContentPackageOperation: true\n            }\n          },\n          {\n            id: 'download',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.download.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DownloadWizardStepComponent)\n          }\n        ]\n      };\n\n      const bundleDetails = assign(\n        pick(bundleDescriptor, [\n          'id',\n          'name',\n          'isApplication',\n          'friendlyName',\n          'version',\n          'groupId',\n          'description',\n          'dependentBundles'\n        ]),\n        {\n          type: bundleDescriptor.isApplication ? RX_BUNDLE.bundleTypes.application : RX_BUNDLE.bundleTypes.library\n        }\n      );\n\n      const bundleFriendlyNamesById = bundleDescriptors.reduce((result, bundleDescriptor) => {\n        result[bundleDescriptor.id] = bundleDescriptor.friendlyName;\n\n        return result;\n      }, {});\n\n      const dependentBundlesList: IBundleDescriptor[] = chain(bundleDescriptors)\n        .reject({ id: RX_APPLICATION.standardlib })\n        .reject({ id: bundleDescriptor.id })\n        .reject({ id: RX_APPLICATION.innovationStudioBundleId })\n        .value();\n\n      forEach(dependentBundlesList, (bundle) => {\n        bundle.isDependedOn = Boolean(find(bundleDetails.dependentBundles, { id: bundle.id }));\n      });\n\n      const context = {\n        bundleDescriptors,\n        bundleDetails,\n        bundleFriendlyNamesById,\n        dependentBundlesList,\n        deploymentPackageDescriptor: {\n          customPackageName: bundleDescriptor.id,\n          packageType: PackageTypes.Content,\n          id: bundleDescriptor.id,\n          name: bundleDescriptor.name,\n          friendlyName: bundleDescriptor.friendlyName,\n          version: bundleDescriptor.version,\n          description: bundleDescriptor.description,\n          groupId: bundleDescriptor.groupId,\n          developerName: bundleDescriptor.developerName,\n          isApplication: bundleDescriptor.isApplication,\n          containsJavaScript: bundleDescriptor.containsJavaScript,\n          overlayGroupId: '',\n          hasCustomEntryPoint: true,\n          userRequestedDependentBundles: null,\n          isConfigurationDataIncluded: false,\n          duplicateDataActionTypeForConfigurationData: AX_BUNDLE_DETAILS.duplicateDataActions.ignore.value,\n          definitionsToDeployByType: {},\n          definitionsToDeleteByType: {},\n          dataImportOptionsByRecordDefinitionName: {},\n          approvalConfigurationQueryOptions: []\n        }\n      };\n\n      this.rxWizardService\n        .open<ICreateContentPackageContext>({\n          context,\n          options\n        })\n        .then(noop);\n    });\n  }\n\n  openContentPackageImportLogsModal(): void {\n    this.rxModalService\n      .openModal({\n        content: ContentPackageImportLogsComponent,\n        size: 'rx-lg'\n      })\n      .catch(noop);\n  }\n\n  createInstallPackage(): void {\n    combineLatest([\n      this.rxBundleService.get(this.rxBundleCacheService.bundleId),\n      this.rxGlobalCacheService.getBundleDescriptors()\n    ]).subscribe(([bundleDetails, bundleDescriptors]) => {\n      const wizardOptions = {\n        title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.create-install-package.label'),\n        allowFinish: true,\n        finishButtonLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.close.label'),\n        notificationMessage: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.install-package.notification'\n        ),\n        steps: [\n          {\n            id: 'selectDefinitions',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(\n              SelectDefinitionsWizardStepComponent\n            ),\n            options: {\n              displayName: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.install-package.label'\n              )\n            }\n          },\n          {\n            id: 'orderData',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.order-data.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(OrderDataWizardStepComponent),\n            options: {\n              importRecordDefinitionFromCache: true\n            }\n          },\n          {\n            id: 'options',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(OptionsWizardStepComponent)\n          },\n          {\n            id: 'package',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(PackageWizardStepComponent),\n            options: {\n              isInstallOperation: true,\n              isContentPackageOperation: false\n            }\n          },\n          {\n            id: 'download',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.download.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DownloadWizardStepComponent)\n          }\n        ]\n      };\n\n      const createInstallPackageContext = {\n        bundleDetails: bundleDetails,\n        bundleDescriptors: bundleDescriptors,\n        deploymentPackageDescriptor: {\n          packageType: PackageTypes.Install,\n          id: bundleDetails.id,\n          name: bundleDetails.friendlyName,\n          friendlyName: bundleDetails.friendlyName,\n          version: bundleDetails.version,\n          description: bundleDetails.description,\n          developerName: bundleDetails.developerName,\n          isApplication: bundleDetails.isApplication,\n          containsJavaScript: bundleDetails.containsJavaScript,\n          overlayGroupId: '',\n          hasCustomEntryPoint: true,\n          userRequestedDependentBundles: null,\n          isConfigurationDataIncluded: false,\n          duplicateDataActionTypeForConfigurationData: AX_BUNDLE_DETAILS.duplicateDataActions.ignore.value,\n          definitionsToDeployByType: {},\n          definitionsToDeleteByType: {},\n          dataImportOptionsByRecordDefinitionName: {}\n        }\n      };\n\n      this.rxWizardService\n        .open<ICreateInstallPackageContext>({\n          context: createInstallPackageContext,\n          options: wizardOptions\n        })\n        .then(noop);\n    });\n  }\n\n  createUpdatePackage(): void {\n    combineLatest([\n      this.rxBundleService.get(this.rxBundleCacheService.bundleId),\n      this.rxGlobalCacheService.getBundleDescriptors()\n    ]).subscribe(([bundleDetails, bundleDescriptors]) => {\n      const wizardOptions = {\n        title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.create-update-package.label'),\n        allowFinish: true,\n        finishButtonLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.close.label'),\n        notificationMessage: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.create-update-package.notification'\n        ),\n        steps: [\n          {\n            id: 'selectDefinitions',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(\n              SelectDefinitionsWizardStepComponent\n            ),\n            options: {\n              displayName: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.update-package.label'\n              ),\n              subtitleMessage: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.message'\n              ),\n              gridConfig: {\n                enableRowSelection: RowSelectionMode.Multiple\n              }\n            }\n          },\n          {\n            id: 'addData',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(AddDataWizardStepComponent),\n            options: {\n              countTitle: 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.update-package.count',\n              descriptionTitle:\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.update-package.description',\n              showGlobalFilterExpressionEditor: false,\n              gridConfig: {\n                columns: ['dataSource', 'name'],\n                defaultDuplicateDataActionType: AX_BUNDLE_DETAILS.duplicateDataActions.ignore.value\n              }\n            }\n          },\n          {\n            id: 'orderData',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.order-data.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(OrderDataWizardStepComponent)\n          },\n          {\n            id: 'selectDefinitionsToDelete',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions-to-delete.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(\n              SelectDefinitionsToDeleteWizardStepComponent\n            ),\n            options: {\n              gridConfig: {\n                enableRowSelection: RowSelectionMode.Multiple\n              }\n            }\n          },\n          {\n            id: 'options',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(OptionsWizardStepComponent),\n            options: {\n              fields: {\n                bundleUpdateFromVersion: {},\n                version: {\n                  label: this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.update-to-version.label'\n                  ),\n                  tooltip: 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.update-to-version.tooltip'\n                }\n              }\n            }\n          },\n          {\n            id: 'package',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.package.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(PackageWizardStepComponent),\n            options: {\n              isInstallOperation: false,\n              isContentPackageOperation: false\n            }\n          },\n          {\n            id: 'download',\n            name: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.download.label'\n            ),\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DownloadWizardStepComponent)\n          }\n        ]\n      };\n\n      const createUpdatePackageContext = {\n        bundleDetails: bundleDetails,\n        bundleDescriptors: bundleDescriptors,\n        deploymentPackageDescriptor: {\n          bundleUpdateFromVersion: bundleDetails.version,\n          containsJavaScript: bundleDetails.containsJavaScript,\n          dataImportOptionsByRecordDefinitionName: {},\n          definitionsToDeleteByType: {},\n          definitionsToDeployByType: {},\n          description: bundleDetails.description,\n          developerName: bundleDetails.developerName,\n          duplicateDataActionTypeForConfigurationData: AX_BUNDLE_DETAILS.duplicateDataActions.ignore.value,\n          friendlyName: bundleDetails.friendlyName,\n          hasCustomEntryPoint: true,\n          id: bundleDetails.id,\n          isApplication: bundleDetails.isApplication,\n          isConfigurationDataIncluded: false,\n          name: bundleDetails.friendlyName,\n          overlayGroupId: '',\n          packageType: PackageTypes.Update,\n          version: bundleDetails.version,\n          userRequestedDependentBundles: null\n        }\n      };\n\n      this.rxWizardService\n        .open<ICreateUpdatePackageContext>({\n          context: createUpdatePackageContext,\n          options: wizardOptions\n        })\n        .then(noop);\n    });\n  }\n\n  downloadTranslations(bundleId: string): void {\n    this.rxSessionExpirationService\n      .keepSessionAlive()\n      .pipe(\n        switchMap(() =>\n          this.axLocalizedStringsDataPageQuery.get({\n            params: {\n              startIndex: 0,\n              pageSize: 0,\n              includeStringsFromUserOverlayOnly: false,\n              locale: 'default',\n              bundleId: bundleId\n            }\n          })\n        )\n      )\n      .subscribe((response) => {\n        const file = new Blob([JSON.stringify(response.data[0], null, '\\t')], { type: 'application/json' });\n\n        this.ngZone.runOutsideAngular(() => {\n          saveAs(file, 'localizable-strings.json');\n        });\n      });\n  }\n\n  manageContentPackages(): void {\n    this.rxModalService\n      .openModal({\n        content: ManageContentPackagesComponent,\n        size: 'rx-lg'\n      })\n      .catch(noop);\n  }\n\n  private openConfirmationModal(confirmationMessage: string): Promise<boolean> {\n    return this.rxModalService.confirm({\n      title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n      modalStyle: RX_MODAL.modalStyles.warning,\n      message: confirmationMessage\n    });\n  }\n\n  onClickFileInput(event: Event) {\n    const element = event.target as HTMLInputElement;\n    element.value = '';\n  }\n\n  reinstallBundle(bundle: BundleDetails): void {\n    const confirmationMessage = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.reinstall-bundle.confirmation.message',\n      {\n        bundleName: bundle.friendlyName\n      }\n    );\n\n    this.openConfirmationModal(confirmationMessage).then((result: boolean) => {\n      if (result) {\n        this.renderer.setAttribute(this.fileInput.nativeElement, 'accept', '.zip');\n\n        const unlisten = this.renderer.listen(this.fileInput.nativeElement, 'change', (event: Event) => {\n          const element = event.target as HTMLInputElement;\n          const file = toArray(element.files)[0];\n\n          if (file) {\n            const bundleDeploymentProgressConfig = {\n              title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.reinstall-bundle.label'),\n              status: ProgressIndicatorStatus.InProgress,\n              header: bundle.friendlyName,\n              subHeader: file?.name.replace(/\\.zip$/i, ''),\n              inProgressMessage: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.reinstall-bundle.in-progress.label'\n              ),\n              finishedMessage: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.reinstall-bundle.success.message',\n                { bundleType: bundle.type }\n              ),\n              operationStatusMessage: '',\n              failedMessage: ''\n            };\n\n            this.openModal(ProgressIndicatorModalComponent, bundleDeploymentProgressConfig)\n              .then(() => {\n                if (bundleDeploymentProgressConfig.status === ProgressIndicatorStatus.Finished) {\n                  window.location.reload();\n                } else {\n                  this.loadData$.next(true);\n                }\n              })\n              .catch(noop);\n\n            this.axBundleDeploymentService\n              .reinstall(bundle.id, file)\n              .pipe(\n                catchError((error) => {\n                  bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n\n                  bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.reinstall-bundle.failure.message',\n                    { bundleType: bundle.type }\n                  );\n\n                  return throwError(error);\n                })\n              )\n              .subscribe((response) => {\n                this.axBundleDeploymentService\n                  .pollDeploymentStatus(last(response.headers.get('location').split('/')))\n                  .subscribe((deploymentStatus: IDeploymentStatus) => {\n                    if (deploymentStatus.isFinished) {\n                      bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Finished;\n\n                      bundleDeploymentProgressConfig.operationStatusMessage =\n                        this.axBundleDeploymentService.buildStatusMessage(deploymentStatus.deploymentParsedStatus);\n                    } else if (deploymentStatus.errorMessage) {\n                      bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                        'com.bmc.arsys.rx.innovation-studio.reinstall-bundle.failure.message',\n                        { bundleType: bundle.type }\n                      );\n\n                      bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n                      bundleDeploymentProgressConfig.operationStatusMessage = deploymentStatus.errorMessage;\n                    }\n                  });\n              });\n\n            element.value = '';\n          }\n\n          unlisten();\n        });\n\n        this.renderer.selectRootElement(this.fileInput.nativeElement, true).click();\n      }\n    });\n  }\n\n  uninstallBundle(bundle: BundleDetails): void {\n    const confirmationMessage = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.uninstall-bundle.confirmation.message',\n      {\n        bundleName: bundle.friendlyName\n      }\n    );\n\n    this.openConfirmationModal(confirmationMessage).then((result: boolean) => {\n      if (result) {\n        const bundleDeploymentProgressConfig = {\n          title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.uninstall-bundle.label'),\n          status: ProgressIndicatorStatus.InProgress,\n          header: bundle.friendlyName,\n          subHeader: `${bundle.type} (${bundle.id}, ${bundle.developerId})`,\n          inProgressMessage: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.uninstall-bundle.uninstalling.label'\n          ),\n          finishedMessage: this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.uninstall-bundle.success.message',\n            { bundleType: bundle.type }\n          ),\n          operationStatusMessage: '',\n          failedMessage: ''\n        };\n\n        this.openModal(ProgressIndicatorModalComponent, bundleDeploymentProgressConfig)\n          .then(() =>\n            this.router\n              .navigate([RX_APPLICATION.innovationStudioBundleId, 'workspace'])\n              .then(() => window.location.reload())\n          )\n          .catch(noop);\n\n        this.axBundleDeploymentService\n          .uninstall(bundle.id)\n          .pipe(\n            catchError((error) => {\n              bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n\n              bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.uninstall-bundle.failure.message'\n              );\n\n              return throwError(error);\n            })\n          )\n          .subscribe((response) => {\n            this.axBundleDeploymentService\n              .pollDeploymentStatus(last(response.headers.get('location').split('/').slice(0, -1)))\n              .subscribe((deploymentStatus: IDeploymentStatus) => {\n                if (deploymentStatus.isFinished) {\n                  bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Finished;\n                } else if (deploymentStatus.errorMessage) {\n                  bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.uninstall-bundle.failure.message'\n                  );\n\n                  bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n                  bundleDeploymentProgressConfig.operationStatusMessage = deploymentStatus.errorMessage;\n                }\n              });\n          });\n      }\n    });\n  }\n\n  updateBundle(bundle: BundleDetails): void {\n    const confirmationMessage = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.update-bundle.confirmation.message',\n      {\n        bundleName: bundle.friendlyName\n      }\n    );\n\n    this.openConfirmationModal(confirmationMessage).then((result: boolean) => {\n      if (result) {\n        this.renderer.setAttribute(this.fileInput.nativeElement, 'accept', '.zip');\n\n        const unlisten = this.renderer.listen(this.fileInput.nativeElement, 'change', (event: Event) => {\n          const element = event.target as HTMLInputElement;\n          const file = toArray(element.files)[0];\n\n          if (file) {\n            const bundleDeploymentProgressConfig = {\n              title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.update-bundle.label'),\n              status: ProgressIndicatorStatus.InProgress,\n              header: bundle.friendlyName,\n              subHeader: file?.name.replace(/\\.zip$/i, ''),\n              inProgressMessage: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.update-bundle.in-progress.label'\n              ),\n              finishedMessage: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.update-bundle.success.message',\n                { bundleType: bundle.type }\n              ),\n              operationStatusMessage: '',\n              failedMessage: ''\n            };\n\n            this.openModal(ProgressIndicatorModalComponent, bundleDeploymentProgressConfig)\n              .then(() => {\n                if (bundleDeploymentProgressConfig.status === ProgressIndicatorStatus.Finished) {\n                  window.location.reload();\n                } else {\n                  this.loadData$.next(true);\n                }\n              })\n              .catch(noop);\n\n            this.axBundleDeploymentService\n              .update(file)\n              .pipe(\n                catchError((error) => {\n                  bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n\n                  bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.update-bundle.failure.message',\n                    { bundleType: bundle.type }\n                  );\n\n                  return throwError(error);\n                })\n              )\n              .subscribe((response) => {\n                this.axBundleDeploymentService\n                  .pollDeploymentStatus(last(response.headers.get('location').split('/')))\n                  .subscribe((deploymentStatus: IDeploymentStatus) => {\n                    if (deploymentStatus.isFinished) {\n                      bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Finished;\n                    } else if (deploymentStatus.errorMessage) {\n                      bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                        'com.bmc.arsys.rx.innovation-studio.update-bundle.failure.message',\n                        { bundleType: bundle.type }\n                      );\n\n                      bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n                      bundleDeploymentProgressConfig.operationStatusMessage = deploymentStatus.errorMessage;\n                    }\n                  });\n              });\n\n            element.value = '';\n          }\n\n          unlisten();\n        });\n\n        this.renderer.selectRootElement(this.fileInput.nativeElement, true).click();\n      }\n    });\n  }\n\n  uploadTranslations(bundle: BundleDetails): void {\n    const unlisten = this.renderer.listen(this.fileInput.nativeElement, 'change', (event: Event) => {\n      const element = event.target as HTMLInputElement;\n      const file = toArray(element.files)[0];\n      const fileReader = new FileReader();\n      const translationsToUpload$ = [];\n      const successfulLocales = [];\n      const failedLocales = [];\n\n      if (file) {\n        fileReader.onloadend = () => {\n          const content = attempt(JSON.parse.bind(null, fileReader.result));\n\n          Object.keys(content).map((locale) => {\n            const translations = content[locale];\n\n            if (!isObject(translations)) {\n              this.rxNotificationService.addErrorMessage(\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.innovation-studio.upload-translations.locale-error.message'\n                )\n              );\n            }\n\n            translationsToUpload$.push(\n              this.rxLocalizedStringsLoaderService.uploadTranslation(bundle.id, locale, translations).pipe(\n                tap(() => {\n                  successfulLocales.push(locale);\n                }),\n                catchError(() => {\n                  failedLocales.push(locale);\n\n                  return of({});\n                })\n              )\n            );\n          });\n\n          forkJoin(translationsToUpload$).subscribe(() => {\n            if (failedLocales.length > 0) {\n              this.rxNotificationService.addErrorMessage(\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.innovation-studio.upload-translations.partial-failure.message',\n                  {\n                    locales: failedLocales.join(' ')\n                  }\n                )\n              );\n            }\n\n            if (successfulLocales.length === 0) {\n              this.rxNotificationService.addErrorMessage(\n                this.translateService.instant('com.bmc.arsys.rx.innovation-studio.upload-translations.failure.message')\n              );\n            }\n\n            if (failedLocales.length === 0) {\n              this.rxNotificationService.addSuccessMessage(\n                this.translateService.instant('com.bmc.arsys.rx.innovation-studio.upload-translations.success.message')\n              );\n            }\n          });\n        };\n\n        fileReader.onerror = () => {\n          this.rxNotificationService.addErrorMessage(\n            this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.upload-translations.file-load-failure.message'\n            )\n          );\n        };\n\n        fileReader.readAsText(file);\n        element.value = '';\n      }\n\n      unlisten();\n    });\n\n    this.renderer.setAttribute(this.fileInput.nativeElement, 'accept', '.json');\n    this.renderer.selectRootElement(this.fileInput.nativeElement, true).click();\n  }\n\n  importDefinitionsAndData(bundle: BundleDetails): void {\n    const confirmationMessage = this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.import-definition-and-data.confirmation.message'\n    );\n\n    this.openConfirmationModal(confirmationMessage).then((result: boolean) => {\n      if (result) {\n        this.renderer.setAttribute(this.fileInput.nativeElement, 'accept', '.zip');\n\n        const unlisten = this.renderer.listen(this.fileInput.nativeElement, 'change', (event: Event) => {\n          const element = event.target as HTMLInputElement;\n          const file = toArray(element.files)[0];\n\n          if (file) {\n            const bundleDeploymentProgressConfig = {\n              title: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.import-definition-and-data.label'\n              ),\n              status: ProgressIndicatorStatus.InProgress,\n              header: bundle.friendlyName,\n              subHeader: file.name.replace(/\\.zip$/i, ''),\n              inProgressMessage: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.import-definition-and-data.in-progress.label'\n              ),\n              finishedMessage: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.import-definition-and-data.success.message'\n              ),\n              operationStatusMessage: '',\n              failedMessage: ''\n            };\n\n            this.openModal(ProgressIndicatorModalComponent, bundleDeploymentProgressConfig)\n              .then(() => {\n                if (bundleDeploymentProgressConfig.status === ProgressIndicatorStatus.Finished) {\n                  window.location.reload();\n                } else {\n                  this.loadData$.next(true);\n                }\n              })\n              .catch(noop);\n\n            this.axBundleDeploymentService\n              .import(bundle.id, file)\n              .pipe(\n                catchError((error) => {\n                  bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n\n                  bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.import-definition-and-data.failure.message'\n                  );\n\n                  return throwError(error);\n                })\n              )\n              .subscribe((response) => {\n                this.axBundleDeploymentService\n                  .pollDeploymentStatus(last(response.headers.get('location').split('/')))\n                  .subscribe((deploymentStatus: IDeploymentStatus) => {\n                    if (deploymentStatus.isFinished) {\n                      bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Finished;\n                    } else if (deploymentStatus.errorMessage) {\n                      bundleDeploymentProgressConfig.failedMessage = this.translateService.instant(\n                        'com.bmc.arsys.rx.innovation-studio.import-definition-and-data.failure.message'\n                      );\n\n                      bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n                      bundleDeploymentProgressConfig.operationStatusMessage = deploymentStatus.errorMessage;\n                    }\n                  });\n              });\n\n            element.value = '';\n          }\n\n          unlisten();\n        });\n\n        this.renderer.selectRootElement(this.fileInput.nativeElement, true).click();\n      }\n    });\n  }\n\n  private openModal(content: any, data: any): ModalDeferred {\n    return this.adaptModalService.open({\n      content: content,\n      data: data,\n      size: 'sm',\n      isDialog: true,\n      hideBackdrop: false\n    });\n  }\n\n  downloadContentPackage(bundleDetails: BundleDetails): void {\n    this.rxCreatePackageStatusDataPageService\n      .get({\n        params: {\n          startIndex: 0,\n          pageSize: -1,\n          bundleId: bundleDetails.id\n        }\n      })\n      .subscribe((response) => {\n        const contentPackage = find(response?.data, { packageType: 'CONTENT' });\n\n        if (contentPackage?.packageExportStatus === AX_BUNDLE_DETAILS.packageExportStatuses.packageCreated) {\n          this.axBundleDeploymentService.download(bundleDetails.id, contentPackage.packageId).subscribe((data) => {\n            RxFileService.saveFile(data);\n          });\n        } else if (\n          contentPackage?.packageExportStatus === AX_BUNDLE_DETAILS.packageExportStatuses.pendingPackageCreate\n        ) {\n          this.rxNotificationService.addErrorMessage(\n            this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.download-content-package.package-creation-in-progress.error.message'\n            )\n          );\n        } else if (contentPackage?.packageExportStatus === AX_BUNDLE_DETAILS.packageExportStatuses.error) {\n          const contentPackageConfig = {\n            title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.download-content-package.label'),\n            status: ProgressIndicatorStatus.Failed,\n            finishedMessage: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.download-content-package.package-creation-failed.error.message'\n            ),\n            operationStatusMessage: this.axBundleDeploymentService.buildStatusMessage(\n              contentPackage.deploymentParsedStatus\n            )\n          };\n\n          this.openModal(ProgressIndicatorModalComponent, contentPackageConfig);\n        } else {\n          this.rxNotificationService.addErrorMessage(\n            this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.download-content-package.package-not-available.error.message'\n            )\n          );\n        }\n      });\n  }\n\n  publishChatEnabledService(bundleId: string): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      'chatbot',\n      bundleId,\n      'publish-chat-enabled-service'\n    ]);\n  }\n}\n","<div class=\"d-flex flex-column py-3\" *ngIf=\"bundleDetails$ | async as bundleDetails\">\n  <div class=\"d-flex flex-row-reverse align-items-center justify-content-between flex-fill pl-4\">\n    <div class=\"d-flex flex-row\">\n      <a\n        adapt-button\n        *ngIf=\"bundleDetails.isApplication\"\n        btn-type=\"tertiary\"\n        size=\"large\"\n        rx-id=\"navigation-button\"\n        class=\"d-icon-left-app_eye\"\n        [routerLink]=\"shellDesignerLink$ | async\"\n      >\n        {{ 'com.bmc.arsys.rx.innovation-studio.bundle-details.navigation.label' | translate }}\n      </a>\n\n      <div class=\"dropdown\" *ngIf=\"bundleDetails.isActionMenuVisible\" adaptDropdown placement=\"bottom-right\">\n        <button\n          adapt-button\n          adaptDropdownToggle\n          btn-type=\"tertiary\"\n          size=\"large\"\n          rx-id=\"actions-buttons\"\n          class=\"d-icon-left-action_button_cursor\"\n        >\n          {{ 'com.bmc.arsys.rx.innovation-studio.actions.label' | translate }}\n        </button>\n\n        <div class=\"dropdown-menu\" adaptDropdownMenu *ngIf=\"!bundleDetails.isBusinessAnalyst\">\n          <div class=\"dropdown-header\">\n            {{ 'com.bmc.arsys.rx.innovation-studio.packaging.label' | translate }}\n          </div>\n\n          <ng-container *ngIf=\"bundleDetails.isBundleFromCurrentOverlayGroup\">\n            <button rx-id=\"create-install-package-menu-item\" class=\"dropdown-item\" (click)=\"createInstallPackage()\">\n              {{ 'com.bmc.arsys.rx.innovation-studio.create-install-package.label' | translate }}\n            </button>\n            <button rx-id=\"create-update-package-menu-item\" class=\"dropdown-item\" (click)=\"createUpdatePackage()\">\n              {{ 'com.bmc.arsys.rx.innovation-studio.create-update-package.label' | translate }}\n            </button>\n          </ng-container>\n\n          <ng-container *ngIf=\"!bundleDetails.isBundleFromCurrentOverlayGroup\">\n            <button rx-id=\"create-content-package-menu-item\" class=\"dropdown-item\" (click)=\"createContentPackage()\">\n              {{ 'com.bmc.arsys.rx.innovation-studio.create-content-package.label' | translate }}\n            </button>\n            <button\n              rx-id=\"download-content-package-menu-item\"\n              class=\"dropdown-item\"\n              (click)=\"downloadContentPackage(bundleDetails)\"\n            >\n              {{ 'com.bmc.arsys.rx.innovation-studio.download-content-package.label' | translate }}\n            </button>\n            <button rx-id=\"manage-content-packages-menu-item\" class=\"dropdown-item\" (click)=\"manageContentPackages()\">\n              {{ 'com.bmc.arsys.rx.innovation-studio.manage-content-packages.label' | translate }}\n            </button>\n            <button\n              rx-id=\"content-package-import-logs-menu-item\"\n              class=\"dropdown-item\"\n              (click)=\"openContentPackageImportLogsModal()\"\n            >\n              {{ 'com.bmc.arsys.rx.innovation-studio.content-package-import-logs.label' | translate }}\n            </button>\n          </ng-container>\n\n          <div class=\"dropdown-header\">\n            {{ 'com.bmc.arsys.rx.innovation-studio.deployment.label' | translate }}\n          </div>\n\n          <button\n            rx-id=\"import-definitions-and-data-menu-item\"\n            class=\"dropdown-item\"\n            *ngIf=\"!bundleDetails.isBundleFromCurrentOverlayGroup\"\n            (click)=\"importDefinitionsAndData(bundleDetails)\"\n          >\n            {{ 'com.bmc.arsys.rx.innovation-studio.import-definition-and-data.label' | translate }}\n          </button>\n\n          <ng-container *ngIf=\"bundleDetails.isBundleFromCurrentOverlayGroup\">\n            <button rx-id=\"update-menu-item\" class=\"dropdown-item\" (click)=\"updateBundle(bundleDetails)\">\n              {{\n                'com.bmc.arsys.rx.innovation-studio.update-bundle.menu.label'\n                  | translate: { bundleType: bundleDetails.type.toLowerCase() }\n              }}\n            </button>\n            <button rx-id=\"reinstall-menu-item\" class=\"dropdown-item\" (click)=\"reinstallBundle(bundleDetails)\">\n              {{\n                'com.bmc.arsys.rx.innovation-studio.reinstall-bundle.menu.label'\n                  | translate: { bundleType: bundleDetails.type.toLowerCase() }\n              }}\n            </button>\n            <button rx-id=\"uninstall-menu-item\" class=\"dropdown-item\" (click)=\"uninstallBundle(bundleDetails)\">\n              {{\n                'com.bmc.arsys.rx.innovation-studio.uninstall-bundle.menu.label'\n                  | translate: { bundleType: bundleDetails.type.toLowerCase() }\n              }}\n            </button>\n          </ng-container>\n\n          <ng-container *ngIf=\"!bundleDetails.isFoundationBundle\">\n            <div class=\"dropdown-header\">\n              {{ 'com.bmc.arsys.rx.innovation-studio.translations.menu.label' | translate }}\n            </div>\n            <button\n              rx-id=\"download-translations-menu-item\"\n              class=\"dropdown-item\"\n              (click)=\"downloadTranslations(bundleDetails.id)\"\n            >\n              {{ 'com.bmc.arsys.rx.innovation-studio.download-translations.menu.label' | translate }}\n            </button>\n            <button\n              rx-id=\"upload-translations-menu-item\"\n              class=\"dropdown-item\"\n              (click)=\"uploadTranslations(bundleDetails)\"\n            >\n              {{ 'com.bmc.arsys.rx.innovation-studio.upload-translations.menu.label' | translate }}\n            </button>\n\n            <div class=\"dropdown-header\">{{ 'com.bmc.arsys.rx.innovation-studio.chat.label' | translate }}</div>\n            <button\n              rx-id=\"enable-chat-for-service\"\n              class=\"dropdown-item\"\n              (click)=\"publishChatEnabledService(bundleDetails.id)\"\n            >\n              {{ 'com.bmc.arsys.rx.innovation-studio.publish-chat-enabled-service.label' | translate }}\n            </button>\n          </ng-container>\n        </div>\n\n        <div class=\"dropdown-menu\" adaptDropdownMenu *ngIf=\"bundleDetails.isBusinessAnalyst\">\n          <div class=\"dropdown-header\">{{ 'com.bmc.arsys.rx.innovation-studio.chat.label' | translate }}</div>\n          <button\n            rx-id=\"enable-chat-for-service\"\n            class=\"dropdown-item\"\n            (click)=\"publishChatEnabledService(bundleDetails.id)\"\n          >\n            {{ 'com.bmc.arsys.rx.innovation-studio.publish-chat-enabled-service.label' | translate }}\n          </button>\n        </div>\n      </div>\n\n      <a\n        adapt-button\n        btn-type=\"tertiary\"\n        size=\"large\"\n        class=\"d-icon-left-pop_up\"\n        rx-id=\"visit-deployed-application-button\"\n        *ngIf=\"bundleDetails.isApplication\"\n        target=\"_blank\"\n        href=\"{{ applicationLink$ | async }}\"\n      >\n        {{ 'com.bmc.arsys.rx.innovation-studio.visit-deployed-application.label' | translate }}\n      </a>\n    </div>\n    <div class=\"d-flex flex-row align-items-center rx-ellipsis\">\n      <adapt-icon name=\"app\" class=\"mr-3 app-icon\"></adapt-icon>\n\n      <h1 class=\"m-0 py-2 rx-ellipsis\" title=\"{{ bundleDetails.friendlyName }}\">{{ bundleDetails.friendlyName }}</h1>\n\n      <adapt-icon\n        name=\"info_circle_o_adapt\"\n        class=\"ml-2 mt-1\"\n        placement=\"bottom\"\n        [autoClose]=\"'outside'\"\n        [adaptPopover]=\"popover\"\n      >\n      </adapt-icon>\n    </div>\n  </div>\n\n  <span class=\"text-tertiary ml-6 pl-3 rx-ellipsis\">{{ bundleDetails.description }}</span>\n\n  <input\n    #fileInput\n    type=\"file\"\n    accept=\".zip\"\n    hidden\n    [multiple]=\"false\"\n    (click)=\"onClickFileInput($event)\"\n    rx-id=\"package-file-input\"\n  />\n\n  <ng-template #popover>\n    <div class=\"bundle-info-popover\">\n      <strong>{{\n        (bundleDetails.type === bundleTypes.application\n          ? 'com.bmc.arsys.rx.client.common.application-id.label'\n          : 'com.bmc.arsys.rx.client.common.library-id.label'\n        ) | translate\n      }}</strong>\n      <div class=\"mb-2\">{{ bundleDetails.id }}</div>\n\n      <strong>{{ 'com.bmc.arsys.rx.innovation-studio.bundle-details.version.label' | translate }}</strong>\n      <div class=\"mb-2\">{{ bundleDetails.version }}</div>\n\n      <strong>{{ 'com.bmc.arsys.rx.innovation-studio.bundle-details.developer.label' | translate }}</strong>\n      <div>{{ bundleDetails.developerName }}</div>\n    </div>\n  </ng-template>\n</div>\n\n<router-outlet></router-outlet>\n","import { Injectable } from '@angular/core';\nimport { reject } from 'lodash';\nimport { RxGuidService } from '@helix/platform/utils';\nimport {\n  IViewComponentDefinition,\n  IViewDefinition,\n  RX_VIEW_DEFINITION,\n  RxViewComponentType\n} from '@helix/platform/view/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxFieldDefinitionService } from '@helix/platform/record/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ContainerRowWrap, RecordEditorMode, RxDefaultRecordEditorInputType } from '@helix/platform/view/components';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxRecordEditorBuilder {\n  constructor(\n    private rxGuidService: RxGuidService,\n    private rxDefaultRecordEditorInputType: RxDefaultRecordEditorInputType,\n    private rxFieldDefinitionService: RxFieldDefinitionService,\n    private translateService: TranslateService\n  ) {}\n\n  getViewDefinition(\n    recordDefinition: IRecordDefinition,\n    recordInstanceId: string,\n    isEditable: boolean = true\n  ): IViewDefinition {\n    const closeButtonId = this.rxGuidService.generate();\n    const containerId = this.rxGuidService.generate();\n    const recordEditorId = this.rxGuidService.generate();\n    const saveButtonId = this.rxGuidService.generate();\n    const viewDefinitionId = this.rxGuidService.generate();\n    const recordEditorMode = recordInstanceId ? RecordEditorMode.Edit : RecordEditorMode.Create;\n\n    const recordEditorComponentDefinitions = this.getComponentDefinitions(\n      recordDefinition,\n      recordEditorMode,\n      recordEditorId\n    );\n\n    return {\n      guid: viewDefinitionId,\n      layout: JSON.stringify({\n        outlets: [\n          {\n            name: 'DEFAULT',\n            columns: [\n              {\n                children: [recordEditorId]\n              }\n            ]\n          },\n          {\n            name: 'footer',\n            height: 60,\n            columns: [\n              {\n                children: [containerId]\n              }\n            ]\n          }\n        ]\n      }),\n      outputParams: [\n        {\n          name: 'recordInstance',\n          source: '${view.components.' + recordEditorId + '.recordInstance}'\n        }\n      ],\n      inputParams: [],\n      componentDefinitions: [\n        {\n          resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n          guid: recordEditorId,\n          type: RxViewComponentType.RecordEditor,\n          propertiesByName: {\n            recordInstanceId: `\"${recordInstanceId}\"`,\n            mode: recordEditorMode,\n            recordDefinitionName: recordDefinition.name,\n            styles: 'p-0 border-0',\n            allowEdit: isEditable ? '1' : '0'\n          },\n          componentDefinitions: recordEditorComponentDefinitions,\n          layout: JSON.stringify({\n            outlets: [\n              {\n                name: 'DEFAULT',\n                columns: [\n                  {\n                    children: recordEditorComponentDefinitions.map((componentDefinition) => componentDefinition.guid)\n                  }\n                ]\n              }\n            ]\n          })\n        },\n        {\n          resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n          guid: containerId,\n          type: RxViewComponentType.ButtonBar,\n          propertiesByName: {\n            alignment: 'right',\n            hidden: '0'\n          },\n          layout: JSON.stringify({\n            outlets: [\n              {\n                name: 'DEFAULT',\n                columns: [\n                  {\n                    children: [saveButtonId, closeButtonId]\n                  }\n                ]\n              }\n            ]\n          }),\n          componentDefinitions: [\n            {\n              resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n              guid: closeButtonId,\n              type: RxViewComponentType.ActionButton,\n              propertiesByName: {\n                label: isEditable\n                  ? this.translateService.instant('com.bmc.arsys.rx.client.common.cancel.label')\n                  : this.translateService.instant('com.bmc.arsys.rx.client.common.close.label'),\n                style: 'secondary',\n                size: 'default'\n              },\n              componentDefinitions: [\n                {\n                  resourceType: RX_VIEW_DEFINITION.resourceTypes.viewComponent,\n                  guid: this.rxGuidService.generate(),\n                  type: RxViewComponentType.Action,\n                  propertiesByName: {\n                    viewApi: '${view.api}',\n                    name: 'rxCloseViewAction',\n                    actAsCancel: 'true'\n                  }\n                }\n              ]\n            },\n            {\n              resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n              guid: saveButtonId,\n              type: RxViewComponentType.ActionButton,\n              propertiesByName: {\n                label: this.translateService.instant('com.bmc.arsys.rx.client.common.save.label'),\n                hidden: isEditable ? '0' : '1',\n                style: 'primary',\n                disabled: 'NOT${view.components.' + recordEditorId + '.canSave}',\n                size: 'default'\n              },\n              componentDefinitions: [\n                {\n                  resourceType: RX_VIEW_DEFINITION.resourceTypes.viewComponent,\n                  guid: this.rxGuidService.generate(),\n                  type: RxViewComponentType.Action,\n                  propertiesByName: {\n                    viewApi: '${view.api}',\n                    name: 'rxSaveAction',\n                    targetApi: '${view.api}',\n                    closeAfterSave: true\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    };\n  }\n\n  private getComponentDefinitions(\n    recordDefinition: IRecordDefinition,\n    recordEditorMode,\n    recordEditorId: string\n  ): IViewComponentDefinition[] {\n    const fieldGroupFilters = [RX_RECORD_DEFINITION.fieldOptions.required, RX_RECORD_DEFINITION.fieldOptions.optional];\n\n    if (recordEditorMode === RecordEditorMode.Edit) {\n      fieldGroupFilters.push(RX_RECORD_DEFINITION.fieldOptions.system);\n    }\n\n    const componentDefinitions = [];\n\n    for (let i = 0; i < fieldGroupFilters.length; i++) {\n      const recordFieldsComponentDefinitions = this.getFieldComponentDefinitions(\n        recordDefinition,\n        recordEditorMode,\n        recordEditorId,\n        fieldGroupFilters[i]\n      );\n\n      componentDefinitions.push({\n        resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n        guid: this.rxGuidService.generate(),\n        type: RxViewComponentType.Container,\n        propertiesByName: {\n          rowWrap: ContainerRowWrap.Sm,\n          columnCount: '2',\n          styles: i + 1 !== fieldGroupFilters.length ? 'border-bottom pb-4' : ''\n        },\n        componentDefinitions: recordFieldsComponentDefinitions,\n        layout: JSON.stringify({\n          outlets: [\n            {\n              name: 'DEFAULT',\n              columns: [\n                {\n                  children: recordFieldsComponentDefinitions\n                    .filter((componentDefinition, index) => index % 2 === 0)\n                    .map((componentDefinition) => componentDefinition.guid),\n                  span: '6'\n                },\n                {\n                  children: recordFieldsComponentDefinitions\n                    .filter((componentDefinition, index) => index % 2 === 1)\n                    .map((componentDefinition) => componentDefinition.guid),\n                  span: '6'\n                }\n              ]\n            }\n          ]\n        })\n      });\n    }\n\n    return componentDefinitions;\n  }\n\n  private getFieldComponentDefinitions(\n    recordDefinition: IRecordDefinition,\n    recordEditorMode,\n    recordEditorId: string,\n    fieldGroupFilter: string\n  ): IViewComponentDefinition[] {\n    return reject(\n      recordDefinition.fieldDefinitions,\n      (fieldDefinition) =>\n        recordEditorMode === RecordEditorMode.Create && this.rxFieldDefinitionService.isSystemField(fieldDefinition)\n    )\n      .filter((fieldDefinition) => fieldDefinition.fieldOption === fieldGroupFilter)\n      .map((fieldDefinition) => {\n        const componentDefinition: IViewComponentDefinition = {\n          resourceType: RX_VIEW_DEFINITION.resourceTypes.viewComponent,\n          guid: this.rxGuidService.generate(),\n          type: this.rxDefaultRecordEditorInputType.getFieldTypeByFieldDefinition(fieldDefinition),\n          propertiesByName: {\n            fieldId: fieldDefinition.id,\n            recordDefinition: '${view.components.' + recordEditorId + '.recordDefinition}',\n            recordInstance: '${view.components.' + recordEditorId + '.recordInstance}',\n            label: fieldDefinition.name\n          }\n        };\n\n        if (\n          fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.character.resourceType &&\n          fieldDefinition.namedListDefinition\n        ) {\n          componentDefinition.propertiesByName.enableMultiSelection = 'true';\n        }\n\n        return componentDefinition;\n      })\n      .sort((a, b) => a.propertiesByName.label.localeCompare(b.propertiesByName.label));\n  }\n}\n","import { Component, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { noop, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, shareReplay, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordDefinitionCacheService } from '@helix/platform/record/api';\nimport {\n  RX_APPLICATION,\n  RxBundleCacheService,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxPageTitleService\n} from '@helix/platform/shared/api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { includes, map as _map } from 'lodash';\nimport { RxRecordEditorBuilder } from './record-editor-builder.service';\nimport { ViewComponentEventManager } from '@helix/platform/view/runtime';\nimport { RX_OPEN_VIEW, RxEditRecordsViewActionService, RxOpenViewActionService } from '@helix/platform/view/actions';\n\n@Component({\n  selector: 'ax-record-data-editor',\n  templateUrl: './record-data-editor.component.html',\n  styleUrls: ['./record-data-editor.component.scss']\n})\nexport class RecordDataEditorComponent implements OnInit, OnDestroy {\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  recordDefinition: IRecordDefinition;\n  isCustomRecordDefinition: boolean;\n\n  constructor(\n    private rxRecordEditorBuilder: RxRecordEditorBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private translateService: TranslateService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxPageTitleService: RxPageTitleService,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private viewComponentEventManager: ViewComponentEventManager,\n    private rxOpenViewActionService: RxOpenViewActionService,\n    private rxEditRecordsViewActionService: RxEditRecordsViewActionService\n  ) {\n    this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$);\n  }\n\n  @ViewChild('dataEditorGrid')\n  dataEditorGrid: RecordGridComponent;\n\n  @ViewChild('displayIdColumnTemplate')\n  displayIdColumnTemplate: TemplateRef<any>;\n\n  recordDefinitionName$ = this.route.params.pipe(\n    map((params) => params.definitionName),\n    shareReplay(1)\n  );\n\n  recordDefinition$: Observable<IRecordDefinition> = this.recordDefinitionName$.pipe(\n    switchMap((recordDefinitionName) => this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName))\n  );\n\n  dataEditorGridConfig$: Observable<IRecordGridConfig> = this.recordDefinition$.pipe(\n    tap((recordDefinition) => {\n      this.recordDefinition = recordDefinition;\n      this.isCustomRecordDefinition =\n        this.recordDefinition?.type === RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom;\n    }),\n    map((recordDefinition) => {\n      const coreFieldIds = _map(RX_RECORD_DEFINITION.coreFields, 'id');\n\n      const gridColumns: IRecordGridColumn[] = _map(\n        recordDefinition.fieldDefinitions,\n        (fieldDefinition): IRecordGridColumn => ({\n          title: fieldDefinition.name,\n          fieldId: String(fieldDefinition.id),\n          visible:\n            fieldDefinition.id !== RX_RECORD_DEFINITION.coreFieldIds.notifierListening &&\n            includes(coreFieldIds, fieldDefinition.id),\n          cellTemplate:\n            fieldDefinition.id === RX_RECORD_DEFINITION.coreFieldIds.displayId && !this.isCustomRecordDefinition\n              ? this.displayIdColumnTemplate\n              : undefined\n        })\n      );\n\n      return {\n        recordDefinitionName: recordDefinition.name,\n        columns: gridColumns,\n        getRecordDefinition: () => of(recordDefinition),\n        guid: 'rx-data-editor-' + recordDefinition.guid,\n        styles: 'flex-fill',\n        enableRowSelection: this.isCustomRecordDefinition ? null : RowSelectionMode.Multiple,\n        actionButtons: [\n          {\n            label: this.isRecordEditable(this.recordDefinition)\n              ? this.translateService.instant('com.bmc.arsys.rx.client.common.edit.label')\n              : this.translateService.instant('com.bmc.arsys.rx.client.common.action-view.label'),\n            icon: this.isRecordEditable(this.recordDefinition) ? 'pencil' : 'eye',\n            style: 'tertiary',\n            actions: [\n              {\n                name: () => {\n                  if (this.dataEditorGrid.api.getSelectedRowCount() === 1) {\n                    this.editRecord(this.dataEditorGrid.api.getSelectedRows()[0][RX_RECORD_DEFINITION.coreFieldIds.id]);\n                  } else {\n                    this.rxEditRecordsViewActionService\n                      .execute({\n                        recordDefinitionName: recordDefinition.name,\n                        records: this.dataEditorGrid.api\n                      })\n                      .subscribe();\n                  }\n                }\n              }\n            ],\n            disabled: () =>\n              this.isCustomRecordDefinition ||\n              (!this.isRecordEditable(this.recordDefinition) && this.dataEditorGrid.api.getSelectedRowCount() !== 1)\n          },\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n            icon: 'trash',\n            style: 'tertiary',\n            actions: [\n              {\n                name: 'rxDeleteRecordsAction',\n                params: {\n                  recordDefinitionName: recordDefinition.name,\n                  records: this.dataEditorGrid.api\n                }\n              }\n            ],\n            disabled: this.isCustomRecordDefinition\n          }\n        ],\n        rowActionButtons: []\n      };\n    }),\n    shareReplay(1)\n  );\n\n  ngOnInit(): void {\n    this.recordDefinitionName$.pipe(takeUntil(this.destroyed$)).subscribe((recordDefinitionName) => {\n      this.rxBundleCacheService.bundleId = this.rxDefinitionNameService.getBundleId(recordDefinitionName);\n      this.setPageTitle(recordDefinitionName);\n    });\n  }\n\n  close(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      this.rxBundleCacheService.bundleId,\n      'record-definitions'\n    ]);\n  }\n\n  createRecord(): void {\n    this.viewComponentEventManager\n      .executeActions(\n        [\n          {\n            guid: 'rx-data-editor-new-' + this.recordDefinition.guid,\n            name: 'rxOpenViewAction',\n            parameters: {\n              viewDefinitionName: this.rxRecordEditorBuilder.getViewDefinition(\n                this.recordDefinition,\n                null,\n                this.isRecordEditable(this.recordDefinition)\n              ),\n              viewParams: null,\n              presentation: {\n                title: this.translateService.instant('com.bmc.arsys.rx.client.data-editor.new-record.title'),\n                modalSize: RX_OPEN_VIEW.modalSize.Large,\n                type: RX_OPEN_VIEW.type.DockedRightModal\n              }\n            }\n          }\n        ],\n        () => this.dataEditorGrid.api.refresh().subscribe()\n      )\n      .catch(noop);\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  editRecord(recordInstanceId: string): void {\n    this.viewComponentEventManager\n      .executeActions(\n        [\n          {\n            guid: 'rx-data-editor-edit-' + recordInstanceId,\n            name: 'rxOpenViewAction',\n            parameters: {\n              viewDefinitionName: this.rxRecordEditorBuilder.getViewDefinition(\n                this.recordDefinition,\n                recordInstanceId,\n                this.isRecordEditable(this.recordDefinition)\n              ),\n              viewParams: null,\n              presentation: {\n                title: this.isRecordEditable(this.recordDefinition)\n                  ? this.translateService.instant('com.bmc.arsys.rx.client.data-editor.edit-record.title')\n                  : this.translateService.instant('com.bmc.arsys.rx.client.data-editor.view-record.title'),\n                modalSize: RX_OPEN_VIEW.modalSize.Large,\n                type: RX_OPEN_VIEW.type.DockedRightModal\n              }\n            }\n          }\n        ],\n        () => this.dataEditorGrid.api.refresh().subscribe()\n      )\n      .catch(noop);\n  }\n\n  private isRecordEditable(recordDefinition: IRecordDefinition): boolean {\n    return !recordDefinition.isAuditRecordDefinition;\n  }\n\n  private setPageTitle(recordDefinitionName: string): void {\n    this.rxGlobalCacheService\n      .getBundleFriendlyName(this.rxBundleCacheService.bundleId)\n      .pipe(take(1))\n      .subscribe((bundleFriendlyName) => {\n        this.rxPageTitleService.set(\n          [\n            this.rxDefinitionNameService.getDisplayName(recordDefinitionName),\n            this.translateService.instant('com.bmc.arsys.rx.client.data-editor.title'),\n            bundleFriendlyName\n          ],\n          this.rxGlobalCacheService.applicationId\n        );\n      });\n  }\n}\n","<div class=\"header d-flex align-items-center\">\n  <h5 class=\"ml-3\">\n    {{ 'com.bmc.arsys.rx.client.data-editor.title' | translate }} ({{\n      recordDefinitionName$ | async | rxDefinitionNamePipe\n    }})\n  </h5>\n\n  <div class=\"ml-auto m-2\">\n    <button\n      rx-id=\"close-button\"\n      size=\"small\"\n      adapt-button\n      type=\"button\"\n      rx-id=\"close-button\"\n      (click)=\"close()\"\n      btn-type=\"secondary\"\n    >\n      {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n    </button>\n  </div>\n</div>\n<div>\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"tertiary\"\n    class=\"d-icon-left-plus_circle\"\n    rx-id=\"new-button\"\n    [disabled]=\"this.recordDefinition?.isAuditRecordDefinition || isCustomRecordDefinition\"\n    (click)=\"createRecord()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.new.label' | translate }}\n  </button>\n</div>\n\n<rx-record-grid rx-id=\"data-editor-grid\" #dataEditorGrid [config]=\"dataEditorGridConfig$\"></rx-record-grid>\n\n<ng-template #displayIdColumnTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div class=\"rx-ellipsis\">\n    <a href=\"javascript:void(0)\" (click)=\"editRecord(dataItem['$ID$'])\">\n      {{ dataItem[1] }}\n    </a>\n  </div>\n</ng-template>\n","export const AX_DESIGNER_FRAME = {\n  designerPageTitleKeys: {\n    association: 'com.bmc.arsys.rx.client.association-designer.title',\n    document: 'com.bmc.arsys.rx.client.document-designer.title',\n    chatbot: 'com.bmc.arsys.rx.client.chatbot-designer.title',\n    config: 'com.bmc.arsys.rx.client.config-designer.title',\n    event: 'com.bmc.arsys.rx.client.event-designer.title',\n    'event-statistics': 'com.bmc.arsys.rx.client.event-statistics-designer.title',\n    'named-list': 'com.bmc.arsys.rx.client.named-list-designer.title',\n    process: 'com.bmc.arsys.rx.client.process-designer.title',\n    record: 'com.bmc.arsys.rx.client.record-designer.title',\n    rule: 'com.bmc.arsys.rx.client.rule-designer.title',\n    view: 'com.bmc.arsys.rx.client.view-designer.title',\n    'web-api': 'com.bmc.arsys.rx.client.web-api-designer.title'\n  },\n  legacyDesignerNames: {\n    processPreview: 'process-preview',\n    chatWizard: 'chat-wizard',\n    recordDataEditor: 'record-data-editor'\n  },\n  designerModes: {\n    new: 'new',\n    edit: 'edit'\n  }\n};\n","import { HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Data, NavigationEnd, Params, Router } from '@angular/router';\nimport {\n  DefinitionType,\n  IComponentCanDeactivate,\n  IPlainObject,\n  RX_APPLICATION,\n  RX_DESIGNER,\n  RxComponentCanDeactivateGuard,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxPageTitleService,\n  RxPreviousStateService\n} from '@helix/platform/shared/api';\nimport { IIframeApi, RxIframeService } from '@helix/platform/shared/components';\nimport { RxUtilityModalsService } from '@helix/platform/ui-kit';\nimport { IWindowMessage, RxJsonParserService } from '@helix/platform/utils';\nimport { TranslateService } from '@ngx-translate/core';\nimport { capitalize, get, isEmpty, map as _map, noop } from 'lodash';\nimport { from, NEVER, ReplaySubject, Subscription, throwError } from 'rxjs';\nimport { filter, map, pairwise, startWith, switchMap, take, takeUntil, tap, withLatestFrom } from 'rxjs/operators';\nimport { AX_DESIGNER_FRAME } from './designer-frame.const';\nimport { RxGainsightConfiguratorService } from '@helix/platform/shared/components';\n\n@Component({\n  selector: 'ax-designer-frame',\n  templateUrl: './designer-frame.component.html',\n  styleUrls: ['./designer-frame.component.scss']\n})\nexport class DesignerFrameComponent implements OnInit, OnDestroy, IComponentCanDeactivate {\n  private iframeComponentApi: IIframeApi;\n  private currentBundleId: string;\n  private designerOptions: IPlainObject;\n  private isDefinitionDirty = false;\n  private intervalId;\n  private destroyed$ = new ReplaySubject(1);\n\n  busySubscription: Subscription;\n\n  constructor(\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxPageTitleService: RxPageTitleService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private translateService: TranslateService,\n    private rxComponentCanDeactivateGuard: RxComponentCanDeactivateGuard,\n    private rxUtilityModalsService: RxUtilityModalsService,\n    private rxIframeService: RxIframeService,\n    private rxJsonParserService: RxJsonParserService,\n    private rxPreviousStateService: RxPreviousStateService,\n    private rxGainsightConfiguratorService: RxGainsightConfiguratorService\n  ) {\n    this.designerOptions = get(this.router.getCurrentNavigation(), 'extras.state.designerOptions');\n\n    this.router.events\n      .pipe(\n        filter((event) => event instanceof NavigationEnd),\n        withLatestFrom(this.activatedRoute.data, (_, data) => data),\n        startWith(undefined),\n        pairwise<Data>(),\n        withLatestFrom(this.activatedRoute.params, this.activatedRoute.queryParams),\n        tap(([[prevData, nextData], params]) => {\n          if (\n            (prevData?.designerMode &&\n              nextData.designerMode &&\n              prevData.designerMode !== AX_DESIGNER_FRAME.designerModes.new &&\n              nextData.designerMode !== AX_DESIGNER_FRAME.designerModes.edit) ||\n            prevData?.definitionType !== nextData.definitionType\n          ) {\n            this.intervalId = setInterval(noop, 100000);\n            this.busySubscription = NEVER.subscribe();\n          }\n\n          this.currentBundleId =\n            params.bundleId ||\n            this.rxDefinitionNameService.getBundleId(params.definitionName) ||\n            this.activatedRoute.parent.snapshot.data.defaultBundleId;\n\n          this.setPageTitle(\n            this.currentBundleId,\n            this.activatedRoute.parent.snapshot.data.definitionType,\n            this.activatedRoute.snapshot.data.legacyDesignerName,\n            params.definitionName\n          );\n        }),\n        map(([_, params, queryParams]) =>\n          this.buildDesignerUrl(\n            this.currentBundleId,\n            this.activatedRoute.parent.snapshot.data.definitionType,\n            this.activatedRoute.snapshot.data.legacyDesignerName,\n            params,\n            queryParams\n          )\n        ),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe((url) => {\n        this.rxIframeService.showIframe(url);\n\n        this.iframeComponentApi = this.rxIframeService.getIframeApi();\n      });\n  }\n\n  ngOnInit() {\n    this.rxComponentCanDeactivateGuard.setPageComponent(this);\n\n    this.rxGainsightConfiguratorService.updateGlobalContext({\n      subProductLevel1: {\n        name: 'Design'\n      },\n      subProductLevel2: {\n        name: `${capitalize(this.activatedRoute.snapshot.data.definitionType)} designer`\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.rxComponentCanDeactivateGuard.setPageComponent(null);\n\n    this.destroyed$.next();\n    this.destroyed$.complete();\n\n    this.rxIframeService.hideIframe();\n  }\n\n  canDeactivate(): boolean {\n    return !this.isDefinitionDirty;\n  }\n\n  confirmDeactivation(): Promise<boolean> {\n    return this.rxUtilityModalsService.confirmUnsavedChanges().then((isConfirmed) => {\n      if (isConfirmed) {\n        this.isDefinitionDirty = false;\n      }\n\n      return isConfirmed;\n    });\n  }\n\n  @HostListener('window:message', ['$event'])\n  onMessage(event: MessageEvent): void {\n    const windowMessage = this.rxJsonParserService.tryParseJson<IWindowMessage>(event.data);\n\n    switch (windowMessage?.messageType) {\n      case RX_DESIGNER.messageTypes.designerLoaded: {\n        this.busySubscription?.unsubscribe();\n        clearInterval(this.intervalId);\n\n        break;\n      }\n\n      case RX_DESIGNER.messageTypes.closeDesigner: {\n        if (\n          this.activatedRoute.parent.snapshot.data.definitionType === 'shell' ||\n          this.activatedRoute.snapshot.data.legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.processPreview\n        ) {\n          this.rxPreviousStateService.goToPrevState();\n        } else if (\n          this.activatedRoute.snapshot.data.legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.chatWizard\n        ) {\n          this.router.navigate([RX_APPLICATION.innovationStudioBundleId, this.activatedRoute.snapshot.params.bundleId]);\n        } else {\n          this.router.navigate([\n            RX_APPLICATION.innovationStudioBundleId,\n            this.currentBundleId,\n            `${this.activatedRoute.parent.snapshot.data.definitionType}-definitions`\n          ]);\n        }\n\n        break;\n      }\n\n      case RX_DESIGNER.messageTypes.afterSave: {\n        if (!windowMessage.payload.isEditMode) {\n          this.router.navigate(['edit', windowMessage.payload.definitionName], {\n            relativeTo: this.activatedRoute.parent\n          });\n        }\n\n        this.isDefinitionDirty = false;\n\n        break;\n      }\n\n      case RX_DESIGNER.messageTypes.waitingForDesignerOptions: {\n        this.iframeComponentApi.postMessageToFrame({\n          messageType: 'designerOptions',\n          payload: this.designerOptions\n        });\n\n        break;\n      }\n\n      case RX_DESIGNER.messageTypes.designerLoadFailed: {\n        this.busySubscription?.unsubscribe();\n        clearInterval(this.intervalId);\n\n        from(\n          this.router.navigate([\n            RX_APPLICATION.innovationStudioBundleId,\n            this.currentBundleId,\n            `${this.activatedRoute.parent.snapshot.data.definitionType}-definitions`\n          ])\n        )\n          .pipe(\n            switchMap(() => {\n              const err = windowMessage.payload.err;\n\n              return throwError(\n                new HttpErrorResponse({\n                  error: err.data,\n                  headers: new HttpHeaders(err.config.headers),\n                  status: err.status,\n                  statusText: err.statusText,\n                  url: err.config.url\n                })\n              );\n            })\n          )\n          .subscribe();\n\n        break;\n      }\n\n      case RX_DESIGNER.messageTypes.definitionStatusChanged: {\n        this.isDefinitionDirty = windowMessage.payload.isDirty;\n\n        break;\n      }\n    }\n  }\n\n  private buildDesignerUrl(\n    bundleId: string,\n    type: DefinitionType,\n    legacyDesignerName: string,\n    params: Params,\n    queryParams: Params\n  ): string {\n    const { definitionName, instanceId } = params;\n\n    const debugOptions = window['rx'].logger.getCategories();\n    const queryString = debugOptions.length ? `?debug=${debugOptions.join(',')}` : '';\n\n    const baseInnovationStudioUrl = `/${RX_APPLICATION.innovationStudioBundleId}/index.html${queryString}#`;\n\n    if (legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.processPreview) {\n      return `${baseInnovationStudioUrl}/app/bundle/${bundleId}/iprocess-instance/view/${definitionName}/${instanceId}`;\n    } else if (legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.chatWizard) {\n      return `${baseInnovationStudioUrl}/app/bundle/${bundleId}/enable-chat-for-service`;\n    } else if (legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.recordDataEditor) {\n      return `${baseInnovationStudioUrl}/app/bundle/${bundleId}/irecord-data-editor/${definitionName}`;\n    } else if (type === 'shell') {\n      return `${baseInnovationStudioUrl}/app/bundle/${bundleId}/ishell/config`;\n    } else {\n      let baseUrl = `${baseInnovationStudioUrl}/app/bundle/${bundleId}/i${type}/${definitionName || ''}`;\n\n      if (!isEmpty(queryParams)) {\n        const queryParamsString = _map(\n          queryParams,\n          (value, name) => `${encodeURIComponent(name)}=${encodeURIComponent(value)}`\n        ).join('&');\n\n        baseUrl += `?${queryParamsString}`;\n      }\n\n      return this.designerOptions ? `${baseUrl}?waitForDesignerOptions=true` : baseUrl;\n    }\n  }\n\n  private setPageTitle(bundleId: string, type: string, legacyDesignerName: string, definitionName: string): void {\n    this.rxGlobalCacheService\n      .getBundleFriendlyName(bundleId)\n      .pipe(take(1))\n      .subscribe((bundleFriendlyName) => {\n        if (legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.processPreview) {\n          this.rxPageTitleService.set(\n            [\n              this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.process-management.process-preview.title'\n              ),\n              bundleFriendlyName\n            ],\n            this.rxGlobalCacheService.applicationId\n          );\n        } else if (legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.recordDataEditor) {\n          this.rxPageTitleService.set(\n            [\n              this.rxDefinitionNameService.getDisplayName(definitionName),\n              this.translateService.instant('com.bmc.arsys.rx.client.data-editor.title'),\n              bundleFriendlyName\n            ],\n            this.rxGlobalCacheService.applicationId\n          );\n        } else if (legacyDesignerName === AX_DESIGNER_FRAME.legacyDesignerNames.chatWizard) {\n          this.rxPageTitleService.set(\n            [\n              this.translateService.instant('com.bmc.arsys.rx.innovation-studio.publish-chat-enabled-service.label'),\n              bundleFriendlyName\n            ],\n            RX_APPLICATION.innovationStudioBundleId\n          );\n        } else if (type === 'shell') {\n          this.rxPageTitleService.set(\n            [RX_APPLICATION.shellDefinitionName, bundleFriendlyName],\n            RX_APPLICATION.innovationStudioBundleId\n          );\n        } else {\n          this.rxPageTitleService.set(\n            [\n              definitionName\n                ? this.rxDefinitionNameService.getDisplayName(definitionName)\n                : this.translateService.instant('com.bmc.arsys.rx.client.create-new.title'),\n              this.translateService.instant(AX_DESIGNER_FRAME.designerPageTitleKeys[type]),\n              bundleFriendlyName\n            ],\n            this.rxGlobalCacheService.applicationId\n          );\n        }\n      });\n  }\n}\n","<rx-busy-indicator [options]=\"{ busy: busySubscription }\"></rx-busy-indicator>\n","import moment from 'moment-es6';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { AX_PROCESS_DEFINITION_TAB } from '../process-definition-tab/process-definition-tab.constant';\n\nconst processInstanceGridColumns = {\n  status: {\n    title: 'com.bmc.arsys.rx.innovation-studio.process-management.grid-column.status.label',\n    fieldId: 'status',\n    visible: false,\n    filterable: false,\n    searchable: false,\n    sortable: true\n  },\n  contextKey: {\n    title: 'com.bmc.arsys.rx.innovation-studio.process-management.grid-column.context-key.label',\n    fieldId: 'contextKey',\n    searchable: false,\n    sortable: false\n  },\n  instanceId: {\n    title: 'com.bmc.arsys.rx.innovation-studio.process-management.grid-column.process-id.label',\n    fieldId: 'instanceId',\n    filterable: false,\n    searchable: true,\n    sortable: true\n  },\n  processDefinitionName: {\n    title: 'com.bmc.arsys.rx.client.common.process-definition.label',\n    fieldId: 'processDefinitionName',\n    searchable: false,\n    filterable: false,\n    sortable: true\n  },\n  owner: {\n    title: 'com.bmc.arsys.rx.innovation-studio.process-management.grid-column.owner.label',\n    fieldId: 'owner',\n    searchable: false,\n    sortable: true\n  },\n  startTime: {\n    title: 'com.bmc.arsys.rx.innovation-studio.process-management.grid-column.start-time.label',\n    fieldId: 'startTime',\n    searchable: false,\n    filterable: false,\n    sortable: true\n  },\n  endTime: {\n    title: 'com.bmc.arsys.rx.innovation-studio.process-management.grid-column.completed-time.label',\n    fieldId: 'endTime',\n    searchable: false,\n    filterable: false,\n    sortable: true\n  },\n  isStartInstanceError: {\n    title: 'com.bmc.arsys.rx.innovation-studio.process-management.grid-column.process-start-error.label',\n    fieldId: 'isStartInstanceError',\n    searchable: false,\n    filterable: false,\n    sortable: true\n  }\n};\n\nconst fieldDefinitions = {\n  status: {\n    id: processInstanceGridColumns.status.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n  },\n  processDefinitionName: {\n    id: processInstanceGridColumns.processDefinitionName.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n  },\n  startTime: {\n    id: processInstanceGridColumns.startTime.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n  },\n  endTime: {\n    id: processInstanceGridColumns.endTime.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n  },\n  contextKey: {\n    id: processInstanceGridColumns.contextKey.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n  },\n  instanceId: {\n    id: processInstanceGridColumns.instanceId.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n  },\n  owner: {\n    id: processInstanceGridColumns.owner.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n  },\n  isStartInstanceError: {\n    id: processInstanceGridColumns.isStartInstanceError.fieldId,\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.boolean\n  }\n};\n\nexport const AX_PROCESS_MANAGEMENT = {\n  statusTabs: {\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active]: {\n      title: 'com.bmc.arsys.rx.innovation-studio.process-management.status.active.label',\n      badgeType: 'primary',\n      status: AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active,\n      guid: 'rx-process-management-grid-active',\n      gridColumns: [\n        processInstanceGridColumns.contextKey,\n        processInstanceGridColumns.instanceId,\n        processInstanceGridColumns.processDefinitionName,\n        processInstanceGridColumns.owner,\n        processInstanceGridColumns.startTime,\n        processInstanceGridColumns.status\n      ],\n      fieldDefinitions: [\n        fieldDefinitions.contextKey,\n        fieldDefinitions.instanceId,\n        fieldDefinitions.processDefinitionName,\n        fieldDefinitions.owner,\n        fieldDefinitions.startTime,\n        fieldDefinitions.status\n      ]\n    },\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.suspended]: {\n      title: 'com.bmc.arsys.rx.innovation-studio.process-management.status.suspended.label',\n      badgeType: 'warning',\n      status: AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.suspended,\n      guid: 'rx-process-management-grid-suspended',\n      gridColumns: [\n        processInstanceGridColumns.contextKey,\n        processInstanceGridColumns.instanceId,\n        processInstanceGridColumns.processDefinitionName,\n        processInstanceGridColumns.owner,\n        processInstanceGridColumns.startTime,\n        processInstanceGridColumns.status\n      ],\n      fieldDefinitions: [\n        fieldDefinitions.contextKey,\n        fieldDefinitions.instanceId,\n        fieldDefinitions.processDefinitionName,\n        fieldDefinitions.owner,\n        fieldDefinitions.startTime,\n        fieldDefinitions.status\n      ]\n    },\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.errored]: {\n      title: 'com.bmc.arsys.rx.innovation-studio.process-management.status.errored.label',\n      badgeType: 'danger',\n      status: AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.errored,\n      guid: 'rx-process-management-grid-errored',\n      gridColumns: [\n        processInstanceGridColumns.contextKey,\n        processInstanceGridColumns.instanceId,\n        processInstanceGridColumns.processDefinitionName,\n        processInstanceGridColumns.owner,\n        processInstanceGridColumns.startTime,\n        processInstanceGridColumns.isStartInstanceError,\n        processInstanceGridColumns.status\n      ],\n      fieldDefinitions: [\n        fieldDefinitions.contextKey,\n        fieldDefinitions.instanceId,\n        fieldDefinitions.processDefinitionName,\n        fieldDefinitions.owner,\n        fieldDefinitions.startTime,\n        fieldDefinitions.isStartInstanceError,\n        fieldDefinitions.status\n      ]\n    },\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.completed]: {\n      title: 'com.bmc.arsys.rx.innovation-studio.process-management.status.completed.label',\n      badgeType: 'success',\n      status: AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.completed,\n      guid: 'rx-process-management-grid-completed',\n      gridColumns: [\n        processInstanceGridColumns.contextKey,\n        processInstanceGridColumns.instanceId,\n        processInstanceGridColumns.processDefinitionName,\n        processInstanceGridColumns.owner,\n        processInstanceGridColumns.startTime,\n        processInstanceGridColumns.endTime,\n        processInstanceGridColumns.status\n      ],\n      fieldDefinitions: [\n        fieldDefinitions.contextKey,\n        fieldDefinitions.instanceId,\n        fieldDefinitions.processDefinitionName,\n        fieldDefinitions.owner,\n        fieldDefinitions.startTime,\n        fieldDefinitions.endTime,\n        fieldDefinitions.status\n      ]\n    }\n  },\n  timeframes: [\n    {\n      id: '$LASTHOUR$',\n      label: 'com.bmc.arsys.rx.innovation-studio.process-management.timeframe.last-hour.label',\n      value: moment.duration(1, 'hour')\n    },\n    {\n      id: '$LASTDAY$',\n      label: 'com.bmc.arsys.rx.innovation-studio.process-management.timeframe.last-day.label',\n      value: moment.duration(1, 'day')\n    },\n    {\n      id: '$LASTWEEK$',\n      label: 'com.bmc.arsys.rx.innovation-studio.process-management.timeframe.last-week.label',\n      value: moment.duration(1, 'week')\n    },\n    {\n      id: '$LASTMONTH$',\n      label: 'com.bmc.arsys.rx.innovation-studio.process-management.timeframe.last-month.label',\n      value: moment.duration(1, 'month')\n    },\n    {\n      id: '$LASTTHREEMONTHS$',\n      label: 'com.bmc.arsys.rx.innovation-studio.process-management.timeframe.last-three-months.label',\n      value: moment.duration(3, 'month')\n    }\n  ],\n  processInstanceGridColumns\n};\n","import { Component, ViewChild } from '@angular/core';\nimport { ActiveModalRef } from '@bmc-ux/adapt-angular';\nimport { Observable, of } from 'rxjs';\nimport { IProcessDesignerConfiguration, RxProcessPreviewComponent } from '@helix/platform/process/components';\n\n@Component({\n  selector: 'ax-process-preview-modal',\n  templateUrl: './process-preview-modal.component.html',\n  styleUrls: ['./process-preview-modal.component.scss']\n})\nexport class ProcessPreviewModalComponent {\n  processDefinitionName: string;\n  isRunButtonDisabled: boolean;\n  processPreviewConfiguration$: Observable<IProcessDesignerConfiguration>;\n\n  @ViewChild('processPreview', { static: true })\n  processPreview: RxProcessPreviewComponent;\n\n  constructor(public activeModalRef: ActiveModalRef) {\n    this.processDefinitionName = this.activeModalRef.getData().processDefinitionName;\n    this.isRunButtonDisabled = this.activeModalRef.getData().allowRun;\n    this.processPreviewConfiguration$ = of({ processDefinitionName: this.processDefinitionName, zoomToFit: true });\n  }\n\n  zoomIn(): void {\n    this.processPreview.zoomIn();\n  }\n\n  zoomOut(): void {\n    this.processPreview.zoomOut();\n  }\n}\n","<div>\n  <div class=\"canvas-toolbar\">\n    <button adapt-button type=\"button\" class=\"zoom-in\" (click)=\"zoomIn()\">\n      <span class=\"d-icon-search_plus\"></span>\n    </button>\n\n    <button adapt-button type=\"button\" class=\"zoom-out\" (click)=\"zoomOut()\">\n      <span class=\"d-icon-search_minus\"></span>\n    </button>\n  </div>\n  <rx-process-preview #processPreview [config]=\"processPreviewConfiguration$\"></rx-process-preview>\n</div>\n\n<div class=\"modal-footer d-flex w-100\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    rx-id=\"ok-button\"\n    (click)=\"activeModalRef.close()\"\n    [disabled]=\"isRunButtonDisabled\"\n  >\n    {{ 'com.bmc.arsys.rx.innovation-studio.process-management.run-process.button.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"cancel-button\"\n    (click)=\"activeModalRef.dismiss()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { forEach, map as _map } from 'lodash';\n\nimport { RxNumberUtilsService } from '@helix/platform/utils';\nimport { IPlainObject } from '@helix/platform/shared/api';\nimport {\n  AttachmentFormControlComponent,\n  BooleanFormControlComponent,\n  CounterFormControlComponent,\n  DateFormControlComponent,\n  DateTimeFormControlComponent,\n  InputListFormControlComponent,\n  RecordInstanceFormControlComponent,\n  SelectFormControlComponent,\n  TextFormControlComponent,\n  TimeFormControlComponent\n} from '@helix/platform/shared/components';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IFieldDefinitionLight,\n  IListFieldDefinitionLight,\n  ISelectionFieldDefinitionLight,\n  RX_PROCESS_DEFINITION\n} from '@helix/platform/process/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProcessManagementService {\n  constructor(private rxNumberUtilsService: RxNumberUtilsService) {}\n\n  buildInputParamsControls(inputParams: IFieldDefinitionLight[]): IPlainObject[] {\n    const propertyControls: IPlainObject[] = [];\n\n    forEach(inputParams, (inputParam) => {\n      const config: IPlainObject = {\n        name: inputParam.name,\n        options: {\n          label: inputParam.name,\n          required: inputParam.fieldOption === 'REQUIRED'\n        },\n        defaultValue: inputParam.defaultValue || null,\n        dataType: inputParam.resourceType,\n        validators: []\n      };\n\n      if (config.options.required) {\n        config.validators.push(Validators.required);\n      }\n\n      switch (inputParam.resourceType) {\n        case RX_RECORD_DEFINITION.resourceTypes.selection: {\n          const selectionInputParam = inputParam as ISelectionFieldDefinitionLight;\n\n          config.component = SelectFormControlComponent;\n\n          config.options = {\n            ...config.options,\n            options: _map(selectionInputParam.optionNamesById, (value, key) => ({\n              id: key,\n              name: value\n            })),\n            emptyOption: !config.options.required\n          };\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.recordInstance: {\n          config.component = RecordInstanceFormControlComponent;\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.character: {\n          config.component = TextFormControlComponent;\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.boolean: {\n          config.component = BooleanFormControlComponent;\n          config.options.label = '';\n          config.options.description = inputParam.name;\n          config.options.shouldDisplayAsCheckbox = config.options.required;\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.decimal:\n        case RX_RECORD_DEFINITION.resourceTypes.integer:\n        case RX_RECORD_DEFINITION.resourceTypes.real: {\n          config.component = CounterFormControlComponent;\n          config.options.allowIntegerOnly = inputParam.resourceType === RX_RECORD_DEFINITION.resourceTypes.integer;\n\n          if (this.rxNumberUtilsService.isFiniteNumberString(inputParam.defaultValue)) {\n            config.defaultValue = Number(inputParam.defaultValue);\n          }\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.dateOnly: {\n          config.component = DateFormControlComponent;\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.dateTime: {\n          config.component = DateTimeFormControlComponent;\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.timeOnly: {\n          config.component = TimeFormControlComponent;\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.attachment: {\n          config.component = AttachmentFormControlComponent;\n          break;\n        }\n\n        case RX_RECORD_DEFINITION.resourceTypes.list: {\n          const listInputParam = inputParam as IListFieldDefinitionLight;\n\n          if (listInputParam.subType === RX_PROCESS_DEFINITION.processVariableSubTypes.attachment) {\n            config.component = AttachmentFormControlComponent;\n            config.options.filesCount = '1000';\n          } else {\n            config.component = InputListFormControlComponent;\n          }\n          break;\n        }\n\n        default: {\n          config.component = TextFormControlComponent;\n          break;\n        }\n      }\n      propertyControls.push(config);\n    });\n\n    return propertyControls;\n  }\n\n  buildInputParamsModel(inputParams: IFieldDefinitionLight[]): IPlainObject {\n    const propertyModel: IPlainObject = {};\n\n    forEach(inputParams, (inputParam) => {\n      if (inputParam.resourceType === RX_RECORD_DEFINITION.resourceTypes.boolean) {\n        if (inputParam.defaultValue === '1') {\n          propertyModel[inputParam.name] = true;\n        } else if (inputParam.defaultValue === '0') {\n          propertyModel[inputParam.name] = false;\n        } else {\n          propertyModel[inputParam.name] = inputParam.defaultValue;\n        }\n      } else {\n        propertyModel[inputParam.name] = inputParam.defaultValue ?? null;\n      }\n    });\n\n    return propertyModel;\n  }\n}\n","import { Component } from '@angular/core';\nimport { DockedPanelContext } from '@bmc-ux/adapt-angular';\nimport { IPlainObject } from '@helix/platform/shared/api';\nimport { ProcessManagementService } from '../process-management.service';\nimport { isEmpty, has, isNull, isUndefined, includes } from 'lodash';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\n\n@Component({\n  selector: 'ax-process-run-modal',\n  templateUrl: './process-run-modal.component.html'\n})\nexport class ProcessRunModalComponent {\n  inputParamsModel: IPlainObject;\n  inputParamsControls: IPlainObject[];\n\n  constructor(public context: DockedPanelContext, private manageProcessesService: ProcessManagementService) {\n    this.inputParamsControls = this.manageProcessesService.buildInputParamsControls(context.getData().inputParams);\n    this.inputParamsModel = this.manageProcessesService.buildInputParamsModel(context.getData().inputParams);\n  }\n\n  onModelChange(model: IPlainObject): void {\n    this.inputParamsModel = {\n      ...this.inputParamsModel,\n      ...model\n    };\n  }\n\n  startProcess(): void {\n    this.onBeforeStart();\n    this.context.close(this.inputParamsModel);\n  }\n\n  isRunButtonDisabled(): boolean {\n    let isDisabled = false;\n\n    this.inputParamsControls\n      .filter((param) => param.options.required)\n      .map((param) => {\n        const value = this.inputParamsModel[param.name];\n\n        switch (param.dataType) {\n        case RX_RECORD_DEFINITION.resourceTypes.character:\n        case RX_RECORD_DEFINITION.resourceTypes.object:\n          if (isEmpty(value) || value?.trim().length === 0) {\n            isDisabled = true;\n          }\n          break;\n\n        case RX_RECORD_DEFINITION.resourceTypes.recordInstance:\n          if (\n            isEmpty(value) ||\n              !has(value, 'id') ||\n              !has(value, 'recordDefinitionName') ||\n              isEmpty(value.id) ||\n              isEmpty(value.recordDefinitionName)\n          ) {\n            isDisabled = true;\n          }\n          break;\n\n        default:\n          if (isNull(value) || isUndefined(value)) {\n            isDisabled = true;\n          }\n          break;\n        }\n      });\n\n    return isDisabled;\n  }\n\n  private onBeforeStart(): void {\n    this.inputParamsControls.map((param) => {\n      const value = this.inputParamsModel[param.name];\n\n      switch (param.dataType) {\n      case RX_RECORD_DEFINITION.resourceTypes.boolean: {\n        if (value === true) {\n          this.inputParamsModel[param.name] = '1';\n        } else if (value === false) {\n          this.inputParamsModel[param.name] = '0';\n        } else {\n          this.inputParamsModel[param.name] = value;\n        }\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.resourceTypes.decimal:\n      case RX_RECORD_DEFINITION.resourceTypes.integer:\n      case RX_RECORD_DEFINITION.resourceTypes.real: {\n        this.inputParamsModel[param.name] = value?.toString() || null;\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.resourceTypes.character: {\n        this.inputParamsModel[param.name] = value?.trim();\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.resourceTypes.object: {\n        this.inputParamsModel[param.name] = value?.trim() || null;\n\n        break;\n      }\n      }\n    });\n  }\n}\n","<div class=\"modal-body\">\n  <rx-form-builder\n    *ngIf=\"inputParamsControls.length > 0\"\n    [config]=\"[{ controls: inputParamsControls }]\"\n    [model]=\"inputParamsModel\"\n    (modelChange)=\"onModelChange($event)\"\n  ></rx-form-builder>\n\n  <span *ngIf=\"inputParamsControls.length === 0\">{{\n    'com.bmc.arsys.rx.innovation-studio.process-management.run-process.no-input-params.label' | translate\n  }}</span>\n</div>\n\n<div class=\"modal-footer d-flex w-100\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    rx-id=\"ok-button\"\n    [disabled]=\"isRunButtonDisabled()\"\n    (click)=\"startProcess()\"\n  >\n    {{ 'com.bmc.arsys.rx.innovation-studio.process-management.run-process.button.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    (click)=\"context.dismiss(0)\"\n    rx-id=\"cancel-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Component, NgZone } from '@angular/core';\nimport { ActiveModalRef } from '@bmc-ux/adapt-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { saveAs } from 'file-saver';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { RxProcessInstanceService } from '@helix/platform/process/api';\n\n@Component({\n  selector: 'ax-process-view-log-modal',\n  templateUrl: './process-view-log-modal.component.html',\n  styleUrls: ['./process-view-log-modal.component.scss']\n})\nexport class ProcessViewLogModalComponent {\n  logs: string;\n\n  emptyStateLabel = this.translateService.instant(\n    'com.bmc.arsys.rx.innovation-studio.process-management.view-log.modal.no-log.label'\n  );\n\n  constructor(\n    public activeModalRef: ActiveModalRef,\n    public translateService: TranslateService,\n    private ngZone: NgZone,\n    private rxNotificationService: RxNotificationService,\n    private rxProcessInstanceService: RxProcessInstanceService\n  ) {\n    this.logs = this.activeModalRef.getData().logContent;\n  }\n\n  downloadLog(): void {\n    this.rxProcessInstanceService\n      .downloadLog(this.activeModalRef.getData().processDefinitionName, this.activeModalRef.getData().instanceId)\n      .subscribe((fileStream) => {\n        if (fileStream?.size > 0) {\n          const file = new Blob([fileStream], {\n            type: fileStream.type\n          });\n\n          this.ngZone.runOutsideAngular(() => {\n            saveAs(file, 'process.log');\n          });\n        } else {\n          this.rxNotificationService.addInfoMessage(\n            this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.process-management.view-log.modal.no-log.label'\n            ),\n            ''\n          );\n        }\n      });\n  }\n}\n","<div class=\"modal-body\">\n  <textarea class=\"form-control\" readonly *ngIf=\"this.logs\">{{ logs }}</textarea>\n  <adapt-empty-state [type]=\"'config'\" [label]=\"emptyStateLabel\" *ngIf=\"!this.logs\"> </adapt-empty-state>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    rx-id=\"download-log-button\"\n    *ngIf=\"this.logs\"\n    (click)=\"downloadLog()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.download.label' | translate }}\n  </button>\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"close-button\"\n    (click)=\"activeModalRef.dismiss()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n  </button>\n</div>\n","import {\n  Component,\n  ErrorHandler,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  ActiveTabChangeEvent,\n  AdaptDockedPanelService,\n  AdaptModalService,\n  DismissReasons,\n  RxSelectOption,\n  SelectTexts\n} from '@bmc-ux/adapt-angular';\nimport {\n  BehaviorSubject,\n  combineLatest,\n  forkJoin,\n  from,\n  NEVER,\n  Observable,\n  of,\n  ReplaySubject,\n  Subject,\n  Subscription,\n  throwError\n} from 'rxjs';\nimport { catchError, finalize, map, pluck, shareReplay, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport {\n  castArray,\n  find,\n  findIndex,\n  forOwn,\n  head,\n  isEmpty,\n  mapValues,\n  noop,\n  omit,\n  pickBy,\n  remove,\n  some,\n  transform\n} from 'lodash';\nimport { saveAs } from 'file-saver';\nimport moment from 'moment-es6';\n\nimport { IBreadcrumbItem, IPromptResponse, RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport {\n  IBundleDescriptor,\n  IBundleInfo,\n  IDataPageResult,\n  IPlainObject,\n  RX_APPLICATION,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxNotificationService,\n  RxPageTitleService,\n  RxPreviousStateService,\n  RxSessionExpirationService,\n  RxSystemConfigurationService\n} from '@helix/platform/shared/api';\nimport { RxGainsightConfiguratorService } from '@helix/platform/shared/components';\nimport { OpenViewActionModalSize } from '@helix/platform/view/api';\nimport {\n  IRecordGridActionButton,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IProcessDefinition,\n  RxProcessDefinitionDataPageService,\n  RxProcessDefinitionService,\n  RxProcessInstanceCountsByStatusDataPageService,\n  RxProcessInstanceDataPageService,\n  RxProcessInstanceService\n} from '@helix/platform/process/api';\n\nimport { AX_PROCESS_DEFINITION_TAB } from '../process-definition-tab/process-definition-tab.constant';\n\nimport { AX_PROCESS_MANAGEMENT } from './process-management.constant';\nimport {\n  IProcessActionButtonsState,\n  IProcessInstanceStatusCounts,\n  IProcessManagementModel\n} from './process-management.interface';\nimport { ProcessPreviewModalComponent } from './process-preview-modal/process-preview-modal.component';\nimport { ProcessRunModalComponent } from './process-run-modal/process-run-modal.component';\nimport { ProcessViewLogModalComponent } from './process-view-log-modal/process-view-log-modal.component';\n\n@Component({\n  selector: 'ax-process-management',\n  templateUrl: './process-management.component.html',\n  styleUrls: ['./process-management.component.scss']\n})\nexport class ProcessManagementComponent implements OnInit, OnDestroy {\n  @ViewChild('contextKeyCellTemplate', { static: true })\n  contextKeyCellTemplate: TemplateRef<any>;\n\n  @ViewChild('processDefinitionCellTemplate', { static: true })\n  processDefinitionCellTemplate: TemplateRef<any>;\n\n  @ViewChildren(RecordGridComponent)\n  recordGrids: QueryList<RecordGridComponent>;\n\n  activeTabIndex: number;\n  selectedProcess: RxSelectOption;\n\n  activatedTabs = {\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active]: false,\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.suspended]: false,\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.errored]: false,\n    [AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.completed]: false\n  };\n\n  busySubscription: Subscription = NEVER.subscribe();\n  innovationStudioBundleId = RX_APPLICATION.innovationStudioBundleId;\n\n  processInstanceStatuses = [\n    AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active,\n    AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.suspended,\n    AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.errored,\n    AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.completed\n  ];\n\n  selectedTimeframe: RxSelectOption = [];\n\n  tabs = mapValues(AX_PROCESS_MANAGEMENT.statusTabs, (tab) => ({\n    ...tab,\n    title: this.translateService.instant(tab.title)\n  }));\n\n  texts: SelectTexts = {\n    searchPlaceholder: this.translateService.instant('com.bmc.arsys.rx.client.common.search.label')\n  };\n\n  timeframes = AX_PROCESS_MANAGEMENT.timeframes.map((timeframe) => ({\n    ...timeframe,\n    label: this.translateService.instant(timeframe.label)\n  }));\n\n  private activeTabStatus = AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active;\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private refreshProcessInstanceCountsSubject = new Subject<boolean>();\n  private refreshProcessDataSubject = new BehaviorSubject<boolean>(true);\n\n  private breadcrumbItems$: Observable<IBreadcrumbItem[]> = combineLatest([\n    this.refreshProcessInstanceCountsSubject,\n    this.refreshProcessDataSubject\n  ]).pipe(\n    map(() => {\n      const breadcrumbItems: IBreadcrumbItem[] = [\n        {\n          data: {},\n          label: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.manage-processes.menu.label')\n        }\n      ];\n\n      if (this.selectedProcess && this.selectedProcess[0].data.name) {\n        breadcrumbItems.push({\n          label: this.rxDefinitionNameService.getDisplayName(this.selectedProcess[0].data.name),\n          data: {}\n        });\n      }\n\n      return breadcrumbItems;\n    })\n  );\n\n  private bundleId$ = this.activatedRoute.params.pipe(pluck('bundleId'), shareReplay(1));\n\n  private bundleDescriptor$: Observable<IBundleDescriptor> = this.bundleId$.pipe(\n    switchMap((bundleId) => this.rxGlobalCacheService.getBundleDescriptor(bundleId))\n  );\n\n  private isProcessHistoryEnabled$ = this.rxSystemConfigurationService.getConfiguration('Process-History-Level').pipe(\n    take(1),\n    map((processHistoryLevel) => processHistoryLevel.value !== 0),\n    shareReplay(1)\n  );\n\n  private processActionButtonsState$: Observable<IProcessActionButtonsState> = combineLatest([\n    this.refreshProcessInstanceCountsSubject,\n    this.refreshProcessDataSubject\n  ]).pipe(\n    switchMap(() =>\n      of({\n        isRunButtonDisabled: !this.selectedProcess || !(<IProcessDefinition>this.selectedProcess[0].data).isEnabled,\n        isViewButtonDisabled: !this.selectedProcess || isEmpty(this.selectedProcess[0].data.name)\n      })\n    )\n  );\n\n  private processDefinitionOptions$ = this.bundleId$.pipe(\n    switchMap((bundleId) =>\n      combineLatest([\n        this.activatedRoute.queryParams.pipe(pluck('definitionName')),\n        this.getProcessDefinitions(bundleId)\n      ]).pipe(\n        map(([processDefinitionName, processDefinitions]: [string, IDataPageResult]) => {\n          processDefinitionName = processDefinitionName || '';\n\n          const options: RxSelectOption[] = processDefinitions.data.map((processDefinition: IProcessDefinition) => ({\n            label: this.rxDefinitionNameService.getDisplayName(processDefinition.name),\n            data: processDefinition\n          }));\n\n          options.unshift({\n            label: this.translateService.instant(\n              'com.bmc.arsys.rx.innovation-studio.process-management.all-processes.label'\n            ),\n            data: { name: '' }\n          });\n\n          const processOption = options.find((option) => option.data.name === processDefinitionName) ?? options[0];\n\n          this.resetProcessSelection(processOption);\n\n          this.refreshProcessInstanceCountsSubject.next();\n\n          return options;\n        })\n      )\n    )\n  );\n\n  private processInstanceCounts$ = this.refreshProcessInstanceCountsSubject.pipe(\n    switchMap(() => {\n      const queryParams = {\n        pageSize: -1,\n        startedAfter: moment().subtract(this.selectedTimeframe[0].value).toISOString()\n      };\n\n      const params = this.selectedProcess[0]?.data.name\n        ? { ...queryParams, processDefinitionName: this.selectedProcess[0].data.name }\n        : queryParams;\n\n      return this.rxProcessInstanceCountsByStatusDataPageService\n        .get({\n          params\n        })\n        .pipe(\n          map((response: IDataPageResult) => response.data[0]),\n          catchError((error) => {\n            this.errorHandler.handleError(error);\n\n            return of({ status: '', data: [] });\n          })\n        );\n    }),\n    map((result: { ERRORED: number; ACTIVE: number; SUSPENDED: number; COMPLETED: number }) =>\n      transform(result, (acc, status, key) => (acc[key] = status), {})\n    )\n  );\n\n  vm$: Observable<IProcessManagementModel> = combineLatest([\n    this.bundleDescriptor$,\n    this.processDefinitionOptions$,\n    this.isProcessHistoryEnabled$,\n    this.processInstanceCounts$,\n    this.processActionButtonsState$,\n    this.breadcrumbItems$\n  ]).pipe(\n    map(\n      ([\n        bundleDescriptor,\n        processDefinitionOptions,\n        isProcessHistoryEnabled,\n        processInstanceCounts,\n        processActionButtonsState,\n        breadcrumbItems\n      ]) => ({\n        bundleDescriptor,\n        processDefinitionOptions,\n        isProcessHistoryEnabled,\n        processInstanceCounts,\n        processActionButtonsState,\n        breadcrumbItems\n      })\n    ),\n    tap(() => {\n      this.busySubscription.unsubscribe();\n    }),\n    catchError((error) => {\n      const bundleDesc: IBundleInfo = { friendlyName: '', id: '' };\n      this.busySubscription.unsubscribe();\n\n      this.errorHandler.handleError(error);\n\n      return of({\n        bundleDescriptor: bundleDesc,\n        processDefinitionOptions: [],\n        isProcessHistoryEnabled: true,\n        processInstanceCounts: [0, 0, 0, 0],\n        processActionButtonsState: { isRunButtonDisabled: true, isViewButtonDisabled: true },\n        breadcrumbItems: []\n      });\n    })\n  );\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private adaptDockedPanelService: AdaptDockedPanelService,\n    private adaptModalService: AdaptModalService,\n    private errorHandler: ErrorHandler,\n    private ngZone: NgZone,\n    private router: Router,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxGainsightConfiguratorService: RxGainsightConfiguratorService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxModalService: RxModalService,\n    private rxNotificationService: RxNotificationService,\n    private rxPageTitleService: RxPageTitleService,\n    private rxPreviousStateService: RxPreviousStateService,\n    private rxProcessDefinitionDataPageService: RxProcessDefinitionDataPageService,\n    private rxProcessDefinitionService: RxProcessDefinitionService,\n    private rxProcessInstanceDataPageService: RxProcessInstanceDataPageService,\n    private rxProcessInstanceCountsByStatusDataPageService: RxProcessInstanceCountsByStatusDataPageService,\n    private rxProcessInstanceService: RxProcessInstanceService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private rxSystemConfigurationService: RxSystemConfigurationService,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.activatedRoute.params.pipe(pluck('bundleId'), take(1), takeUntil(this.destroyed$)).subscribe((bundleId) => {\n      this.rxBundleCacheService.bundleId = bundleId;\n      this.setPageTitle();\n    });\n\n    this.activatedRoute.queryParams.pipe(takeUntil(this.destroyed$)).subscribe((queryParams) => {\n      let newQueryParams = {};\n      const activeTabIndex = findIndex(this.processInstanceStatuses, (el) => el === queryParams.status);\n      const timeframe = find(this.timeframes, { id: queryParams.timeframe });\n\n      if (activeTabIndex !== -1) {\n        this.activeTabIndex = activeTabIndex;\n        this.activeTabStatus = queryParams.status;\n      } else {\n        newQueryParams = {\n          ...newQueryParams,\n          status: AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active\n        };\n      }\n\n      if (timeframe) {\n        this.selectedTimeframe = [timeframe];\n      } else {\n        newQueryParams = {\n          ...newQueryParams,\n          timeframe: head(this.timeframes).id\n        };\n      }\n\n      if (!isEmpty(newQueryParams)) {\n        this.router.navigate([], {\n          relativeTo: this.activatedRoute,\n          queryParams: newQueryParams,\n          queryParamsHandling: 'merge'\n        });\n      } else {\n        if (!this.activatedTabs[queryParams.status]) {\n          this.activatedTabs[queryParams.status] = true;\n        } else {\n          this.refreshData();\n        }\n      }\n    });\n\n    this.rxGainsightConfiguratorService.updateGlobalContext({\n      subProductLevel1: {\n        name: 'Design'\n      },\n      subProductLevel2: {\n        name: 'Manage processes'\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.refreshProcessDataSubject.complete();\n    this.refreshProcessInstanceCountsSubject.complete();\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n\n    this.rxGainsightConfiguratorService.removeGlobalContext(['subProductLevel2', 'subProductLevel3']);\n  }\n\n  close(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      this.rxBundleCacheService.bundleId,\n      'process-definitions'\n    ]);\n  }\n\n  getRecordGridConfig(status: string): Observable<IRecordGridConfig> {\n    return of({\n      enableFiltering: true,\n      columns: this.getGridColumns(status),\n      enableRowSelection: RowSelectionMode.Multiple,\n      getRecordDefinition: () => of(this.getRecordDefinition(status)),\n      recordIdField: AX_PROCESS_MANAGEMENT.processInstanceGridColumns.instanceId.fieldId,\n      actionButtons: this.getActionButtons(),\n      emptyStateLabelText: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.process-management.no-processes.label'\n      ),\n      guid: AX_PROCESS_MANAGEMENT.statusTabs[status].guid,\n      searchFieldPlaceholderText: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.process-management.search.placeholder'\n      ),\n      getData: (queryParams: IRecordGridDataPageParams) => {\n        remove(queryParams.propertySelection, (property) => property === String(RX_RECORD_DEFINITION.coreFieldIds.id));\n        this.refreshProcessInstanceCountsSubject.next(true);\n\n        return this.getProcessInstanceRuns(\n          {\n            ...omit(queryParams, ['shouldIncludeTotalSize', 'recorddefinition', 'searchText'])\n          },\n          this.tabs[status].status\n        );\n      },\n      styles: 'flex-fill'\n    });\n  }\n\n  onTimeframeChange(timeframe: { id: string }[]) {\n    this.router.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: {\n        timeframe: head(timeframe).id\n      },\n      queryParamsHandling: 'merge'\n    });\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.label;\n  }\n\n  previewProcess(allowRun: boolean): void {\n    this.adaptModalService\n      .open({\n        title: this.rxDefinitionNameService.getDisplayName(this.selectedProcess[0].data.name),\n        content: ProcessPreviewModalComponent,\n        data: {\n          processDefinitionName: this.selectedProcess[0].data.name,\n          allowRun\n        }\n      })\n      .then(() => {\n        this.runProcess();\n      })\n      .catch(noop);\n  }\n\n  refreshData(): void {\n    this.isProcessHistoryEnabled$.subscribe((isProcessHistoryEnabled) => {\n      if (isProcessHistoryEnabled) {\n        this.getCurrentGrid()?.api.refresh().subscribe();\n      } else {\n        this.refreshProcessDataSubject.next(true);\n      }\n\n      const processName = (this.selectedProcess && this.selectedProcess[0].data.name) || '';\n      const route = [RX_APPLICATION.innovationStudioBundleId, 'process', 'manage', this.rxBundleCacheService.bundleId];\n      const currentQueryParams = this.activatedRoute.snapshot.queryParams;\n\n      if (processName) {\n        this.router.navigate(route, { queryParams: { definitionName: processName }, queryParamsHandling: 'merge' });\n      } else {\n        this.router.navigate(route, { queryParams: omit(currentQueryParams, 'definitionName') });\n      }\n    });\n  }\n\n  resetProcessSelection(processDefinitionOption: RxSelectOption): void {\n    this.selectedProcess = [processDefinitionOption];\n    this.refreshData();\n  }\n\n  runProcess() {\n    this.rxProcessDefinitionService.getInputParams(this.selectedProcess[0].data.name).subscribe((inputParams) => {\n      from(\n        this.adaptDockedPanelService.open({\n          title: this.rxDefinitionNameService.getDisplayName(this.selectedProcess[0].data.name),\n          content: ProcessRunModalComponent,\n          size: 'lg',\n          data: { inputParams }\n        })\n      )\n        .pipe(\n          switchMap((inputValues: IPlainObject) => {\n            const hasAttachmentInputs = some(inputValues, (inputValue) =>\n              some(inputValue, (item) => item instanceof File)\n            );\n\n            if (hasAttachmentInputs) {\n              return this.runProcessWithAttachments(inputValues);\n            } else {\n              return this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.process.command.StartProcessInstanceCommand')\n                .execute({\n                  processDefinitionName: this.selectedProcess[0].data.name,\n                  processInputValues: inputValues\n                });\n            }\n          }),\n          tap(() => {\n            this.rxNotificationService.addSuccessMessage(\n              this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.process-management.run-process.success.message'\n              )\n            );\n\n            this.refreshData();\n          }),\n          catchError((error) => {\n            if (error !== DismissReasons.CLOSE_BTN) {\n              this.refreshData();\n            }\n\n            return throwError(error);\n          })\n        )\n        .subscribe();\n    });\n  }\n\n  tabChanged({ index }: ActiveTabChangeEvent): void {\n    this.activeTabStatus = this.processInstanceStatuses[index];\n\n    this.router.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: {\n        status: this.activeTabStatus\n      },\n      queryParamsHandling: 'merge'\n    });\n  }\n\n  private executeAction(command: string, reason?: string) {\n    const records = castArray(this.getCurrentGrid().api.getSelectedRows());\n\n    const actions$ = records.map((record) => {\n      const payload = {\n        processDefinitionName: record.processDefinitionName,\n        processInstanceId: record.instanceId\n      };\n\n      return this.rxCommandFactoryService\n        .forResourceType(command)\n        .execute(reason ? { ...payload, cancelReason: reason } : payload);\n    });\n\n    forkJoin(actions$)\n      .pipe(\n        finalize(() => {\n          this.refreshData();\n        })\n      )\n      .subscribe();\n  }\n\n  private getActionButtons(): IRecordGridActionButton[] {\n    return [\n      {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.process-management.suspend.button.label'\n        ),\n        style: 'tertiary',\n        iconCls: 'pause_circle_o',\n        hidden: () => this.isActionButtonDisabled(AX_PROCESS_DEFINITION_TAB.processInstanceActions.suspend),\n        actions: [\n          {\n            name: () => {\n              this.executeAction('com.bmc.arsys.rx.application.process.command.SuspendProcessInstanceCommand');\n            }\n          }\n        ]\n      },\n      {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.process-management.resume.button.label'\n        ),\n        style: 'tertiary',\n        iconCls: 'play_o',\n        hidden: () => this.isActionButtonDisabled(AX_PROCESS_DEFINITION_TAB.processInstanceActions.resume),\n        actions: [\n          {\n            name: () => {\n              this.executeAction('com.bmc.arsys.rx.application.process.command.ActivateProcessInstanceCommand');\n            }\n          }\n        ]\n      },\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.cancel.label'),\n        style: 'tertiary',\n        iconCls: 'cross_adapt',\n        hidden: () => this.isActionButtonDisabled(AX_PROCESS_DEFINITION_TAB.processInstanceActions.cancel),\n        actions: [\n          {\n            name: () => {\n              this.rxModalService\n                .prompt({\n                  title: this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.process-management.cancel-process.label'\n                  ),\n                  modalStyle: RX_MODAL.modalStyles.prompt,\n                  message: this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.process-management.cancellation-reason.label'\n                  )\n                })\n                .then((promptResponse: IPromptResponse) => {\n                  if (promptResponse.response) {\n                    this.executeAction(\n                      'com.bmc.arsys.rx.application.process.command.CancelProcessInstanceCommand',\n                      promptResponse.answer\n                    );\n                  }\n                });\n            }\n          }\n        ]\n      },\n      {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.process-management.view-log.button.label'\n        ),\n        style: 'tertiary',\n        iconCls: 'monitor_gear_eye',\n        disabled: () => this.isActionButtonDisabled(AX_PROCESS_DEFINITION_TAB.processInstanceActions.viewLog),\n        actions: [\n          {\n            name: () => {\n              const processInstance = this.getCurrentGrid().api.getFirstSelectedRow();\n\n              this.rxProcessInstanceService\n                .getLog(processInstance.processDefinitionName, processInstance.instanceId)\n                .subscribe((data) => {\n                  this.adaptModalService\n                    .open({\n                      title: this.translateService.instant(\n                        'com.bmc.arsys.rx.innovation-studio.process-management.view-log.modal.title',\n                        {\n                          processDefinitionName: this.rxDefinitionNameService.getDisplayName(\n                            processInstance.processDefinitionName\n                          ),\n                          processInstanceId: processInstance.instanceId\n                        }\n                      ),\n                      content: ProcessViewLogModalComponent,\n                      size: OpenViewActionModalSize.Xlarge as any,\n                      data\n                    })\n                    .catch(noop);\n                });\n            }\n          }\n        ]\n      },\n      {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.process-management.download-log.button.label'\n        ),\n        style: 'tertiary',\n        iconCls: 'download',\n        disabled: () => this.isActionButtonDisabled(AX_PROCESS_DEFINITION_TAB.processInstanceActions.downloadLog),\n        actions: [\n          {\n            name: () => {\n              const processInstance = this.getCurrentGrid().api.getFirstSelectedRow();\n\n              this.rxProcessInstanceService\n                .downloadLog(processInstance.processDefinitionName, processInstance.instanceId)\n                .subscribe((fileStream) => {\n                  if (fileStream?.size > 0) {\n                    const file = new Blob([fileStream], {\n                      type: fileStream.type\n                    });\n\n                    this.ngZone.runOutsideAngular(() => {\n                      saveAs(file, 'process.log');\n                    });\n                  } else {\n                    this.rxNotificationService.addInfoMessage(\n                      this.translateService.instant(\n                        'com.bmc.arsys.rx.innovation-studio.process-management.view-log.modal.no-log.label'\n                      ),\n                      ''\n                    );\n                  }\n                });\n            }\n          }\n        ]\n      }\n    ];\n  }\n\n  private getCurrentGrid(): RecordGridComponent {\n    return this.recordGrids.find((grid) => grid.guid === AX_PROCESS_MANAGEMENT.statusTabs[this.activeTabStatus].guid);\n  }\n\n  private getGridColumns(status: string): IRecordGridColumn[] {\n    const gridColumns: IRecordGridColumn[] = AX_PROCESS_MANAGEMENT.statusTabs[status].gridColumns;\n\n    return gridColumns.map((column) => {\n      const columnConfig = { ...column, title: this.translateService.instant(column.title) };\n\n      if (column.fieldId === AX_PROCESS_MANAGEMENT.processInstanceGridColumns.contextKey.fieldId) {\n        columnConfig.cellTemplate = this.contextKeyCellTemplate;\n      } else if (column.fieldId === AX_PROCESS_MANAGEMENT.processInstanceGridColumns.processDefinitionName.fieldId) {\n        columnConfig.cellTemplate = this.processDefinitionCellTemplate;\n      }\n\n      return columnConfig;\n    });\n  }\n\n  private getProcessDefinitions(bundleId: string): Observable<IDataPageResult> {\n    return this.rxSessionExpirationService.keepSessionAlive().pipe(\n      switchMap(() =>\n        this.rxProcessDefinitionDataPageService\n          .get({\n            params: {\n              propertySelection: ['name', 'isEnabled'],\n              bundleId\n            }\n          })\n          .pipe(\n            catchError((error) => {\n              this.errorHandler.handleError(error);\n\n              return this.rxProcessDefinitionDataPageService.getEmptyDataPage();\n            })\n          )\n      )\n    );\n  }\n\n  private getProcessInstanceRuns(parameters: Object, status?: string): Observable<IProcessInstanceStatusCounts> {\n    const params = { ...parameters, startedAfter: moment().subtract(this.selectedTimeframe[0].value).toISOString() };\n\n    const queryParams = this.selectedProcess[0]?.data.name\n      ? { ...params, processDefinitionName: this.selectedProcess[0].data.name }\n      : params;\n\n    return this.rxProcessInstanceDataPageService\n      .get({\n        params: { ...queryParams, status }\n      })\n      .pipe(\n        map((response) => ({ ...response, status })),\n        catchError((error) => {\n          this.errorHandler.handleError(error);\n\n          return of({ status: '', data: [] });\n        })\n      );\n  }\n\n  private getRecordDefinition(status: string): IRecordDefinition {\n    const fieldDefinitions = AX_PROCESS_MANAGEMENT.statusTabs[status].fieldDefinitions;\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    return {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n  }\n\n  private isActionButtonDisabled(action: string): boolean {\n    const dataSets = this.getCurrentGrid().api.getSelectedRows();\n\n    switch (action) {\n      case AX_PROCESS_DEFINITION_TAB.processInstanceActions.suspend:\n        return some(dataSets, (dataset) => dataset.status !== AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active);\n\n      case AX_PROCESS_DEFINITION_TAB.processInstanceActions.resume:\n        return some(\n          dataSets,\n          (dataset) => dataset.status !== AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.suspended\n        );\n\n      case AX_PROCESS_DEFINITION_TAB.processInstanceActions.cancel:\n        return some(\n          dataSets,\n          (dataset) =>\n            dataset.status !== AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.suspended &&\n            dataset.status !== AX_PROCESS_DEFINITION_TAB.processInstanceStatuses.active\n        );\n\n      case AX_PROCESS_DEFINITION_TAB.processInstanceActions.downloadLog:\n      case AX_PROCESS_DEFINITION_TAB.processInstanceActions.viewLog:\n        return dataSets.length !== 1;\n\n      default:\n        return true;\n    }\n  }\n\n  private runProcessWithAttachments(inputValues: IPlainObject): Observable<any> {\n    const formData = new FormData();\n    const attachmentInputParams = pickBy(inputValues, (inputValue) => some(inputValue, (item) => item instanceof File));\n\n    forOwn(attachmentInputParams, (inputParamValue, inputParamName) => {\n      inputParamValue.forEach((file) => {\n        formData.append(inputParamName, file);\n      });\n\n      delete inputValues[inputParamName];\n    });\n\n    const commandInstance = {\n      processDefinitionName: this.selectedProcess[0].data.name,\n      resourceType: 'com.bmc.arsys.rx.application.process.command.StartProcessInstanceCommand',\n      processInputValues: inputValues\n    };\n\n    formData.append('commandInstance', JSON.stringify(commandInstance));\n\n    return this.rxCommandFactoryService\n      .forResourceType('com.bmc.arsys.rx.application.process.command.StartProcessInstanceCommand')\n      .execute(formData);\n  }\n\n  private setPageTitle() {\n    this.rxGlobalCacheService\n      .getBundleFriendlyName(this.rxBundleCacheService.bundleId)\n      .pipe(take(1))\n      .subscribe((bundleFriendlyName) => {\n        this.rxPageTitleService.set(\n          [\n            this.translateService.instant('com.bmc.arsys.rx.innovation-studio.manage-processes.menu.label'),\n            bundleFriendlyName\n          ],\n          this.rxGlobalCacheService.applicationId\n        );\n      });\n  }\n}\n","<div class=\"h-100\" *ngIf=\"vm$ | async as vm\">\n  <div class=\"header d-flex align-items-center\">\n    <h5 class=\"rx-ellipsis col-2 pb-1\" [adaptTooltip]=\"vm.bundleDescriptor.friendlyName\">\n      {{ vm.bundleDescriptor.friendlyName }}\n    </h5>\n\n    <div class=\"breadcrumbs-container pt-1\">\n      <rx-breadcrumb-bar\n        (selectedItem)=\"resetProcessSelection(vm.processDefinitionOptions[0])\"\n        [items]=\"vm.breadcrumbItems\"\n      ></rx-breadcrumb-bar>\n    </div>\n\n    <div class=\"ml-auto m-2\">\n      <button rx-id=\"close-button\" adapt-button type=\"button\" size=\"small\" (click)=\"close()\" btn-type=\"secondary\">\n        {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n      </button>\n    </div>\n  </div>\n\n  <div class=\"process-management-container\">\n    <adapt-sidebar [openedId]=\"0\" [adjustMainContainerWidth]=\"true\">\n      <adapt-sidebar-item\n        [iconClass]=\"'d-icon-layout_preview'\"\n        [headerTitle]=\"'com.bmc.arsys.rx.innovation-studio.process-management.process-sidebar.title' | translate\"\n      >\n        <div class=\"d-flex flex-column h-100\">\n          <div class=\"d-flex justify-content-start mb-3\">\n            <button\n              adapt-button\n              type=\"button\"\n              btn-type=\"primary\"\n              rx-id=\"run-button\"\n              class=\"mr-2 d-icon-left-play_o\"\n              size=\"small\"\n              (click)=\"runProcess()\"\n              [disabled]=\"vm.processActionButtonsState.isRunButtonDisabled\"\n            >\n              {{ 'com.bmc.arsys.rx.innovation-studio.process-management.run-process.button.label' | translate }}\n            </button>\n            <button\n              adapt-button\n              type=\"button\"\n              rx-id=\"view-button\"\n              class=\"d-icon-left-eye\"\n              size=\"small\"\n              [disabled]=\"vm.processActionButtonsState.isViewButtonDisabled\"\n              (click)=\"previewProcess(vm.processActionButtonsState.isRunButtonDisabled)\"\n              btn-type=\"secondary\"\n            >\n              {{ 'com.bmc.arsys.rx.innovation-studio.process-management.view-process.button.label' | translate }}\n            </button>\n          </div>\n\n          <div class=\"process-list h-100\">\n            <adapt-rx-select\n              class=\"h-100 d-flex\"\n              [(ngModel)]=\"selectedProcess\"\n              [options]=\"vm.processDefinitionOptions\"\n              [optionFormatter]=\"optionFormatter\"\n              [enableFilter]=\"true\"\n              [inline]=\"true\"\n              [selectAllButton]=\"false\"\n              [deselectAllButton]=\"false\"\n              [texts]=\"texts\"\n              [multiple]=\"false\"\n              [singleSelectStyle]=\"'line'\"\n              [popupMaxHeight]=\"'100%'\"\n              (ngModelChange)=\"refreshData()\"\n            ></adapt-rx-select>\n          </div>\n        </div>\n      </adapt-sidebar-item>\n      <div class=\"main h-100\">\n        <div class=\"h-100 d-flex flex-column\" *ngIf=\"vm.isProcessHistoryEnabled\">\n          <adapt-rx-select\n            class=\"form-group d-block\"\n            [label]=\"'com.bmc.arsys.rx.innovation-studio.process-management.timeframe.select.label' | translate\"\n            rx-id=\"timeframe\"\n            [ngModel]=\"selectedTimeframe\"\n            [options]=\"timeframes\"\n            [optionFormatter]=\"optionFormatter\"\n            (ngModelChange)=\"onTimeframeChange($event)\"\n            name=\"timeframe\"\n          >\n          </adapt-rx-select>\n          <adapt-tabset\n            rx-id=\"tabs\"\n            [type]=\"'pills'\"\n            [tab-active]=\"activeTabIndex\"\n            (tab-active-changed)=\"tabChanged($event)\"\n            class=\"h-100\"\n          >\n            <ng-container *ngFor=\"let status of processInstanceStatuses\">\n              <adapt-tab-panel\n                [adapt-tab-title]=\"tabs[status].title\"\n                [badge]=\"vm.processInstanceCounts[status]\"\n                [badge-type]=\"tabs[status].badgeType\"\n                [attr.rx-id]=\"'process-instances-tab-panel-' + status | lowercase\"\n              >\n                <rx-record-grid\n                  class=\"pt-3\"\n                  *ngIf=\"activatedTabs[status]\"\n                  [config]=\"getRecordGridConfig(status)\"\n                ></rx-record-grid>\n              </adapt-tab-panel>\n            </ng-container>\n          </adapt-tabset>\n        </div>\n\n        <div\n          class=\"d-flex align-items-center justify-content-center h-100\"\n          *ngIf=\"vm.isProcessHistoryEnabled === false\"\n        >\n          <adapt-empty-state\n            type=\"objects\"\n            label=\"{{\n              'com.bmc.arsys.rx.innovation-studio.process-management.process-history-disabled.message' | translate\n            }}\"\n          ></adapt-empty-state>\n        </div>\n      </div>\n    </adapt-sidebar>\n  </div>\n</div>\n<ng-template #contextKeyCellTemplate let-dataItem=\"dataItem\">\n  <div class=\"rx-ellipsis\">\n    <a\n      [routerLink]=\"[\n        '/',\n        innovationStudioBundleId,\n        'process',\n        'instance',\n        dataItem.processDefinitionName,\n        dataItem.instanceId\n      ]\"\n      >{{\n        dataItem.contextKey || 'com.bmc.arsys.rx.innovation-studio.process-management.process-instance.label'\n          | translate\n      }}\n    </a>\n  </div>\n</ng-template>\n\n<ng-template #processDefinitionCellTemplate let-dataItem=\"dataItem\">\n  {{ dataItem.processDefinitionName | rxDefinitionNamePipe }}\n</ng-template>\n\n<rx-busy-indicator [options]=\"{ busy: busySubscription }\"></rx-busy-indicator>\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, UrlTree } from '@angular/router';\nimport { RX_APPLICATION, RxDefinitionNameService, RxGlobalCacheService } from '@helix/platform/shared/api';\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxValidViewDefinitionGuard implements CanActivate {\n  constructor(\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private router: Router\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean | UrlTree> {\n    const viewDefinitionName = route.params.definitionName;\n    const bundleId = this.rxDefinitionNameService.getBundleId(viewDefinitionName);\n\n    return this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(\n      map((bundleDescriptor) => {\n        if (\n          bundleDescriptor.isApplication &&\n          this.rxDefinitionNameService.getDisplayName(viewDefinitionName) === RX_APPLICATION.shellDefinitionName\n        ) {\n          return this.router.createUrlTree([RX_APPLICATION.innovationStudioBundleId, 'shell', bundleId]);\n        }\n\n        return true;\n      })\n    );\n  }\n}\n","import { Component } from '@angular/core';\nimport { ActiveModalRef } from '@bmc-ux/adapt-angular';\nimport { throwError } from 'rxjs';\nimport { RX_BUNDLE, Tooltip } from '@helix/platform/shared/api';\nimport { catchError } from 'rxjs/operators';\nimport { isEmpty, last } from 'lodash';\nimport { ProgressIndicatorStatus } from '@helix/platform/ui-kit';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AxBundleDeploymentService, IDeploymentStatus } from '../../../services/bundle-deployment';\n\n@Component({\n  selector: 'ax-create-bundle-modal',\n  templateUrl: './create-bundle-modal.component.html',\n  styleUrls: ['./create-bundle-modal.component.scss']\n})\nexport class CreateBundleModalComponent {\n  bundleId = '';\n  bundleCreationStatus = '';\n  bundleCreationFinishedMessage = '';\n  bundleName = '';\n  bundleShortName = '';\n  deploymentStatus = ProgressIndicatorStatus;\n  groupId = '';\n\n  type: string =\n    this.context.getData().type === RX_BUNDLE.bundleTypes.application\n      ? this.translateService.instant('com.bmc.arsys.rx.client.common.application.label')\n      : this.translateService.instant('com.bmc.arsys.rx.client.common.library.label');\n\n  bundleNameTooltip = new Tooltip(\n    this.translateService.instant('com.bmc.arsys.rx.innovation-studio.create-bundle.name.tooltip', {\n      bundleType: this.type.toLowerCase()\n    })\n  );\n\n  bundleShortNameTooltip = new Tooltip(\n    this.translateService.instant('com.bmc.arsys.rx.innovation-studio.create-bundle.short-name.tooltip', {\n      bundleType: this.type.toLowerCase()\n    })\n  );\n\n  groupIdTooltip = new Tooltip(\n    this.translateService.instant('com.bmc.arsys.rx.innovation-studio.create-bundle.group-id.tooltip', {\n      bundleType: this.type.toLowerCase()\n    })\n  );\n\n  constructor(\n    public context: ActiveModalRef,\n    private translateService: TranslateService,\n    private axBundleDeploymentService: AxBundleDeploymentService\n  ) {}\n\n  create(): void {\n    this.bundleCreationStatus = ProgressIndicatorStatus.InProgress;\n\n    this.axBundleDeploymentService\n      .create({\n        id: this.bundleId,\n        name: this.bundleShortName,\n        friendlyName: this.bundleName,\n        developerId: this.groupId,\n        isApplication: this.context.getData().type === RX_BUNDLE.bundleTypes.application\n      })\n      .pipe(\n        catchError((error) => {\n          this.bundleCreationStatus = ProgressIndicatorStatus.Failed;\n\n          this.bundleCreationFinishedMessage = this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.create-bundle.failure.message',\n            { bundleType: this.type }\n          );\n\n          return throwError(error);\n        })\n      )\n      .subscribe((response) => {\n        this.axBundleDeploymentService\n          .pollDeploymentStatus(last(response.headers.get('location').split('/')))\n          .subscribe((deploymentStatus: IDeploymentStatus) => {\n            if (deploymentStatus.isFinished) {\n              this.bundleCreationStatus = ProgressIndicatorStatus.Finished;\n\n              this.bundleCreationFinishedMessage = this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.workspace.bundle.create.successful.label',\n                { bundleType: this.type }\n              );\n            } else if (deploymentStatus.errorMessage) {\n              this.bundleCreationStatus = ProgressIndicatorStatus.Failed;\n              this.bundleCreationFinishedMessage = deploymentStatus.errorMessage;\n            }\n          });\n      });\n  }\n\n  close(bundleId: string): void {\n    if (!isEmpty(bundleId) && this.bundleCreationStatus === ProgressIndicatorStatus.Finished) {\n      this.context.close({ bundleId });\n    } else {\n      this.context.close();\n    }\n  }\n\n  dismiss(): void {\n    this.context.dismiss();\n  }\n\n  setBundleId(): void {\n    this.bundleId = `${this.groupId}.${this.bundleShortName}`;\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{\n      'com.bmc.arsys.rx.innovation-studio.workspace.bundle.new.label'\n        | translate: { bundleType: this.type.toLowerCase() }\n    }}\n  </h5>\n  <button\n    class=\"close dp-close\"\n    data-dismiss=\"modal\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"bundleCreationStatus === deploymentStatus.InProgress\"\n    (click)=\"dismiss()\"\n  ></button>\n</div>\n<div class=\"modal-body\">\n  <form #createBundleForm=\"ngForm\">\n    <adapt-rx-textfield\n      rx-id=\"bundle-name\"\n      label=\"{{\n        'com.bmc.arsys.rx.innovation-studio.workspace.bundle.name.label' | translate: { bundleType: this.type }\n      }}\"\n      [(ngModel)]=\"bundleName\"\n      maxlength=\"254\"\n      required=\"true\"\n      class=\"d-block form-group\"\n      name=\"bundleName\"\n      [tooltip]=\"bundleNameTooltip\"\n      [autofocus]=\"true\"\n      [disabled]=\"\n        bundleCreationStatus === deploymentStatus.InProgress || bundleCreationStatus === deploymentStatus.Finished\n      \"\n    >\n    </adapt-rx-textfield>\n    <adapt-rx-textfield\n      rx-id=\"bundle-short-name\"\n      label=\"{{\n        'com.bmc.arsys.rx.innovation-studio.workspace.bundle.short-name.label' | translate: { bundleType: this.type }\n      }}\"\n      [(ngModel)]=\"bundleShortName\"\n      required=\"true\"\n      class=\"d-block form-group\"\n      name=\"bundleShortName\"\n      pattern=\"^([a-zA-Z0-9]+|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])$\"\n      (ngModelChange)=\"setBundleId()\"\n      [tooltip]=\"bundleShortNameTooltip\"\n      [disabled]=\"\n        bundleCreationStatus === deploymentStatus.InProgress || bundleCreationStatus === deploymentStatus.Finished\n      \"\n    >\n    </adapt-rx-textfield>\n    <adapt-rx-textfield\n      rx-id=\"group-id\"\n      label=\"{{ 'com.bmc.arsys.rx.innovation-studio.workspace.groupId.label' | translate }}\"\n      [(ngModel)]=\"groupId\"\n      pattern=\"[a-zA-Z][a-zA-Z0-9_]*(\\.[a-zA-Z0-9_]+)*\"\n      required=\"true\"\n      class=\"d-block form-group\"\n      name=\"groupId\"\n      (ngModelChange)=\"setBundleId()\"\n      [tooltip]=\"groupIdTooltip\"\n      [disabled]=\"\n        bundleCreationStatus === deploymentStatus.InProgress || bundleCreationStatus === deploymentStatus.Finished\n      \"\n    >\n    </adapt-rx-textfield>\n    <adapt-rx-textfield\n      rx-id=\"id\"\n      label=\"{{\n        'com.bmc.arsys.rx.innovation-studio.workspace.bundle.id.label' | translate: { bundleType: this.type }\n      }}\"\n      [(ngModel)]=\"bundleId\"\n      class=\"d-block form-group\"\n      name=\"bundleId\"\n      [disabled]=\"true\"\n    >\n    </adapt-rx-textfield>\n  </form>\n  <div *ngIf=\"bundleCreationStatus === deploymentStatus.InProgress\" class=\"progress\" rx-id=\"progress-bar\">\n    <div\n      class=\"progress-bar progress-bar-intermediate\"\n      role=\"progressbar\"\n      style=\"width: 100%\"\n      aria-valuenow=\"100\"\n      aria-valuemin=\"0\"\n      aria-valuemax=\"100\"\n    ></div>\n  </div>\n  <p\n    *ngIf=\"bundleCreationStatus === deploymentStatus.Finished\"\n    class=\"d-icon-left-check_adapt\"\n    rx-id=\"operation-succeeded-message\"\n  >\n    {{ bundleCreationFinishedMessage }}\n  </p>\n  <p\n    *ngIf=\"bundleCreationStatus === deploymentStatus.Failed\"\n    class=\"d-icon-left-exclamation_triangle\"\n    rx-id=\"operation-failed-message\"\n  >\n    {{ bundleCreationFinishedMessage }}\n  </p>\n</div>\n\n<div class=\"modal-footer d-flex w-100\">\n  <button\n    *ngIf=\"bundleCreationStatus !== deploymentStatus.Finished\"\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    (click)=\"create()\"\n    [disabled]=\"\n      bundleCreationStatus === deploymentStatus.InProgress || createBundleForm.pristine || createBundleForm.invalid\n    \"\n    rx-id=\"create-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.create.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    (click)=\"close(bundleId)\"\n    [disabled]=\"bundleCreationStatus === deploymentStatus.InProgress\"\n    rx-id=\"close-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n  </button>\n</div>\n","export enum BundleTypeFilter {\n  All = 'all',\n  Applications = 'applications',\n  Libraries = 'libraries'\n}\n\nexport enum EditableBundleFilter {\n  All = 'all',\n  Editable = 'editable'\n}\n","import { Component, ElementRef, OnDestroy, OnInit, Renderer2, TemplateRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AdaptModalService, ModalDeferred } from '@bmc-ux/adapt-angular';\nimport { ColumnConfig, DataCellTemplateParams, TableCustomTexts } from '@bmc-ux/adapt-table';\nimport {\n  IBundleDescriptor,\n  RX_APPLICATION,\n  RX_BUNDLE,\n  RxCurrentUserService,\n  RxGlobalCacheService,\n  RxNotificationService,\n  RxOverlayService,\n  RxPageTitleService,\n  RxSmartReportingService\n} from '@helix/platform/shared/api';\nimport { ProgressIndicatorModalComponent, ProgressIndicatorStatus } from '@helix/platform/ui-kit';\nimport { TranslateService } from '@ngx-translate/core';\nimport { findIndex, includes, last, noop, toArray } from 'lodash';\nimport { BehaviorSubject, combineLatest, Observable, ReplaySubject, throwError } from 'rxjs';\nimport { catchError, map, takeUntil, tap } from 'rxjs/operators';\nimport { AxBundleDeploymentService, IDeploymentStatus, IWorkspaceBundle } from '../../services/bundle-deployment';\nimport { CreateBundleModalComponent } from './create-bundle-modal/create-bundle-modal.component';\nimport { BundleTypeFilter, EditableBundleFilter } from './workspace.types';\nimport { RxGainsightConfiguratorService } from '@helix/platform/shared/components';\n\n@Component({\n  selector: 'ax-workspace',\n  templateUrl: './workspace.component.html',\n  styleUrls: ['./workspace.component.scss']\n})\nexport class WorkspaceComponent implements OnInit, OnDestroy {\n  bundleTypeSelectorModel = [true, false, false];\n  bundleTypes = RX_BUNDLE.bundleTypes;\n  columns: ColumnConfig[];\n  editableBundles = this.rxCurrentUserService.getEditableBundles();\n  editableBundleSelectorModel = [false, true];\n  isBusinessAnalyst = this.rxCurrentUserService.isBusinessAnalyst();\n  isShared = this.rxOverlayService.getCurrentOverlayContext().isShared;\n  isInstallBundleActionAvailable = this.rxCurrentUserService.isAdministrator() && !this.isShared;\n  innovationStudioBundleId = RX_APPLICATION.innovationStudioBundleId;\n  isLoadingData = true;\n  isNewBundleActionAvailable = !this.isShared;\n\n  texts: TableCustomTexts = {\n    emptyStateLabelText: this.translateService.instant(\n      'com.bmc.arsys.rx.innovation-studio.workspace.no-editable-bundles.label'\n    )\n  };\n\n  private applicationLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.application.label');\n  private bundleTypeSelector$ = new BehaviorSubject<BundleTypeFilter>(BundleTypeFilter.All);\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private editableBundleSelector$ = new BehaviorSubject<EditableBundleFilter>(EditableBundleFilter.Editable);\n  private libraryLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.library.label');\n  smartReportingUrl: string;\n\n  @ViewChild('fileInput', { static: false })\n  fileInput: ElementRef;\n\n  private bundles$ = this.rxGlobalCacheService.getBundleDescriptors().pipe(\n    map((bundleDescriptors: IBundleDescriptor[]) =>\n      bundleDescriptors\n        .filter(\n          (bundleDescriptor) =>\n            bundleDescriptor.id !== RX_APPLICATION.settingsBundleId &&\n            bundleDescriptor.id !== RX_APPLICATION.standardlib &&\n            bundleDescriptor.id !== RX_APPLICATION.innovationStudioBundleId &&\n            bundleDescriptor.id !== RX_APPLICATION.platformBundleId\n        )\n        .map((bundle) => ({\n          ...bundle,\n          ...{\n            type: bundle.isApplication ? this.applicationLabel : this.libraryLabel,\n            isEditable: !this.isBusinessAnalyst || includes(this.editableBundles, bundle.id)\n          }\n        }))\n    ),\n    tap(() => {\n      this.isLoadingData = false;\n    }),\n    catchError((error) => {\n      this.isLoadingData = false;\n\n      return throwError(error);\n    })\n  );\n\n  bundlesToDisplay$: Observable<IWorkspaceBundle[]> = combineLatest([\n    this.bundleTypeSelector$,\n    this.editableBundleSelector$,\n    this.bundles$\n  ]).pipe(\n    map(([bundleTypeFiler, editableBundleFilter, allBundles]) =>\n      allBundles.filter(\n        (bundle) =>\n          (bundleTypeFiler === BundleTypeFilter.All ||\n            (bundleTypeFiler === BundleTypeFilter.Applications && bundle.isApplication) ||\n            (bundleTypeFiler === BundleTypeFilter.Libraries && !bundle.isApplication)) &&\n          (editableBundleFilter === EditableBundleFilter.All || bundle.isEditable)\n      )\n    ),\n    takeUntil(this.destroyed$)\n  );\n\n  @ViewChild('nameColumnTemplate', { static: true })\n  nameColumnTemplate: TemplateRef<DataCellTemplateParams>;\n\n  bundleTypeSelectorConfig = [\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.all.label'),\n      value: BundleTypeFilter.All\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.applications.label'),\n      value: BundleTypeFilter.Applications\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.libraries.label'),\n      value: BundleTypeFilter.Libraries\n    }\n  ];\n\n  editableBundleSelectorConfig = [\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.all.label'),\n      value: EditableBundleFilter.All\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.bundle.editable.label'),\n      value: EditableBundleFilter.Editable\n    }\n  ];\n\n  constructor(\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxOverlayService: RxOverlayService,\n    private rxPageTitleService: RxPageTitleService,\n    private translateService: TranslateService,\n    private rxSmartReportingService: RxSmartReportingService,\n    private rxNotificationService: RxNotificationService,\n    private axBundleDeploymentService: AxBundleDeploymentService,\n    private adaptModalService: AdaptModalService,\n    private router: Router,\n    private renderer: Renderer2,\n    private rxGainsightConfiguratorService: RxGainsightConfiguratorService\n  ) {}\n\n  ngOnInit(): void {\n    this.columns = [\n      {\n        field: 'friendlyName',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        cellTemplate: this.nameColumnTemplate\n      },\n      { field: 'type', header: this.translateService.instant('com.bmc.arsys.rx.client.common.item-type.label') },\n      {\n        field: 'developerName',\n        header: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.column.developer.label')\n      },\n      {\n        field: 'displayVersion',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.version.label')\n      },\n      {\n        field: 'id',\n        hidden: true\n      }\n    ];\n\n    this.rxSmartReportingService.getSmartReportingUrl().subscribe((smartReportingUrl) => {\n      this.smartReportingUrl = smartReportingUrl;\n    });\n\n    this.setPageTitle();\n\n    this.rxGainsightConfiguratorService.updateGlobalContext({\n      subProductLevel1: {\n        name: 'Design'\n      },\n      subProductLevel2: {\n        name: 'Workspace'\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n\n    this.rxGainsightConfiguratorService.removeGlobalContext(['subProductLevel2']);\n  }\n\n  updateBundleType(bundleTypeSelectorModel: boolean[]): void {\n    this.bundleTypeSelector$.next(this.bundleTypeSelectorConfig[findIndex(bundleTypeSelectorModel, Boolean)].value);\n  }\n\n  toggleEditableBundles(editableSelectorModel: boolean[]) {\n    this.editableBundleSelector$.next(\n      this.editableBundleSelectorConfig[findIndex(editableSelectorModel, Boolean)].value\n    );\n  }\n\n  openFileDialog(): void {\n    this.renderer.selectRootElement(this.fileInput.nativeElement, true).click();\n  }\n\n  onClickFileInput(event: Event) {\n    const element = event.target as HTMLInputElement;\n    element.value = '';\n  }\n\n  onChangeFileInput(event: Event): void {\n    const files = toArray((event.target as HTMLInputElement).files);\n\n    const bundleDeploymentProgressConfig = {\n      title: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.install.button.label'),\n      status: ProgressIndicatorStatus.InProgress,\n      header: this.translateService.instant('com.bmc.arsys.rx.client.common.application-or-library.label'),\n      subHeader: files[0]?.name.replace(/\\.zip$/i, ''),\n      inProgressMessage: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.installing.label'),\n      finishedMessage: this.translateService.instant(\n        'com.bmc.arsys.rx.innovation-studio.workspace.install-successful.label'\n      ),\n      failedMessage: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.install-failed.label'),\n      operationStatusMessage: ''\n    };\n\n    this.openModal(ProgressIndicatorModalComponent, bundleDeploymentProgressConfig)\n      .then(() => window.location.reload())\n      .catch(noop);\n\n    this.axBundleDeploymentService\n      .install(files[0])\n      .pipe(\n        catchError((error) => {\n          bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n\n          bundleDeploymentProgressConfig.finishedMessage = this.translateService.instant(\n            'com.bmc.arsys.rx.innovation-studio.workspace.install-failed.label'\n          );\n\n          return throwError(error);\n        })\n      )\n      .subscribe((response) => {\n        this.axBundleDeploymentService\n          .pollDeploymentStatus(last(response.headers.get('location').split('/')))\n          .subscribe((deploymentStatus: IDeploymentStatus) => {\n            if (deploymentStatus.isFinished) {\n              bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Finished;\n\n              bundleDeploymentProgressConfig.operationStatusMessage = this.axBundleDeploymentService.buildStatusMessage(\n                deploymentStatus.deploymentParsedStatus\n              );\n            } else if (deploymentStatus.errorMessage) {\n              bundleDeploymentProgressConfig.status = ProgressIndicatorStatus.Failed;\n              bundleDeploymentProgressConfig.operationStatusMessage = deploymentStatus.errorMessage;\n            }\n          });\n      });\n  }\n\n  createBundle(bundleType: string): void {\n    this.openModal(CreateBundleModalComponent, { type: bundleType })\n      .then((result) => {\n        const bundleId = result?.bundleId;\n\n        if (bundleId) {\n          this.rxGlobalCacheService.clear();\n\n          this.router.navigate([RX_APPLICATION.innovationStudioBundleId, bundleId]).then(() => {\n            window.location.reload();\n          });\n\n          this.rxNotificationService.addSuccessMessage(\n            this.translateService.instant('com.bmc.arsys.rx.innovation-studio.create-bundle.success.message', {\n              bundleType: bundleType.toLowerCase()\n            })\n          );\n        }\n      })\n      .catch(noop);\n  }\n\n  private openModal(content: any, data: any): ModalDeferred {\n    return this.adaptModalService.open({\n      content,\n      data,\n      size: 'sm',\n      isDialog: true,\n      hideBackdrop: false\n    });\n  }\n\n  private setPageTitle(): void {\n    this.rxPageTitleService.set(\n      this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.page.label'),\n      this.rxGlobalCacheService.applicationId\n    );\n  }\n}\n","<div class=\"d-flex flex-column h-100\">\n  <div class=\"row w-100 align-items-center\">\n    <h1 class=\"h1 px-6 py-3 m-0\">{{ 'com.bmc.arsys.rx.innovation-studio.workspace.page.label' | translate }}</h1>\n\n    <div class=\"d-flex py-3\">\n      <span class=\"pl-6 pt-3 pr-2 workspace-toolbar-label mb-2\">\n        {{ 'com.bmc.arsys.rx.innovation-studio.workspace.show.label' | translate }}\n      </span>\n\n      <adapt-button-group\n        [(ngModel)]=\"bundleTypeSelectorModel\"\n        [config]=\"bundleTypeSelectorConfig\"\n        [multiselectable]=\"false\"\n        [uncheckable]=\"false\"\n        size=\"small\"\n        (ngModelChange)=\"updateBundleType($event)\"\n        rx-id=\"select-bundle-type\"\n        class=\"pt-1\"\n      ></adapt-button-group>\n\n      <adapt-button-group\n        class=\"pl-5 pt-1\"\n        *ngIf=\"isBusinessAnalyst\"\n        [(ngModel)]=\"editableBundleSelectorModel\"\n        [config]=\"editableBundleSelectorConfig\"\n        [multiselectable]=\"false\"\n        [uncheckable]=\"false\"\n        size=\"small\"\n        (ngModelChange)=\"toggleEditableBundles($event)\"\n        rx-id=\"select-bundle-type-ba\"\n      ></adapt-button-group>\n    </div>\n\n    <div class=\"d-flex py-3 align-items-center\">\n      <div\n        class=\"split-line ml-4\"\n        *ngIf=\"(isInstallBundleActionAvailable || isNewBundleActionAvailable) && !isBusinessAnalyst\"\n      ></div>\n\n      <div *ngIf=\"isNewBundleActionAvailable && !isBusinessAnalyst\" class=\"dropdown\" adaptDropdown>\n        <button\n          adapt-button\n          adaptDropdownToggle\n          type=\"button\"\n          btn-type=\"tertiary\"\n          class=\"d-icon-plus_circle align-self-start\"\n          rx-id=\"new-button\"\n        >\n          {{ 'com.bmc.arsys.rx.client.common.new.label' | translate }}\n        </button>\n\n        <div class=\"dropdown-menu\" adaptDropdownMenu>\n          <button (click)=\"createBundle(bundleTypes.application)\" class=\"dropdown-item\" rx-id=\"create-application\">\n            {{ 'com.bmc.arsys.rx.client.common.application.label' | translate }}\n          </button>\n          <button (click)=\"createBundle(bundleTypes.library)\" class=\"dropdown-item\" rx-id=\"create-library\">\n            {{ 'com.bmc.arsys.rx.client.common.library.label' | translate }}\n          </button>\n        </div>\n      </div>\n\n      <button\n        *ngIf=\"isInstallBundleActionAvailable && !isBusinessAnalyst\"\n        adapt-button\n        type=\"file\"\n        btn-type=\"tertiary\"\n        class=\"d-icon-left-download\"\n        rx-id=\"install-button\"\n        (click)=\"openFileDialog()\"\n      >\n        {{ 'com.bmc.arsys.rx.innovation-studio.workspace.install.button.label' | translate }}\n      </button>\n\n      <input\n        #fileInput\n        type=\"file\"\n        accept=\".zip\"\n        hidden\n        [multiple]=\"false\"\n        (change)=\"onChangeFileInput($event)\"\n        (click)=\"onClickFileInput($event)\"\n        rx-id=\"install-file-input\"\n      />\n    </div>\n\n    <div class=\"ml-auto py-3\" *ngIf=\"smartReportingUrl\">\n      <a\n        rx-id=\"reports-link\"\n        target=\"_blank\"\n        class=\"d-icon-file_chart d-icon-left px-4 py-2\"\n        [href]=\"smartReportingUrl\"\n      >\n        {{ 'com.bmc.arsys.rx.innovation-studio.workspace.reports.button.label' | translate }}\n      </a>\n    </div>\n  </div>\n\n  <div class=\"h-100\">\n    <adapt-table\n      class=\"mt-2\"\n      [value]=\"bundlesToDisplay$ | async\"\n      [columns]=\"columns\"\n      [sortable]=\"true\"\n      dataKey=\"friendlyName\"\n      sortField=\"friendlyName\"\n      [sortOrder]=\"1\"\n      [loading]=\"isLoadingData\"\n      [scrollable]=\"true\"\n      [scrollHeight]=\"'flex'\"\n      [hasEmptyState]=\"isBusinessAnalyst && editableBundles.length === 0\"\n      [texts]=\"texts\"\n      [bordered]=\"true\"\n    >\n    </adapt-table>\n  </div>\n</div>\n<ng-template #nameColumnTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div class=\"rx-ellipsis\">\n    <a [routerLink]=\"['/', innovationStudioBundleId, dataItem.id]\">\n      {{ dataItem[column.field] }}\n    </a>\n  </div>\n</ng-template>\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map, switchMap, tap, shareReplay } from 'rxjs/operators';\nimport {\n  IBundleContext,\n  IBundleDescriptor,\n  RxBundleService,\n  RxGlobalCacheService,\n  RxLogService\n} from '@helix/platform/shared/api';\nimport { RxViewActionRegistryService, RxViewComponentRegistryService } from '@helix/platform/view/api';\nimport { forEach, isEmpty, find, filter } from 'lodash';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AxBundleResolver {\n  constructor(\n    private rxBundleService: RxBundleService,\n    private rxLogService: RxLogService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxViewActionRegistryService: RxViewActionRegistryService,\n    private rxViewComponentRegistryService: RxViewComponentRegistryService\n  ) {}\n\n  resolve(): Observable<IBundleContext[]> {\n    let angularBundleDescriptors: IBundleDescriptor[] = [];\n\n    return this.rxGlobalCacheService.getLicensedBundleDescriptors().pipe(\n      map((bundleDescriptors: IBundleDescriptor[]) =>\n        bundleDescriptors.filter((bundleDescriptor: IBundleDescriptor) => bundleDescriptor.containsAngular)\n      ),\n      tap((bundleDescriptors: IBundleDescriptor[]) => (angularBundleDescriptors = bundleDescriptors)),\n      map((bundleDescriptors: IBundleDescriptor[]) =>\n        bundleDescriptors.map((bundleDescriptor: IBundleDescriptor) => bundleDescriptor.id)\n      ),\n      switchMap((bundleIds: string[]) =>\n        bundleIds.length ? this.rxBundleService.loadBundles(bundleIds, true) : of(bundleIds)\n      ),\n      switchMap((bundleContexts: IBundleContext[]) =>\n        this.rxViewComponentRegistryService.resolveAsyncDescriptors().pipe(map(() => bundleContexts))\n      ),\n      tap((bundleContexts: IBundleContext[]) => {\n        const registeredComponents = this.rxViewComponentRegistryService.getRegisteredComponents();\n        const registeredActions = this.rxViewActionRegistryService.getRegisteredActions();\n\n        forEach(bundleContexts, (bundleContext: IBundleContext) => {\n          if (bundleContext.isBundleCompiled) {\n            const bundleDescriptor: IBundleDescriptor | undefined = find(angularBundleDescriptors, {\n              id: bundleContext.bundleId\n            });\n\n            if (bundleDescriptor) {\n              const unregisteredComponents = filter(\n                bundleDescriptor.uiOptions.viewComponents,\n                (rxViewComponentName: string) => !registeredComponents.has(rxViewComponentName)\n              );\n\n              const unregisteredActions = filter(\n                bundleDescriptor.uiOptions.viewActions,\n                (rxViewActionName: string) => !registeredActions.has(rxViewActionName)\n              );\n\n              if (!isEmpty(unregisteredComponents)) {\n                this.rxLogService.warning(\n                  `${bundleDescriptor.id}: Unregistered view components found in the manifest \\n ${unregisteredComponents}`\n                );\n              }\n\n              if (!isEmpty(unregisteredActions)) {\n                this.rxLogService.warning(\n                  `${bundleDescriptor.id}: Unregistered view actions found in the manifest \\n ${unregisteredActions}`\n                );\n              }\n            }\n          }\n        });\n      }),\n      shareReplay(1)\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { includes } from 'lodash';\n\nimport {\n  RX_APPLICATION,\n  RxAngularApplicationService,\n  RxDefinitionNameService,\n  RxLogService\n} from '@helix/platform/shared/api';\nimport { RxViewDefinitionService } from '@helix/platform/view/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AxLegacyShellGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private rxAngularApplicationService: RxAngularApplicationService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxViewDefinitionService: RxViewDefinitionService,\n    private rxLogService: RxLogService\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> {\n    const { bundleId } = route.params;\n\n    return forkJoin({\n      isAngularJsApplication: this.rxAngularApplicationService.isAngularJsApplication(bundleId),\n      shellViewDefinition: this.rxViewDefinitionService.get(\n        this.rxDefinitionNameService.getDefinitionName(bundleId, RX_APPLICATION.shellDefinitionName)\n      )\n    }).pipe(\n      map(({ isAngularJsApplication, shellViewDefinition }) => {\n        const isAngularJs = isAngularJsApplication && !includes(shellViewDefinition.layout, '\"outlets\"');\n\n        if (isAngularJs && route.parent.routeConfig.path === 'shell') {\n          return this.router.createUrlTree([RX_APPLICATION.innovationStudioBundleId, 'shell-legacy', bundleId]);\n        } else if (!isAngularJs && route.parent.routeConfig.path === 'shell-legacy') {\n          return this.router.createUrlTree([RX_APPLICATION.innovationStudioBundleId, 'shell', bundleId]);\n        } else {\n          return true;\n        }\n      }),\n      catchError((error) => {\n        this.rxLogService.error(error.message);\n\n        return of(this.router.createUrlTree([RX_APPLICATION.innovationStudioBundleId, bundleId, 'record-definitions']));\n      })\n    );\n  }\n}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\n\nimport {\n  RX_APPLICATION,\n  RxAngularApplicationService,\n  RxDefinitionNameService,\n  RxLogService\n} from '@helix/platform/shared/api';\nimport { RxViewDefinitionService } from '@helix/platform/view/api';\nimport { includes } from 'lodash';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AxLegacyViewGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private rxAngularApplicationService: RxAngularApplicationService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxViewDefinitionService: RxViewDefinitionService,\n    private rxLogService: RxLogService\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> {\n    const { bundleId, definitionName } = route.params;\n\n    const effectiveBundleId = bundleId || this.rxDefinitionNameService.getBundleId(definitionName);\n\n    return forkJoin({\n      isAngularJsViewDesigner: this.rxAngularApplicationService.isAngularJsViewDesignerBundle(effectiveBundleId),\n      viewDefinition: definitionName\n        ? this.rxViewDefinitionService.get(definitionName, {\n            headers: new HttpHeaders({\n              'Design-Time': 'true',\n              'default-bundle-scope': effectiveBundleId\n            })\n          })\n        : of(null)\n    }).pipe(\n      map(({ isAngularJsViewDesigner, viewDefinition }) => {\n        if (route.routeConfig.path.includes('new')) {\n          if (isAngularJsViewDesigner && route.routeConfig.data?.routerGroup !== 'legacy-designer') {\n            return this.router.createUrlTree(\n              [RX_APPLICATION.innovationStudioBundleId, 'view', 'new-legacy', effectiveBundleId],\n              {\n                queryParams: route.queryParams\n              }\n            );\n          } else if (!isAngularJsViewDesigner && route.routeConfig.data?.routerGroup === 'legacy-designer') {\n            return this.router.createUrlTree(\n              [RX_APPLICATION.innovationStudioBundleId, 'view', 'new', effectiveBundleId],\n              {\n                queryParams: route.queryParams\n              }\n            );\n          } else {\n            return true;\n          }\n        }\n\n        const isAngularJsEditMode = isAngularJsViewDesigner && !includes(viewDefinition?.layout, '\"outlets\"');\n\n        if (!isAngularJsEditMode && route.routeConfig.data?.routerGroup === 'legacy-designer') {\n          return this.router.createUrlTree([RX_APPLICATION.innovationStudioBundleId, 'view', 'edit', definitionName]);\n        } else if (isAngularJsEditMode && route.routeConfig.data?.routerGroup !== 'legacy-designer') {\n          return this.router.createUrlTree([\n            RX_APPLICATION.innovationStudioBundleId,\n            'view',\n            'edit-legacy',\n            definitionName\n          ]);\n        } else {\n          return true;\n        }\n      }),\n      catchError((error) => {\n        this.rxLogService.error(error.message);\n\n        return of(\n          this.router.createUrlTree([RX_APPLICATION.innovationStudioBundleId, effectiveBundleId, 'view-definitions'])\n        );\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { RxGlobalCacheService, RxLogService, RxSessionService } from '@helix/platform/shared/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AxValidBundleGuard implements CanActivate {\n  private defaultUrlTree = this.router.parseUrl('/innovationstudio');\n\n  constructor(\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private router: Router,\n    private rxSessionService: RxSessionService,\n    private rxLogService: RxLogService\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<UrlTree | boolean> {\n    return this.rxSessionService.sessionActive$.pipe(switchMap(() => this.checkBundleState(route)));\n  }\n\n  private checkBundleState(route: ActivatedRouteSnapshot): Observable<UrlTree | boolean> {\n    const bundleId = route.paramMap.get('bundleId');\n\n    return this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(\n      map((bundleDescriptor) => {\n        if (!bundleDescriptor) {\n          this.rxLogService.warning(`Invalid bundle ID: ${bundleId}. Redirecting to home page.`);\n\n          return this.defaultUrlTree;\n        }\n\n        return true;\n      })\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { RxAssociationDesignerPageComponent } from '@helix/platform/association/designer';\nimport { ConfigDesignerPageComponent } from '@helix/platform/config/designer';\nimport { DocumentDesignerPageComponent } from '@helix/platform/document/designer';\nimport { RxEventDesignerPageComponent } from '@helix/platform/event/designer';\nimport { RxNamedListDesignerPageComponent } from '@helix/platform/named-list/designer';\nimport { ProcessDesignerPageComponent } from '@helix/platform/process/designer';\nimport { RecordDesignerPageComponent } from '@helix/platform/record/designer';\n\nimport {\n  RX_APPLICATION,\n  RxComponentCanDeactivateGuard,\n  RxFeatureGuard,\n  RxKeepSessionAliveResolver\n} from '@helix/platform/shared/api';\nimport { RxViewComponentResolver } from '@helix/platform/view/api';\nimport { ViewDesignerPageComponent } from '@helix/platform/view/designer-page';\nimport { RxShellDesignerPageComponent } from '@helix/platform/view/shell-designer-page';\nimport { RxWebApiDesignerPageComponent } from '@helix/platform/web-api/designer';\nimport { BundleDefinitionsComponent } from './components/bundle-definitions/bundle-definitions.component';\nimport { BundleDetailsComponent } from './components/bundle-details/bundle-details.component';\nimport { RecordDataEditorComponent } from './components/data-editor/record-data-editor.component';\nimport { DesignerFrameComponent } from './components/designer-frame/designer-frame.component';\nimport { AX_DESIGNER_FRAME } from './components/designer-frame/designer-frame.const';\nimport { ProcessManagementComponent } from './components/process-management/process-management.component';\nimport { RxValidViewDefinitionGuard } from './components/view-definition-tab/valid-view-definition.guard';\nimport { WorkspaceComponent } from './components/workspace/workspace.component';\nimport { AxBundleResolver } from './services/bundle-resolver/bundle.resolver';\nimport { AxLegacyShellGuard } from './services/legacy-shell-guard/legacy-shell.guard';\nimport { AxLegacyViewGuard } from './services/legacy-view-guard/legacy-view.guard';\nimport { AxValidBundleGuard } from './services/valid-bundle-guard/valid-bundle.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: 'workspace',\n    pathMatch: 'full'\n  },\n  {\n    path: 'workspace',\n    component: WorkspaceComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'record',\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    data: {\n      definitionType: 'record',\n      routerGroup: 'legacy-designer'\n    },\n    children: [\n      {\n        path: 'new2/:bundleId',\n        component: RecordDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, RxFeatureGuard],\n        data: { featureId: 'DRD21-15263' }\n      },\n      {\n        path: 'edit2/:definitionName',\n        component: RecordDesignerPageComponent,\n        canActivate: [RxFeatureGuard],\n        data: { featureId: 'DRD21-15263' }\n      },\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      },\n      {\n        path: 'edit-data-new/:definitionName',\n        component: RecordDataEditorComponent,\n        data: { featureId: 'DRD21-10996' },\n        canActivate: [RxFeatureGuard]\n      },\n      {\n        path: 'edit-data/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          legacyDesignerName: AX_DESIGNER_FRAME.legacyDesignerNames.recordDataEditor\n        }\n      }\n    ]\n  },\n  {\n    path: 'view',\n    data: {\n      definitionType: 'view',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { AxBundleResolver, RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new/:bundleId',\n        component: ViewDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, AxLegacyViewGuard]\n      },\n      {\n        path: 'edit/:definitionName',\n        component: ViewDesignerPageComponent,\n        canActivate: [RxValidViewDefinitionGuard, AxLegacyViewGuard]\n      },\n      {\n        path: 'new-legacy/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard, AxLegacyViewGuard],\n        data: {\n          routerGroup: 'legacy-designer'\n        }\n      },\n      {\n        path: 'edit-legacy/:definitionName',\n        component: DesignerFrameComponent,\n        canActivate: [RxValidViewDefinitionGuard, AxLegacyViewGuard],\n        data: {\n          routerGroup: 'legacy-designer'\n        }\n      }\n    ]\n  },\n  {\n    path: 'process',\n    data: {\n      definitionType: 'process',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new2/:bundleId',\n        component: ProcessDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, RxFeatureGuard],\n        resolve: { RxKeepSessionAliveResolver },\n        data: { featureId: 'DRD21-11025' }\n      },\n      {\n        path: 'edit2/:definitionName',\n        component: ProcessDesignerPageComponent,\n        canActivate: [RxFeatureGuard],\n        resolve: { RxKeepSessionAliveResolver },\n        data: { featureId: 'DRD21-11025' }\n      },\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      },\n      {\n        path: 'manage/:bundleId',\n        component: ProcessManagementComponent,\n        canActivate: [AxValidBundleGuard]\n      },\n      {\n        path: 'instance/:definitionName/:instanceId',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          legacyDesignerName: AX_DESIGNER_FRAME.legacyDesignerNames.processPreview\n        }\n      }\n    ]\n  },\n  {\n    path: 'rule',\n    data: {\n      definitionType: 'rule',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      }\n    ]\n  },\n  {\n    path: 'association',\n    data: {\n      definitionType: 'association',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      },\n      {\n        path: 'new2/:bundleId',\n        component: RxAssociationDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, RxFeatureGuard],\n        data: { featureId: 'DRD21-14986' }\n      },\n      {\n        path: 'edit2/:definitionName',\n        component: RxAssociationDesignerPageComponent,\n        canActivate: [RxFeatureGuard],\n        data: { featureId: 'DRD21-14986' }\n      }\n    ]\n  },\n  {\n    path: 'named-list',\n    data: {\n      definitionType: 'named-list'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new/:bundleId',\n        component: RxNamedListDesignerPageComponent,\n        canActivate: [AxValidBundleGuard]\n      },\n      {\n        path: 'edit/:definitionName',\n        component: RxNamedListDesignerPageComponent\n      }\n    ]\n  },\n  {\n    path: 'web-api',\n    data: {\n      definitionType: 'web-api',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      },\n      {\n        path: 'new2/:bundleId',\n        component: RxWebApiDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, RxFeatureGuard],\n        data: { featureId: 'DRD21-17752' }\n      },\n      {\n        path: 'edit2/:definitionName',\n        component: RxWebApiDesignerPageComponent,\n        canActivate: [RxFeatureGuard],\n        data: { featureId: 'DRD21-17752' }\n      }\n    ]\n  },\n  {\n    path: 'document',\n    data: {\n      definitionType: 'document',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new2/:bundleId',\n        component: DocumentDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, RxFeatureGuard],\n        data: { featureId: 'DRD21-14961' }\n      },\n      {\n        path: 'edit2/:definitionName',\n        component: DocumentDesignerPageComponent,\n        canActivate: [RxFeatureGuard],\n        data: { featureId: 'DRD21-14961' }\n      },\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      }\n    ]\n  },\n  {\n    path: 'event',\n    data: {\n      definitionType: 'event',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      },\n      {\n        path: 'new2/:bundleId',\n        component: RxEventDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, RxFeatureGuard],\n        data: { featureId: 'DRD21-17753' }\n      },\n      {\n        path: 'edit2/:definitionName',\n        component: RxEventDesignerPageComponent,\n        canActivate: [RxFeatureGuard],\n        data: { featureId: 'DRD21-17753' }\n      }\n    ]\n  },\n  {\n    path: 'event-statistics',\n    data: {\n      definitionType: 'event-statistics',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      }\n    ]\n  },\n  {\n    path: 'chatbot',\n    data: {\n      definitionType: 'chatbot',\n      defaultBundleId: RX_APPLICATION.chatbotBundleId,\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      },\n      {\n        path: ':bundleId/publish-chat-enabled-service',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          legacyDesignerName: AX_DESIGNER_FRAME.legacyDesignerNames.chatWizard\n        }\n      }\n    ]\n  },\n  {\n    path: 'shell',\n    data: {\n      definitionType: 'shell'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxViewComponentResolver, RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: ':bundleId',\n        component: RxShellDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, AxLegacyShellGuard]\n      }\n    ]\n  },\n  {\n    path: 'shell-legacy',\n    data: {\n      definitionType: 'shell',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    resolve: { RxKeepSessionAliveResolver },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: ':bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard, AxLegacyShellGuard],\n        data: {\n          routerGroup: 'legacy-designer'\n        }\n      }\n    ]\n  },\n  {\n    path: ':bundleId',\n    component: BundleDetailsComponent,\n    canActivate: [AxValidBundleGuard],\n    children: [\n      {\n        path: '',\n        redirectTo: 'record-definitions'\n      },\n      {\n        canDeactivate: [RxComponentCanDeactivateGuard],\n        path: ':tab',\n        data: {\n          routeReuseStrategy: RX_APPLICATION.routeReuseStrategies.checkParentParams\n        },\n        component: BundleDefinitionsComponent\n      }\n    ]\n  },\n  {\n    path: 'config',\n    data: {\n      definitionType: 'config',\n      routerGroup: 'legacy-designer'\n    },\n    canDeactivate: [RxComponentCanDeactivateGuard],\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: 'new2/:bundleId',\n        component: ConfigDesignerPageComponent,\n        canActivate: [AxValidBundleGuard, RxFeatureGuard],\n        data: { featureId: 'DRD21-14987' }\n      },\n      {\n        path: 'edit2/:definitionName',\n        component: ConfigDesignerPageComponent,\n        canActivate: [RxFeatureGuard],\n        data: { featureId: 'DRD21-14987' }\n      },\n      {\n        path: 'new/:bundleId',\n        component: DesignerFrameComponent,\n        canActivate: [AxValidBundleGuard],\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.new\n        }\n      },\n      {\n        path: 'edit/:definitionName',\n        component: DesignerFrameComponent,\n        data: {\n          routerGroup: 'legacy-designer',\n          designerMode: AX_DESIGNER_FRAME.designerModes.edit\n        }\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ComBmcArsysRxInnovationstudioRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { AdaptButtonModule, AdaptDropdownModule, AdaptIconModule } from '@bmc-ux/adapt-angular';\nimport { RxDefinitionModule, RxOverlayModule } from '@helix/platform/shared/api';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DefinitionTabComponent } from './definition-tab.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    AdaptButtonModule,\n    AdaptIconModule,\n    AdaptDropdownModule,\n    RxDefinitionModule,\n    RecordGridModule,\n    RxBusyIndicatorModule,\n    RxOverlayModule,\n    TranslateModule,\n    RouterModule\n  ],\n  declarations: [DefinitionTabComponent],\n  exports: [DefinitionTabComponent]\n})\nexport class DefinitionTabModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { AssociationDefinitionTabComponent } from './association-definition-tab.component';\nimport { RxAssociationPipesModule } from '@helix/platform/association/api';\n\n@NgModule({\n  declarations: [AssociationDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RxDefinitionModule, RxAssociationPipesModule],\n  exports: [AssociationDefinitionTabComponent]\n})\nexport class AssociationDefinitionTabModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DocumentDefinitionTabComponent } from './document-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\n\n@NgModule({\n  declarations: [DocumentDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RxDefinitionModule, TranslateModule],\n  exports: [DocumentDefinitionTabComponent]\n})\nexport class DocumentDefinitionTabModule {}\n","import { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptRxTextfieldModule, AdaptRxSelectModule, AdaptButtonModule, AdaptBusyModule } from '@bmc-ux/adapt-angular';\nimport { RxModalModule } from '@helix/platform/ui-kit';\n\nimport { CreateCustomRecordComponent } from './create-custom-record.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RxModalModule,\n    AdaptRxTextfieldModule,\n    AdaptRxSelectModule,\n    AdaptButtonModule,\n    AdaptBusyModule,\n    TranslateModule\n  ],\n  declarations: [CreateCustomRecordComponent]\n})\nexport class CreateCustomRecordModule {}\n","import { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptRxTextfieldModule, AdaptRxSelectModule, AdaptButtonModule, AdaptBusyModule } from '@bmc-ux/adapt-angular';\nimport { RxModalModule } from '@helix/platform/ui-kit';\nimport { ExpressionFormControlModule, RxDefinitionPickerModule } from '@helix/platform/shared/components';\nimport { CreateJoinRecordComponent } from './create-join-record.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RxModalModule,\n    AdaptRxTextfieldModule,\n    AdaptRxSelectModule,\n    AdaptButtonModule,\n    AdaptBusyModule,\n    TranslateModule,\n    ExpressionFormControlModule,\n    RxDefinitionPickerModule\n  ],\n  declarations: [CreateJoinRecordComponent]\n})\nexport class CreateJoinRecordModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptButtonModule,\n  AdaptIconModule,\n  AdaptRxFormControlModule,\n  AdaptRxRadiobuttonModule,\n  AdaptRxSelectModule,\n  AdaptTooltipModule,\n  AdaptTreeModule,\n  AdaptPopoverModule\n} from '@bmc-ux/adapt-angular';\nimport { RecordDesignerModule } from '@helix/platform/record/designer';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { RxWizardModule } from '@helix/platform/shared/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { RxRecordDefinitionResourceTypePipeModule } from '@helix/platform/record/api';\nimport { RxDataSourceDataPageService } from '../../services/external-data/data-source-data-page.service';\nimport { RxExternalDataService } from '../../services/external-data/external-data.service';\nimport { ExternalRecordWizardService } from './external-record-wizard.service';\nimport { DataSourceStepComponent } from './data-source-step/data-source-step.component';\nimport { DocumentSelectionStepComponent } from './document-selection-step/document-selection-step.component';\nimport { FieldSelectionStepComponent } from './field-selection-step/field-selection-step.component';\nimport { FieldTreeSelectionStepComponent } from './field-tree-selection-step/field-tree-selection-step.component';\nimport { OperationSelectionStepComponent } from './operation-selection-step/operation-selection-step.component';\nimport { RecordIdFieldsStepComponent } from './record-id-fields-step/record-id-fields-step.component';\nimport { TableSelectionStepComponent } from './table-selection-step/table-selection-step.component';\nimport { WebApiSelectionStepComponent } from './web-api-selection-step/web-api-selection-step.component';\n\n@NgModule({\n  imports: [\n    AdaptButtonModule,\n    AdaptIconModule,\n    AdaptRxFormControlModule,\n    AdaptRxRadiobuttonModule,\n    AdaptRxSelectModule,\n    AdaptTooltipModule,\n    AdaptTreeModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RecordGridModule,\n    RxDefinitionModule,\n    RxRecordDefinitionResourceTypePipeModule,\n    RecordDesignerModule,\n    RxWizardModule,\n    TranslateModule,\n    AdaptPopoverModule\n  ],\n  providers: [ExternalRecordWizardService, RxDataSourceDataPageService, RxExternalDataService],\n  declarations: [\n    DataSourceStepComponent,\n    DocumentSelectionStepComponent,\n    FieldSelectionStepComponent,\n    FieldTreeSelectionStepComponent,\n    OperationSelectionStepComponent,\n    RecordIdFieldsStepComponent,\n    TableSelectionStepComponent,\n    WebApiSelectionStepComponent\n  ]\n})\nexport class ExternalRecordWizardModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptAlertModule, AdaptRxSelectModule, AdaptTooltipModule } from '@bmc-ux/adapt-angular';\nimport {\n  ExpressionFormControlModule,\n  RxDefinitionPickerModule,\n  RxWizardModule\n} from '@helix/platform/shared/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FieldSelectionStepComponent } from './field-selection-step/field-selection-step.component';\nimport { JoinCriteriaStepComponent } from './join-criteria-step/join-criteria-step.component';\nimport { RecordDefinitionsStepComponent } from './record-definitions-step/record-definitions-step.component';\nimport { JoinRecordWizardService } from './join-record-wizard.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RxDefinitionPickerModule,\n    TranslateModule,\n    AdaptRxSelectModule,\n    RxWizardModule,\n    AdaptAlertModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ExpressionFormControlModule\n  ],\n  providers: [JoinRecordWizardService],\n  declarations: [RecordDefinitionsStepComponent, JoinCriteriaStepComponent, FieldSelectionStepComponent]\n})\nexport class JoinRecordWizardModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { AxRecordDefinitionTypePipe } from './record-definition-type.pipe';\nimport { CreateCustomRecordModule } from '../create-custom-record/create-custom-record.module';\nimport { CreateJoinRecordModule } from '../create-join-record/create-join-record.module';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { ExternalRecordWizardModule } from '../external-record-wizard/external-record-wizard.module';\nimport { JoinRecordWizardModule } from '../join-record-wizard/join-record-wizard.module';\nimport { RecordDefinitionTabComponent } from './record-definition-tab.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DefinitionTabModule,\n    ExternalRecordWizardModule,\n    JoinRecordWizardModule,\n    CreateCustomRecordModule,\n    CreateJoinRecordModule\n  ],\n  declarations: [RecordDefinitionTabComponent, AxRecordDefinitionTypePipe],\n  exports: [RecordDefinitionTabComponent]\n})\nexport class RecordDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ViewDefinitionTabComponent } from './view-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { RouterModule } from '@angular/router';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { RenameDefinitionModalModule } from '@helix/platform/shared/components';\n\n@NgModule({\n  declarations: [ViewDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RouterModule, RxDefinitionModule, RenameDefinitionModalModule],\n  exports: [ViewDefinitionTabComponent]\n})\nexport class ViewDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProcessRunModalComponent } from './process-run-modal.component';\nimport { FormsModule } from '@angular/forms';\nimport { RxFormBuilderModule } from '@helix/platform/shared/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\n\n@NgModule({\n  declarations: [ProcessRunModalComponent],\n  imports: [CommonModule, FormsModule, RxFormBuilderModule, TranslateModule, AdaptButtonModule]\n})\nexport class ProcessRunModalModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProcessPreviewModalComponent } from './process-preview-modal.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\nimport { RxProcessPreviewModule } from '@helix/platform/process/components';\n\n@NgModule({\n  declarations: [ProcessPreviewModalComponent],\n  imports: [CommonModule, TranslateModule, AdaptButtonModule, RxProcessPreviewModule]\n})\nexport class ProcessPreviewModalModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProcessViewLogModalComponent } from './process-view-log-modal.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\nimport { RxProcessPreviewModule } from '@helix/platform/process/components';\nimport { AdaptEmptyStateModule } from '@bmc-ux/adapt-angular';\n\n@NgModule({\n  declarations: [ProcessViewLogModalComponent],\n  imports: [CommonModule, TranslateModule, AdaptButtonModule, AdaptEmptyStateModule, RxProcessPreviewModule]\n})\nexport class ProcessViewLogModalModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProcessManagementComponent } from './process-management.component';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport {\n  AdaptButtonModule,\n  AdaptDockedPanelModule,\n  AdaptEmptyStateModule,\n  AdaptIconModule,\n  AdaptRxFormControlModule,\n  AdaptRxSelectModule,\n  AdaptSidebarModule,\n  AdaptTabsModule,\n  AdaptTooltipModule,\n  AdaptTreeModule\n} from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule } from '@angular/forms';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { RxFormBuilderModule } from '@helix/platform/shared/components';\nimport { ProcessRunModalModule } from './process-run-modal/process-run-modal.module';\nimport { ProcessPreviewModalModule } from './process-preview-modal/process-preview-modal.module';\nimport { ProcessViewLogModalModule } from './process-view-log-modal/process-view-log-modal.module';\nimport { RxBreadcrumbBarModule } from '@helix/platform/ui-kit';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  declarations: [ProcessManagementComponent],\n  imports: [\n    CommonModule,\n    AdaptButtonModule,\n    AdaptDockedPanelModule,\n    TranslateModule,\n    AdaptIconModule,\n    AdaptTreeModule,\n    AdaptTabsModule,\n    AdaptRxSelectModule,\n    AdaptRxFormControlModule,\n    FormsModule,\n    RxDefinitionModule,\n    RecordGridModule,\n    ProcessPreviewModalModule,\n    ProcessViewLogModalModule,\n    ProcessRunModalModule,\n    RxFormBuilderModule,\n    RxBusyIndicatorModule,\n    RxBreadcrumbBarModule,\n    AdaptTooltipModule,\n    AdaptEmptyStateModule,\n    AdaptSidebarModule,\n    RouterModule\n  ]\n})\nexport class ProcessManagementModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProcessDefinitionTabComponent } from './process-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { ProcessManagementModule } from '../process-management/process-management.module';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\n\n@NgModule({\n  declarations: [ProcessDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, ProcessManagementModule, RxDefinitionModule],\n  exports: [ProcessDefinitionTabComponent]\n})\nexport class ProcessDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { RouterModule } from '@angular/router';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { RuleDefinitionTabComponent } from './rule-definition-tab.component';\nimport { RxRulePipesModule } from '@helix/platform/rule/api';\n@NgModule({\n  declarations: [RuleDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RouterModule, RxDefinitionModule, RxRulePipesModule],\n  exports: [RuleDefinitionTabComponent]\n})\nexport class RuleDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NamedListDefinitionTabComponent } from './named-list-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\n\n@NgModule({\n  declarations: [NamedListDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RxDefinitionModule],\n  exports: [NamedListDefinitionTabComponent]\n})\nexport class NamedListDefinitionTabModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { WebApiDefinitionTabComponent } from './web-api-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\n\n@NgModule({\n  declarations: [WebApiDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RxDefinitionModule, TranslateModule],\n  exports: [WebApiDefinitionTabComponent]\n})\nexport class WebApiDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ChatbotDefinitionTabComponent } from './chatbot-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\n\n@NgModule({\n  declarations: [ChatbotDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RxDefinitionModule],\n  exports: [ChatbotDefinitionTabComponent]\n})\nexport class ChatbotDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EventDefinitionTabComponent } from './event-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [EventDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RxDefinitionModule, TranslateModule],\n  exports: [EventDefinitionTabComponent]\n})\nexport class EventDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EventStatisticsDefinitionTabComponent } from './event-statistics-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [EventStatisticsDefinitionTabComponent],\n  imports: [CommonModule, DefinitionTabModule, RxDefinitionModule, TranslateModule],\n  exports: [EventStatisticsDefinitionTabComponent]\n})\nexport class EventStatisticsDefinitionTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ConfigurationDefinitionTabComponent } from './configuration-definition-tab.component';\nimport { DefinitionTabModule } from '../definition-tab/definition-tab.module';\nimport { RouterModule } from '@angular/router';\nimport { AdminSettingEditorComponent } from './admin-setting-editor/admin-setting-editor.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {\n  AdaptButtonModule,\n  AdaptModalModule,\n  AdaptRxCheckboxModule,\n  AdaptRxLabelModule,\n  AdaptRxTextfieldModule\n} from '@bmc-ux/adapt-angular';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RxDefinitionPickerModule, RxPermissionEditorModule } from '@helix/platform/shared/components';\n\n@NgModule({\n  declarations: [ConfigurationDefinitionTabComponent, AdminSettingEditorComponent],\n  imports: [\n    AdaptModalModule,\n    AdaptButtonModule,\n    CommonModule,\n    DefinitionTabModule,\n    RouterModule,\n    TranslateModule,\n    ReactiveFormsModule,\n    RxDefinitionPickerModule,\n    RxPermissionEditorModule,\n    AdaptRxTextfieldModule,\n    AdaptRxLabelModule,\n    AdaptRxCheckboxModule\n  ],\n  exports: [ConfigurationDefinitionTabComponent]\n})\nexport class ConfigurationDefinitionTabModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { AdaptTabsModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AssociationDefinitionTabModule } from '../association-definition-tab/association-definition-tab.module';\nimport { DocumentDefinitionTabModule } from '../document-definition-tab/document-definition-tab.module';\nimport { RecordDefinitionTabModule } from '../record-definition-tab/record-definition-tab.module';\nimport { ViewDefinitionTabModule } from '../view-definition-tab/view-definition-tab.module';\nimport { ProcessDefinitionTabModule } from '../process-definition-tab/process-definition-tab.module';\nimport { BundleDefinitionsComponent } from './bundle-definitions.component';\nimport { RuleDefinitionTabModule } from '../rule-definition-tab/rule-definition-tab.module';\nimport { NamedListDefinitionTabModule } from '../named-list-definition-tab/named-list-definition-tab.module';\nimport { WebApiDefinitionTabModule } from '../web-api-definition-tab/web-api-definition-tab.module';\nimport { ChatbotDefinitionTabModule } from '../chatbot-definition-tab/chatbot-definition-tab.module';\nimport { EventDefinitionTabModule } from '../event-definition-tab/event-definition-tab.module';\nimport { EventStatisticsDefinitionTabModule } from '../event-statistics-definition-tab/event-statistics-definition-tab.module';\nimport { ConfigurationDefinitionTabModule } from '../configuration-definition-tab/configuration-definition-tab.module';\n\n@NgModule({\n  imports: [\n    AdaptTabsModule,\n    ProcessDefinitionTabModule,\n    AssociationDefinitionTabModule,\n    ChatbotDefinitionTabModule,\n    CommonModule,\n    NamedListDefinitionTabModule,\n    DocumentDefinitionTabModule,\n    RecordDefinitionTabModule,\n    RuleDefinitionTabModule,\n    RouterModule,\n    TranslateModule,\n    ViewDefinitionTabModule,\n    EventDefinitionTabModule,\n    EventStatisticsDefinitionTabModule,\n    WebApiDefinitionTabModule,\n    ConfigurationDefinitionTabModule\n  ],\n  declarations: [BundleDefinitionsComponent],\n  exports: [BundleDefinitionsComponent]\n})\nexport class BundleDefinitionsModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptButtonModule,\n  AdaptDropdownModule,\n  AdaptIconModule,\n  AdaptPopoverModule,\n  AdaptRxCheckboxModule,\n  AdaptRxSelectModule,\n  AdaptRxSwitchModule\n} from '@bmc-ux/adapt-angular';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { ExpressionFormControlModule, RxDefinitionPickerModule } from '@helix/platform/shared/components';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AddBundleContentDataWizardStepComponent } from './add-bundle-content-data-wizard-step.component';\n\n@NgModule({\n  imports: [\n    AdaptButtonModule,\n    AdaptDropdownModule,\n    AdaptIconModule,\n    AdaptRxCheckboxModule,\n    AdaptRxSelectModule,\n    AdaptRxSwitchModule,\n    CommonModule,\n    ExpressionFormControlModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RecordGridModule,\n    RxDefinitionModule,\n    RxDefinitionPickerModule,\n    TranslateModule,\n    AdaptPopoverModule\n  ],\n  declarations: [AddBundleContentDataWizardStepComponent],\n  exports: [AddBundleContentDataWizardStepComponent]\n})\nexport class AddBundleContentDataWizardStepModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptButtonModule,\n  AdaptDropdownModule,\n  AdaptIconModule,\n  AdaptRxCheckboxModule,\n  AdaptRxSelectModule,\n  AdaptRxSwitchModule\n} from '@bmc-ux/adapt-angular';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { ExpressionFormControlModule, RxDefinitionPickerModule } from '@helix/platform/shared/components';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AddDataWizardStepComponent } from './add-data-wizard-step.component';\n\n@NgModule({\n  imports: [\n    AdaptButtonModule,\n    AdaptDropdownModule,\n    AdaptIconModule,\n    AdaptRxCheckboxModule,\n    AdaptRxSelectModule,\n    AdaptRxSwitchModule,\n    CommonModule,\n    ExpressionFormControlModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RecordGridModule,\n    RxDefinitionModule,\n    RxDefinitionPickerModule,\n    TranslateModule\n  ],\n  declarations: [AddDataWizardStepComponent],\n  exports: [AddDataWizardStepComponent]\n})\nexport class AddDataWizardStepModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DownloadWizardStepComponent } from './download-wizard-step.component';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\n\n@NgModule({\n  imports: [CommonModule, AdaptButtonModule, TranslateModule],\n  declarations: [DownloadWizardStepComponent],\n  exports: [DownloadWizardStepComponent]\n})\nexport class DownloadWizardStepModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptRxCheckboxModule,\n  AdaptRxLabelModule,\n  AdaptRxSelectModule,\n  AdaptRxTextfieldModule,\n  AdaptTreeModule\n} from '@bmc-ux/adapt-angular';\nimport { ReadOnlyFieldModule } from '@helix/platform/ui-kit';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { OptionsWizardStepComponent } from './options-wizard-step.component';\n\n@NgModule({\n  imports: [\n    AdaptRxCheckboxModule,\n    AdaptRxLabelModule,\n    AdaptRxTextfieldModule,\n    AdaptTreeModule,\n    AdaptRxSelectModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ReadOnlyFieldModule,\n    TranslateModule\n  ],\n  declarations: [OptionsWizardStepComponent],\n  exports: [OptionsWizardStepComponent]\n})\nexport class OptionsWizardStepModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptButtonModule, AdaptEmptyStateModule } from '@bmc-ux/adapt-angular';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { OrderDataWizardStepComponent } from './order-data-wizard-step.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, TranslateModule, AdaptButtonModule, RxDefinitionModule, AdaptEmptyStateModule],\n  declarations: [OrderDataWizardStepComponent],\n  exports: [OrderDataWizardStepComponent]\n})\nexport class OrderDataWizardStepModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { AdaptAlertModule, AdaptButtonModule, AdaptRxTextareaModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { PackageWizardStepComponent } from './package-wizard-step.component';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [CommonModule, AdaptAlertModule, AdaptButtonModule, TranslateModule, AdaptRxTextareaModule, FormsModule],\n  declarations: [PackageWizardStepComponent],\n  exports: [PackageWizardStepComponent]\n})\nexport class PackageWizardStepModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { SelectApprovalConfigurationsWizardStepComponent } from './select-approval-configurations-wizard-step.component';\n\n@NgModule({\n  imports: [CommonModule, RecordGridModule, TranslateModule],\n  declarations: [SelectApprovalConfigurationsWizardStepComponent],\n  exports: [SelectApprovalConfigurationsWizardStepComponent]\n})\nexport class SelectApprovalConfigurationsWizardStepModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { SelectBundleContentDefinitionsWizardStepComponent } from './select-bundle-content-definitions-wizard-step.component';\n\n@NgModule({\n  imports: [CommonModule, RecordGridModule, RxDefinitionModule, TranslateModule],\n  declarations: [SelectBundleContentDefinitionsWizardStepComponent],\n  exports: [SelectBundleContentDefinitionsWizardStepComponent]\n})\nexport class SelectBundleContentDefinitionsWizardStepModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptPopoverModule, AdaptIconModule } from '@bmc-ux/adapt-angular';\n\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { SelectDefinitionsToDeleteWizardStepComponent } from './select-definitions-to-delete-wizard-step.component';\n\n@NgModule({\n  imports: [CommonModule, RecordGridModule, TranslateModule, AdaptPopoverModule, AdaptIconModule, RxDefinitionModule],\n  declarations: [SelectDefinitionsToDeleteWizardStepComponent],\n  exports: [SelectDefinitionsToDeleteWizardStepComponent]\n})\nexport class SelectDefinitionsToDeleteWizardStepModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { SelectDefinitionsWizardStepComponent } from './select-definitions-wizard-step.component';\n\n@NgModule({\n  imports: [CommonModule, RecordGridModule, TranslateModule],\n  declarations: [SelectDefinitionsWizardStepComponent],\n  exports: [SelectDefinitionsWizardStepComponent]\n})\nexport class SelectDefinitionsWizardStepModule {}\n","import { CommonModule, DatePipe } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptBusyModule,\n  AdaptButtonModule,\n  AdaptButtonGroupModule,\n  AdaptRxLabelModule,\n  AdaptRxSelectModule,\n  AdaptRxTextfieldModule\n} from '@bmc-ux/adapt-angular';\nimport { AdaptTableModule } from '@bmc-ux/adapt-table';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ContentPackageImportLogsComponent } from './content-package-import-logs.component';\n\n@NgModule({\n  declarations: [ContentPackageImportLogsComponent],\n  imports: [\n    AdaptButtonModule,\n    AdaptButtonGroupModule,\n    AdaptRxSelectModule,\n    AdaptRxTextfieldModule,\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    RxBusyIndicatorModule,\n    ReactiveFormsModule,\n    RecordGridModule,\n    AdaptRxLabelModule,\n    AdaptTableModule,\n    AdaptBusyModule\n  ],\n  providers: [DatePipe]\n})\nexport class ContentPackageImportLogsModule {}\n","import { CommonModule, DatePipe } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptBusyModule,\n  AdaptButtonModule,\n  AdaptButtonGroupModule,\n  AdaptRxLabelModule,\n  AdaptRxSelectModule,\n  AdaptRxTextfieldModule\n} from '@bmc-ux/adapt-angular';\nimport { AdaptTableModule } from '@bmc-ux/adapt-table';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport { RecordGridModule } from '@helix/platform/view/components';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ManageContentPackagesComponent } from './manage-content-packages.component';\n\n@NgModule({\n  declarations: [ManageContentPackagesComponent],\n  imports: [\n    AdaptButtonModule,\n    AdaptButtonGroupModule,\n    AdaptRxSelectModule,\n    AdaptRxTextfieldModule,\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    RxBusyIndicatorModule,\n    ReactiveFormsModule,\n    RecordGridModule,\n    AdaptRxLabelModule,\n    AdaptTableModule,\n    AdaptBusyModule\n  ],\n  providers: [DatePipe]\n})\nexport class ManageContentPackagesModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport {\n  AdaptButtonModule,\n  AdaptDropdownModule,\n  AdaptIconModule,\n  AdaptPopoverModule,\n  AdaptTabsModule\n} from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AddBundleContentDataWizardStepModule } from '../bundle-action-wizard/add-bundle-content-data-wizard-step/add-bundle-content-data-wizard-step.module';\nimport { AddDataWizardStepModule } from '../bundle-action-wizard/add-data-wizard-step/add-data-wizard-step.module';\nimport { DownloadWizardStepModule } from '../bundle-action-wizard/download-wizard-step/download-wizard-step.module';\nimport { OptionsWizardStepModule } from '../bundle-action-wizard/options-wizard-step/options-wizard-step.module';\nimport { OrderDataWizardStepModule } from '../bundle-action-wizard/order-data-wizard-step/order-data-wizard-step.module';\nimport { PackageWizardStepModule } from '../bundle-action-wizard/package-wizard-step/package-wizard-step.module';\nimport { SelectApprovalConfigurationsWizardStepModule } from '../bundle-action-wizard/select-approval-configurations-wizard-step/select-approval-configurations-wizard-step.module';\nimport { SelectBundleContentDefinitionsWizardStepModule } from '../bundle-action-wizard/select-bundle-content-definitions-wizard-step/select-bundle-content-definitions-wizard-step.module';\nimport { SelectDefinitionsToDeleteWizardStepModule } from '../bundle-action-wizard/select-definitions-to-delete-wizard-step/select-definitions-to-delete-wizard-step.module';\nimport { SelectDefinitionsWizardStepModule } from '../bundle-action-wizard/select-definitions-wizard-step/select-definitions-wizard-step.module';\nimport { ContentPackageImportLogsModule } from '../content-package-import-logs/content-package-import-logs.module';\nimport { ManageContentPackagesModule } from '../manage-content-packages/manage-content-packages.module';\nimport { BundleDetailsComponent } from './bundle-details.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    AdaptButtonModule,\n    AdaptTabsModule,\n    RouterModule,\n    AdaptIconModule,\n    AdaptPopoverModule,\n    AdaptDropdownModule,\n    TranslateModule,\n    AddBundleContentDataWizardStepModule,\n    AddDataWizardStepModule,\n    ContentPackageImportLogsModule,\n    DownloadWizardStepModule,\n    ManageContentPackagesModule,\n    OptionsWizardStepModule,\n    OrderDataWizardStepModule,\n    PackageWizardStepModule,\n    SelectApprovalConfigurationsWizardStepModule,\n    SelectBundleContentDefinitionsWizardStepModule,\n    SelectDefinitionsToDeleteWizardStepModule,\n    SelectDefinitionsWizardStepModule\n  ],\n  declarations: [BundleDetailsComponent],\n  exports: [BundleDetailsComponent]\n})\nexport class BundleDetailsModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxIframeModule } from '@helix/platform/shared/components';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport { RecordDataEditorComponent } from './record-data-editor.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RecordGridModule, ActionButtonModule } from '@helix/platform/view/components';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RxIframeModule,\n    RxBusyIndicatorModule,\n    TranslateModule,\n    RecordGridModule,\n    AdaptButtonModule,\n    RxDefinitionModule,\n    ActionButtonModule\n  ],\n  declarations: [RecordDataEditorComponent],\n  exports: [RecordDataEditorComponent]\n})\nexport class RecordDataEditorModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxIframeModule } from '@helix/platform/shared/components';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport { DesignerFrameComponent } from './designer-frame.component';\n\n@NgModule({\n  imports: [CommonModule, RxIframeModule, RxBusyIndicatorModule],\n  declarations: [DesignerFrameComponent],\n  exports: [DesignerFrameComponent]\n})\nexport class DesignerFrameModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CreateBundleModalComponent } from './create-bundle-modal.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptButtonModule, AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n@NgModule({\n  declarations: [CreateBundleModalComponent],\n  imports: [CommonModule, TranslateModule, AdaptButtonModule, AdaptRxTextfieldModule, FormsModule, ReactiveFormsModule]\n})\nexport class CreateBundleModalModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AdaptButtonModule, AdaptButtonGroupModule, AdaptDropdownModule } from '@bmc-ux/adapt-angular';\nimport { AdaptTableModule } from '@bmc-ux/adapt-table';\nimport { WorkspaceComponent } from './workspace.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CreateBundleModalModule } from './create-bundle-modal/create-bundle-modal.module';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  declarations: [WorkspaceComponent],\n  imports: [\n    CommonModule,\n    AdaptTableModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AdaptButtonModule,\n    AdaptButtonGroupModule,\n    AdaptDropdownModule,\n    TranslateModule,\n    CreateBundleModalModule,\n    RouterModule\n  ]\n})\nexport class WorkspaceModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CopyDefinitionComponent } from './copy-definition.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptBusyModule, AdaptButtonModule, AdaptRxSelectModule, AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [CopyDefinitionComponent],\n  imports: [\n    AdaptButtonModule,\n    AdaptRxSelectModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    TranslateModule,\n    AdaptRxTextfieldModule,\n\n    AdaptBusyModule\n  ]\n})\nexport class CopyDefinitionModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { DocumentDesignerPageModule } from '@helix/platform/document/designer';\n\nimport { RxAssociationDesignerPageModule } from '@helix/platform/association/designer';\nimport { ConfigDesignerPageModule } from '@helix/platform/config/designer';\nimport { RxViewDesignerPageModule } from '@helix/platform/view/designer-page';\nimport { ProcessDesignerPageModule } from '@helix/platform/process/designer';\nimport { RxShellDesignerPageModule } from '@helix/platform/view/shell-designer-page';\nimport { ComBmcArsysRxInnovationstudioRoutingModule } from './com-bmc-arsys-rx-innovationstudio-routing.module';\nimport { BundleDefinitionsModule } from './components/bundle-definitions/bundle-definitions.module';\nimport { BundleDetailsModule } from './components/bundle-details/bundle-details.module';\nimport { RecordDataEditorModule } from './components/data-editor/record-data-editor.module';\nimport { DesignerFrameModule } from './components/designer-frame/designer-frame.module';\nimport { WorkspaceModule } from './components/workspace/workspace.module';\nimport { CopyDefinitionModule } from './components/copy-definition/copy-definition.module';\nimport { RecordDesignerPageModule } from '@helix/platform/record/designer';\nimport { RxNamedListDesignerPageModule } from '@helix/platform/named-list/designer';\nimport { RxWebApiDesignerPageModule } from '@helix/platform/web-api/designer';\nimport { RxEventDesignerPageModule } from '@helix/platform/event/designer';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ComBmcArsysRxInnovationstudioRoutingModule,\n    BundleDetailsModule,\n    BundleDefinitionsModule,\n    DesignerFrameModule,\n    DocumentDesignerPageModule,\n    CopyDefinitionModule,\n    RecordDataEditorModule,\n    WorkspaceModule,\n    RxViewDesignerPageModule,\n    RxShellDesignerPageModule,\n    RxAssociationDesignerPageModule,\n    RxNamedListDesignerPageModule,\n    ProcessDesignerPageModule,\n    RecordDesignerPageModule,\n    RxWebApiDesignerPageModule,\n    RxEventDesignerPageModule,\n    ConfigDesignerPageModule\n  ]\n})\nexport class ComBmcArsysRxInnovationstudioModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["map","FieldSelectionStepComponent","_map","JoinCriteriaExpressionConfigurator","_filter","AX_ADD_DATA_WIZARD_STEP","DataFilterColumnExpressionConfiguratorClass","GlobalDataFilterExpressionConfiguratorClass","filter","noop"],"mappings":"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"}